"use strict";(self.webpackChunkscripting_doc=self.webpackChunkscripting_doc||[]).push([["430"],{5655:function(e,n,r){r.r(n),r.d(n,{default:()=>d});var t=r(5893),a=r(65);function s(e){let n=Object.assign({p:"p",code:"code",h2:"h2",a:"a",h3:"h3",ul:"ul",li:"li",pre:"pre",hr:"hr",ol:"ol",strong:"strong"},(0,a.ah)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"Assistant"})," module provides a powerful API that allows users to request structured JSON data from the assistant. This functionality can be used for automation tasks such as extracting bill details, categorizing expenses, or parsing text data."]}),"\n",(0,t.jsxs)(n.h2,{id:"isavailable-variable",children:[(0,t.jsx)(n.code,{children:"isAvailable"})," Variable",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#isavailable-variable",children:"#"})]}),"\n",(0,t.jsxs)(n.h3,{id:"description",children:["Description",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#description",children:"#"})]}),"\n",(0,t.jsx)(n.p,{children:"Indicates whether the Assistant API is available."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"This status depends on the selected AI provider and whether a valid API Key is configured."}),"\n",(0,t.jsx)(n.li,{children:"If the appropriate API Key is not provided, the Assistant API will be unavailable."}),"\n"]}),"\n",(0,t.jsxs)(n.h2,{id:"requeststructureddata-method",children:[(0,t.jsx)(n.code,{children:"requestStructuredData"})," Method",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#requeststructureddata-method",children:"#"})]}),"\n",(0,t.jsxs)(n.h3,{id:"description-1",children:["Description",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#description-1",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"requestStructuredData"})," allows users to send a text prompt to the assistant and receive structured data in JSON format based on a defined schema."]}),"\n",(0,t.jsxs)(n.h3,{id:"syntax",children:["Syntax",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#syntax",children:"#"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"function requestStructuredData<R>(prompt: string, schema: JSONSchemaArray | JSONSchemaObject): Promise<R>;\n"})}),"\n",(0,t.jsxs)(n.h3,{id:"parameters",children:["Parameters",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#parameters",children:"#"})]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"prompt"})," (",(0,t.jsx)(n.code,{children:"string"}),"): The input prompt describing the content to be parsed."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"schema"})," (",(0,t.jsx)(n.code,{children:"JSONSchemaArray | JSONSchemaObject"}),"): The expected output JSON schema, defining the structure of the returned data."]}),"\n"]}),"\n",(0,t.jsxs)(n.h3,{id:"return-value",children:["Return Value",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#return-value",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["Returns a ",(0,t.jsx)(n.code,{children:"Promise"})," resolving to structured JSON data that matches the ",(0,t.jsx)(n.code,{children:"schema"})," definition, with a type of ",(0,t.jsx)(n.code,{children:"R"}),"."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.h2,{id:"json-schema-definition",children:["JSON Schema Definition",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#json-schema-definition",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"schema"})," parameter in the ",(0,t.jsx)(n.code,{children:"requestStructuredData"})," method defines the structure of the returned JSON data, with the following types:"]}),"\n",(0,t.jsxs)(n.h3,{id:"jsonschematype",children:[(0,t.jsx)(n.code,{children:"JSONSchemaType"}),(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#jsonschematype",children:"#"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"type JSONSchemaType = JSONSchemaPrimitive | JSONSchemaArray | JSONSchemaObject;\n"})}),"\n",(0,t.jsx)(n.p,{children:"Primitive data type definition:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'type JSONSchemaPrimitive = {\n    type: "string" | "number" | "boolean";\n    required?: boolean;\n    description: string;\n};\n'})}),"\n",(0,t.jsx)(n.p,{children:"Array type definition:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'type JSONSchemaArray = {\n    type: "array";\n    items: JSONSchemaType;\n    required?: boolean;\n    description: string;\n};\n'})}),"\n",(0,t.jsx)(n.p,{children:"Object type definition:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'type JSONSchemaObject = {\n    type: "object";\n    properties: Record<string, JSONSchemaType>;\n    required?: boolean;\n    description: string;\n};\n'})}),"\n",(0,t.jsxs)(n.h3,{id:"example",children:["Example",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'const schema: JSONSchemaObject = {\n    type: "object",\n    properties: {\n        totalAmount: {\n            type: "number",\n            required: true,\n            description: "Total bill amount",\n        },\n        category: {\n            type: "string",\n            required: true,\n            description: "Bill category",\n        },\n        date: {\n            type: "string",\n            required: false,\n            description: "Bill date",\n        },\n        location: {\n            type: "string",\n            required: false,\n            description: "Bill location",\n        },\n    },\n};\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.h2,{id:"example-usage",children:["Example Usage",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example-usage",children:"#"})]}),"\n",(0,t.jsxs)(n.h3,{id:"parsing-bill-information",children:["Parsing Bill Information",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#parsing-bill-information",children:"#"})]}),"\n",(0,t.jsx)(n.p,{children:"Suppose we have a bill, and we need to extract its amount, date, category, and location."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const someBillDetails = `\n- Amount: $15.00\n- Date: 2024-03-11 14:30\n- Location: City Center Parking Lot\n- Category: Parking\n`;\n\nconst prompt = `Please parse the following bill and output the structured data: ${someBillDetails}`;\n\nconst data = await Assistant.requestStructuredData(prompt, schema);\nconsole.log(data);\n"})}),"\n",(0,t.jsxs)(n.h3,{id:"possible-output",children:["Possible Output",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#possible-output",children:"#"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n    "totalAmount": 15.0,\n    "category": "Parking",\n    "date": "2024-03-11 14:30",\n    "location": "City Center Parking Lot"\n}\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.h2,{id:"usage-considerations",children:["Usage Considerations",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#usage-considerations",children:"#"})]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsxs)(n.strong,{children:["Ensure the ",(0,t.jsx)(n.code,{children:"schema"})," is correctly defined"]}),": The JSON schema should match the expected data format."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsxs)(n.strong,{children:["Use ",(0,t.jsx)(n.code,{children:"required"})," attributes carefully"]}),": If a field is essential, set ",(0,t.jsx)(n.code,{children:"required: true"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsxs)(n.strong,{children:["Provide a clear ",(0,t.jsx)(n.code,{children:"prompt"})]}),": A detailed ",(0,t.jsx)(n.code,{children:"prompt"})," improves the accuracy of the assistant's response."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Error Handling"}),": Since ",(0,t.jsx)(n.code,{children:"requestStructuredData"})," returns a ",(0,t.jsx)(n.code,{children:"Promise"}),", handle potential errors using ",(0,t.jsx)(n.code,{children:"try-catch"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Example error handling:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'try {\n    const data = await Assistant.requestStructuredData(prompt, schema);\n    console.log("Parsed result:", data);\n} catch (error) {\n    console.error("Parsing failed:", error);\n}\n'})})]})}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,a.ah)(),e.components);return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(s,{...e})}):s(e)}let d=i;i.__RSPRESS_PAGE_META={},i.__RSPRESS_PAGE_META["en%2Fguide%2Fdocs%2Fassistant.md"]={toc:[{text:"`isAvailable` Variable",id:"isavailable-variable",depth:2},{text:"Description",id:"description",depth:3},{text:"`requestStructuredData` Method",id:"requeststructureddata-method",depth:2},{text:"Description",id:"description-1",depth:3},{text:"Syntax",id:"syntax",depth:3},{text:"Parameters",id:"parameters",depth:3},{text:"Return Value",id:"return-value",depth:3},{text:"JSON Schema Definition",id:"json-schema-definition",depth:2},{text:"`JSONSchemaType`",id:"jsonschematype",depth:3},{text:"Example",id:"example",depth:3},{text:"Example Usage",id:"example-usage",depth:2},{text:"Parsing Bill Information",id:"parsing-bill-information",depth:3},{text:"Possible Output",id:"possible-output",depth:3},{text:"Usage Considerations",id:"usage-considerations",depth:2}],title:"",headingTitle:"",frontmatter:{}}}}]);