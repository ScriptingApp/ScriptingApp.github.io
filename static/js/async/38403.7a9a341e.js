"use strict";(self.rspackChunktest=self.rspackChunktest||[]).push([["38403"],{26766(e,s,n){n.r(s),n.d(s,{default:()=>o});var r=n(74848),i=n(28453);function l(e){let s={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.p,{children:["一个强大的代码编辑器，既可以通过编程方式控制，也可以嵌入自定义视图中展示。编辑器支持语法高亮、读写访问以及完整的生命周期管理，主要通过 ",(0,r.jsx)(s.code,{children:"EditorController"})," 类和 ",(0,r.jsx)(s.code,{children:"Editor"})," 组件来实现。"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h2,{id:"editorcontroller",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#editorcontroller",children:"#"}),"EditorController"]}),"\n",(0,r.jsxs)(s.h3,{id:"概述",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#概述",children:"#"}),"概述"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"EditorController"})," 用于管理一个编辑器实例。你可以配置初始内容、监听用户修改、展示或隐藏编辑器，并在不再使用时释放资源。"]}),"\n",(0,r.jsxs)(s.h3,{id:"构造函数",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#构造函数",children:"#"}),"构造函数"]}),"\n",(0,r.jsx)(s.p,{children:"用于创建一个新的编辑器控制器实例。"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"参数说明"}),"："]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"content"}),"（可选）：编辑器的初始文本内容。"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"ext"}),"（可选）：文件扩展名，用于指定语法高亮语言。支持的类型包括 ",(0,r.jsx)(s.code,{children:"tsx"}),"、",(0,r.jsx)(s.code,{children:"ts"}),"、",(0,r.jsx)(s.code,{children:"js"}),"、",(0,r.jsx)(s.code,{children:"jsx"}),"、",(0,r.jsx)(s.code,{children:"txt"}),"、",(0,r.jsx)(s.code,{children:"md"}),"、",(0,r.jsx)(s.code,{children:"css"}),"、",(0,r.jsx)(s.code,{children:"html"})," 和 ",(0,r.jsx)(s.code,{children:"json"}),"。"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"readOnly"}),"（可选）：是否启用只读模式，默认为 ",(0,r.jsx)(s.code,{children:"false"}),"。"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h3,{id:"属性说明",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#属性说明",children:"#"}),"属性说明"]}),"\n",(0,r.jsxs)(s.h4,{id:"ext",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#ext",children:"#"}),(0,r.jsx)(s.code,{children:"ext"})]}),"\n",(0,r.jsx)(s.p,{children:"只读属性，表示初始化时提供的文件扩展名，用于决定使用哪种语法高亮。"}),"\n",(0,r.jsxs)(s.h4,{id:"content",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#content",children:"#"}),(0,r.jsx)(s.code,{children:"content"})]}),"\n",(0,r.jsx)(s.p,{children:"一个字符串，表示当前编辑器的文本内容。可以直接修改该值以更新编辑器内容。"}),"\n",(0,r.jsxs)(s.h4,{id:"oncontentchanged",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#oncontentchanged",children:"#"}),(0,r.jsx)(s.code,{children:"onContentChanged"})]}),"\n",(0,r.jsxs)(s.p,{children:["可选回调函数，在用户修改内容后大约 ",(0,r.jsx)(s.strong,{children:"100 毫秒"})," 被调用。该函数不会在每次输入时立即触发，适合用于防抖、自动保存等逻辑。"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h3,{id:"方法说明",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#方法说明",children:"#"}),"方法说明"]}),"\n",(0,r.jsxs)(s.h4,{id:"presentoptions",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#presentoptions",children:"#"}),(0,r.jsx)(s.code,{children:"present(options?)"})]}),"\n",(0,r.jsx)(s.p,{children:"以模态方式展示编辑器。"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"参数说明"}),"："]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"navigationTitle"}),"（可选）：设置编辑器的顶部标题。"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"scriptName"}),"（可选）：用于覆盖默认的 ",(0,r.jsx)(s.code,{children:"Script.name"}),"，默认为 ",(0,r.jsx)(s.code,{children:'"Temporary Script"'}),"。"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"fullscreen"}),"（可选）：是否全屏显示编辑器，默认为 ",(0,r.jsx)(s.code,{children:"false"}),"。"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"返回值"}),"：返回一个 ",(0,r.jsx)(s.code,{children:"Promise"}),"，在编辑器被关闭时完成。"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h4,{id:"dismiss",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#dismiss",children:"#"}),(0,r.jsx)(s.code,{children:"dismiss()"})]}),"\n",(0,r.jsxs)(s.p,{children:["关闭当前展示的编辑器界面。注意，这不会销毁控制器实例，因此可以稍后再次调用 ",(0,r.jsx)(s.code,{children:"present()"}),"。"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"返回值"}),"：返回一个 ",(0,r.jsx)(s.code,{children:"Promise"}),"，在编辑器关闭后完成。"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h4,{id:"dispose",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#dispose",children:"#"}),(0,r.jsx)(s.code,{children:"dispose()"})]}),"\n",(0,r.jsxs)(s.p,{children:["释放控制器占用的资源。",(0,r.jsx)(s.strong,{children:"必须在不再使用控制器时调用此方法"}),"，以防止内存泄漏。一旦调用该方法，控制器将无法再次使用。"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h2,{id:"editor-组件",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#editor-组件",children:"#"}),"Editor 组件"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"Editor"})," 是一个 React 风格的组件，用于在 UI 中内联渲染编辑器。通常与 ",(0,r.jsx)(s.code,{children:"EditorController"})," 实例搭配使用。"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"属性说明"}),"："]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"controller"}),"：编辑器控制器实例，用于管理内容和状态。"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"scriptName"}),"（可选）：用于指定当前编辑器的脚本名称。"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"showAccessoryView"})," (可选): 当键盘可见时是否显示附件视图。这对于显示“左移”、“右移”、“删除”、“关闭键盘”等按钮非常有用。默认为 false。当编辑器在屏幕上完全可见时（例如，当编辑器是屏幕上唯一的视图时），建议将其设置为 true。"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h3,{id:"示例代码",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#示例代码",children:"#"}),"示例代码"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"tsx",children:(0,r.jsxs)(s.code,{children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" MyEditor"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"() {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"  const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" controller"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" useMemo"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(() "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"    return"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" new"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" EditorController"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"({"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      content"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:' `const text = "Hello, World!"`'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      ext"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "ts"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      readOnly"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" false"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    })"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  }"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" [])"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  "})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"  useEffect"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(() "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"    return"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"      // 组件卸载时释放资源"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"      controller"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".dispose"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"()"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    }"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  }"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" [controller])"})]}),"\n",(0,r.jsx)(s.span,{className:"line"}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"  return"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    <"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Editor"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"      controller"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"{controller}"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"      scriptName"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"My Script"'})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"      showAccessoryView"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    />"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  )"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})})]})}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}o.__RSPRESS_PAGE_META={},o.__RSPRESS_PAGE_META["v2.4.6%2Fzh%2Fguide%2FViews%2FEditor.md"]={toc:[{id:"editorcontroller",text:"EditorController",depth:2},{id:"概述",text:"概述",depth:3},{id:"构造函数",text:"构造函数",depth:3},{id:"属性说明",text:"属性说明",depth:3},{id:"ext",text:"`ext`",depth:4},{id:"content",text:"`content`",depth:4},{id:"oncontentchanged",text:"`onContentChanged`",depth:4},{id:"方法说明",text:"方法说明",depth:3},{id:"presentoptions",text:"`present(options?)`",depth:4},{id:"dismiss",text:"`dismiss()`",depth:4},{id:"dispose",text:"`dispose()`",depth:4},{id:"editor-组件",text:"Editor 组件",depth:2},{id:"示例代码",text:"示例代码",depth:3}],title:"编辑器",headingTitle:"",frontmatter:{title:"编辑器",description:"一个提供富文本编辑界面的视图。"}}}}]);