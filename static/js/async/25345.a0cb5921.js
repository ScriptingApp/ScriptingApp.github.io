"use strict";(self.rspackChunktest=self.rspackChunktest||[]).push([["25345"],{87224(s,e,n){n.r(e),n.d(e,{default:()=>l});var i=n(74848),r=n(28453);function o(s){let e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...s.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(e.p,{children:["The ",(0,i.jsx)(e.code,{children:"LiveActivity"})," API enables you to display real-time, dynamic information from your script on the Lock Screen and, where supported, in the Dynamic Island on iOS devices. It provides a structured interface to start, update, and end Live Activities, and observe their state throughout their lifecycle."]}),"\n",(0,i.jsxs)(e.p,{children:["This document provides a complete guide to using the ",(0,i.jsx)(e.strong,{children:"LiveActivity API"})," in the Scripting app, including:"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Core concepts and lifecycle"}),"\n",(0,i.jsx)(e.li,{children:"How to register a Live Activity UI"}),"\n",(0,i.jsx)(e.li,{children:"How to start, update, and end Live Activities"}),"\n",(0,i.jsx)(e.li,{children:"UI layout for Dynamic Island and Lock Screen"}),"\n",(0,i.jsx)(e.li,{children:"Full TypeScript/TSX examples"}),"\n",(0,i.jsx)(e.li,{children:"Detailed descriptions of every type and option"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"The API wraps Apple’s ActivityKit and brings it into the Scripting environment with a React-style UI building approach."}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsxs)(e.h1,{id:"1-understanding-live-activities",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#1-understanding-live-activities",children:"#"}),"1. Understanding Live Activities"]}),"\n",(0,i.jsx)(e.p,{children:"A Live Activity can appear in the following regions:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Lock Screen"}),"\n",(0,i.jsx)(e.li,{children:"Dynamic Island (iPhone 14 Pro and later)"}),"\n",(0,i.jsx)(e.li,{children:"Banner-style presentation on devices without Dynamic Island"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"Live Activities are used for time-based and progress-based information, such as:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Timers"}),"\n",(0,i.jsx)(e.li,{children:"Fitness progress"}),"\n",(0,i.jsx)(e.li,{children:"Delivery tracking"}),"\n",(0,i.jsx)(e.li,{children:"Countdowns and reminders"}),"\n",(0,i.jsx)(e.li,{children:"Real-time status updates"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"In Scripting, each Live Activity consists of:"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"contentState"})," (a JSON-serializable object that updates over time)"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"UI Builder"})," (a function that produces TSX UI for each state)"]}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsxs)(e.h1,{id:"2-live-activity-state-types",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#2-live-activity-state-types",children:"#"}),"2. Live Activity State Types"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,i.jsx)(e.code,{children:(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" LiveActivityState"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "active"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" |"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "dismissed"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" |"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "ended"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" |"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "stale"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:";"})]})})})}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"State"}),(0,i.jsx)(e.th,{children:"Description"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"active"}),(0,i.jsx)(e.td,{children:"The Live Activity is visible and can receive content updates."})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"stale"}),(0,i.jsx)(e.td,{children:"The Live Activity is out of date. The system expects an update."})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"ended"}),(0,i.jsx)(e.td,{children:"The Live Activity ended but may remain visible for up to four hours or a user-defined time."})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"dismissed"}),(0,i.jsx)(e.td,{children:"The Live Activity is no longer visible."})]})]})]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsxs)(e.h1,{id:"3-liveactivitydetail-type",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#3-liveactivitydetail-type",children:"#"}),"3. LiveActivityDetail Type"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,i.jsxs)(e.code,{children:[(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" LiveActivityDetail"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  id"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" string"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  state"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" LiveActivityState"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"};"})})]})})}),"\n",(0,i.jsx)(e.p,{children:"Represents a summary of each active Live Activity."}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsxs)(e.h1,{id:"4-live-activity-ui-types",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#4-live-activity-ui-types",children:"#"}),"4. Live Activity UI Types"]}),"\n",(0,i.jsxs)(e.h2,{id:"41-liveactivityuiprops",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#41-liveactivityuiprops",children:"#"}),"4.1 LiveActivityUIProps"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,i.jsxs)(e.code,{children:[(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" LiveActivityUIProps"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  content"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" VirtualNode"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  compactLeading"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" VirtualNode"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  compactTrailing"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" VirtualNode"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  minimal"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" VirtualNode"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  children"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" VirtualNode"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" |"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" VirtualNode"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"[];"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"};"})})]})})}),"\n",(0,i.jsx)(e.p,{children:"These regions correspond to ActivityKit’s UI areas:"}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"Property"}),(0,i.jsx)(e.th,{children:"Region"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"content"}),(0,i.jsx)(e.td,{children:"Lock Screen and non–Dynamic Island devices"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"compactLeading"}),(0,i.jsx)(e.td,{children:"Leading area of compact Dynamic Island"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"compactTrailing"}),(0,i.jsx)(e.td,{children:"Trailing area of compact Dynamic Island"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"minimal"}),(0,i.jsx)(e.td,{children:"The smallest pill-style display"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"children"}),(0,i.jsx)(e.td,{children:"The expanded Dynamic Island layout (multiple regions)"})]})]})]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsxs)(e.h1,{id:"5-registering-a-live-activity-ui",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#5-registering-a-live-activity-ui",children:"#"}),"5. Registering a Live Activity UI"]}),"\n",(0,i.jsxs)(e.p,{children:["Live Activities ",(0,i.jsx)(e.strong,{children:"must"})," be registered inside a standalone file such as ",(0,i.jsx)(e.code,{children:"live_activity.tsx"}),"."]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"tsx",children:(0,i.jsxs)(e.code,{children:[(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" { LiveActivity"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" LiveActivityUI"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" LiveActivityUIBuilder } "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "scripting"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsx)(e.span,{className:"line"}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" type"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" State"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  mins"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" number"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"};"})}),"\n",(0,i.jsx)(e.span,{className:"line"}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" ContentView"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(state"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" State"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:") {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"  return"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    <"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"HStack"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" activityBackgroundTint"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"{{ light"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "clear"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" dark"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "clear"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" }}>"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"      <"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Image"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" systemName"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"waterbottle"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" foregroundStyle"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"systemBlue"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" />"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"      <"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Text"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">{"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"state"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:".mins} minutes left until the next drink</"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Text"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    </"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"HStack"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  );"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"}"})}),"\n",(0,i.jsx)(e.span,{className:"line"}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" builder"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" LiveActivityUIBuilder"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"State"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"> "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" (state) "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"  return"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    <"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"LiveActivityUI"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"      content"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"{<"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"ContentView"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"..."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"state} />}"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"      compactLeading"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"{"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"        <"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"HStack"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"          <"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Image"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" systemName"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"clock"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" />"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"          <"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Text"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">{"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"state"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:".mins}m</"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Text"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"        </"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"HStack"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"      }"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"      compactTrailing"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"{<"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Image"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" systemName"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"waterbottle"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" foregroundStyle"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"systemBlue"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" />}"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"      minimal"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"{<"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Image"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" systemName"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"clock"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" />}>"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"      <"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"LiveActivityUIExpandedCenter"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"        <"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"ContentView"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"..."}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"state} />"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"      </"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"LiveActivityUIExpandedCenter"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    </"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"LiveActivityUI"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  );"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"};"})}),"\n",(0,i.jsx)(e.span,{className:"line"}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" MyLiveActivity"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" LiveActivity"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".register"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"MyLiveActivity"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" builder);"})]})]})})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsxs)(e.h1,{id:"6-using-a-live-activity-in-your-script",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#6-using-a-live-activity-in-your-script",children:"#"}),"6. Using a Live Activity in Your Script"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"tsx",children:(0,i.jsxs)(e.code,{children:[(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  Button"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  Text"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  VStack"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  Navigation"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  NavigationStack"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  useMemo"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  useState"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  LiveActivityState"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  BackgroundKeeper"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"} "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "scripting"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsx)(e.span,{className:"line"}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" { MyLiveActivity } "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "./live_activity"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsx)(e.span,{className:"line"}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" Example"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"() {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"  const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" dismiss"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" Navigation"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".useDismiss"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"();"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"  const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" ["}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"state"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" setState"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"] "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" useState"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"LiveActivityState"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">();"})]}),"\n",(0,i.jsx)(e.span,{className:"line"}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"  const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" activity"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" useMemo"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(() "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"    const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" instance"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" MyLiveActivity"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"();"})]}),"\n",(0,i.jsx)(e.span,{className:"line"}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"    instance"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".addUpdateListener"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"((s) "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"      setState"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(s);"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"      if"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" (s "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"==="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "dismissed"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:") {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"        BackgroundKeeper"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".stop"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"();"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"      }"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    });"})}),"\n",(0,i.jsx)(e.span,{className:"line"}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"    return"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" instance;"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  }"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" []);"})]}),"\n",(0,i.jsx)(e.span,{className:"line"}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"  return"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    <"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"NavigationStack"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"      <"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"VStack"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"        navigationTitle"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Live Activity Example"'})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"        navigationBarTitleDisplayMode"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"inline"'})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"        toolbar"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"{{"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"          cancellationAction"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" <"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Button"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" title"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Done"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" action"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"{dismiss} />"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"        }}>"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"        <"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Text"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">Activity State: {state "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"??"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "-"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"}</"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Text"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,i.jsx)(e.span,{className:"line"}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"        <"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Button"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"          title"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Start Live Activity"'})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"          disabled"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"{state "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"!="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" null"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"}"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"          action"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"{() "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"            let"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" count "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 5"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"            BackgroundKeeper"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".keepAlive"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"();"})]}),"\n",(0,i.jsx)(e.span,{className:"line"}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"            activity"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".start"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"({ mins"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" count });"})]}),"\n",(0,i.jsx)(e.span,{className:"line"}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"            function"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" tick"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"() {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"              setTimeout"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(() "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"                count "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"-="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 1"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"                if"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" (count "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"==="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 0"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:") {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"                  activity"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".end"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"({ mins"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 0"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" });"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"                  BackgroundKeeper"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".stop"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"();"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"                } "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"else"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"                  activity"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".update"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"({ mins"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" count });"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"                  tick"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"();"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"                }"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"              }"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 60000"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:");"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"            }"})}),"\n",(0,i.jsx)(e.span,{className:"line"}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"            tick"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"();"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"          }}"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"        />"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"      </"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"VStack"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    </"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"NavigationStack"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  );"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"}"})}),"\n",(0,i.jsx)(e.span,{className:"line"}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"async"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" function"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" run"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"() {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"  await"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" Navigation"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".present"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(<"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Example"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" />);"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"  Script"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".exit"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"();"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"}"})}),"\n",(0,i.jsx)(e.span,{className:"line"}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"run"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"();"})]})]})})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsxs)(e.h1,{id:"7-liveactivity-class-api-reference",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#7-liveactivity-class-api-reference",children:"#"}),"7. LiveActivity Class API Reference"]}),"\n",(0,i.jsxs)(e.h2,{id:"71-startcontentstate-options",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#71-startcontentstate-options",children:"#"}),"7.1 start(contentState, options?)"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,i.jsx)(e.code,{children:(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"start"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(contentState: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"T"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" options"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" LiveActivityOptions): "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Promise"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"boolean"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:">"})]})})})}),"\n",(0,i.jsx)(e.p,{children:"Starts a Live Activity."}),"\n",(0,i.jsxs)(e.h3,{id:"liveactivityoptions",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#liveactivityoptions",children:"#"}),"LiveActivityOptions"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,i.jsxs)(e.code,{children:[(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" LiveActivityOptions"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  staleDate"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" number"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" |"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" Date"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  relevanceScore"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" number"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"};"})})]})})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"staleDate"}),": Timestamp(ms) or Date object at which the activity becomes stale"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"relevanceScore"}),": Determines which Live Activity is prioritized in the Dynamic Island"]}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsxs)(e.h2,{id:"72-updatecontentstate-options",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#72-updatecontentstate-options",children:"#"}),"7.2 update(contentState, options?)"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,i.jsx)(e.code,{children:(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"update"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(contentState: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"T"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" options"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" LiveActivityUpdateOptions)"})]})})})}),"\n",(0,i.jsxs)(e.h3,{id:"liveactivityupdateoptions",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#liveactivityupdateoptions",children:"#"}),"LiveActivityUpdateOptions"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,i.jsxs)(e.code,{children:[(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" LiveActivityUpdateOptions"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  staleDate"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" number"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" |"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" Date"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  relevanceScore"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" number"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  alert"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    title"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" string"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    body"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" string"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:";"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  };"})}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"};"})})]})})}),"\n",(0,i.jsx)(e.p,{children:"Alerts appear on Apple Watch when sending an update."}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsxs)(e.h2,{id:"73-endcontentstate-options",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#73-endcontentstate-options",children:"#"}),"7.3 end(contentState, options?)"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,i.jsx)(e.code,{children:(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"end"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(contentState: "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"T"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" options"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" LiveActivityEndOptions)"})]})})})}),"\n",(0,i.jsxs)(e.h3,{id:"liveactivityendoptions",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#liveactivityendoptions",children:"#"}),"LiveActivityEndOptions"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,i.jsxs)(e.code,{children:[(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" LiveActivityEndOptions"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  staleDate"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" number"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" ｜ "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"Date"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  relevanceScore"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" number"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  dismissTimeInterval"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" number"})]}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,i.jsx)(e.p,{children:"Rules for dismissal (seconds):"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Not provided: default system retention (up to 4 hours)"}),"\n",(0,i.jsx)(e.li,{children:"<= 0: remove immediately"}),"\n",(0,i.jsx)(e.li,{children:"> 0: remove after the specified interval"}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsxs)(e.h2,{id:"74-reading-activity-state",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#74-reading-activity-state",children:"#"}),"7.4 Reading Activity State"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,i.jsx)(e.code,{children:(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"getActivityState"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(): "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Promise"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"LiveActivityState "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"|"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" null"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:">"})]})})})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsxs)(e.h2,{id:"75-listening-for-state-changes",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#75-listening-for-state-changes",children:"#"}),"7.5 Listening for State Changes"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,i.jsxs)(e.code,{children:[(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"addUpdateListener"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(listener);"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"removeUpdateListener"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(listener);"})]})]})})}),"\n",(0,i.jsx)(e.p,{children:"Triggered when the Live Activity transitions between:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"active → stale"}),"\n",(0,i.jsx)(e.li,{children:"active → ended"}),"\n",(0,i.jsx)(e.li,{children:"ended → dismissed"}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsxs)(e.h2,{id:"76-static-methods",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#76-static-methods",children:"#"}),"7.6 Static Methods"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,i.jsxs)(e.code,{children:[(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"static "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"areActivitiesEnabled"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(): "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Promise"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"boolean"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:">"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"static "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"getAllActivities"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(): "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Promise"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"LiveActivityDetail[]"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:">"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"static "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"getAllActivitiesIds"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(): "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Promise"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"string[]"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:">"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"static "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"getActivityState"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(activityId: string)"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"static "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"from"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(activityId"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" name)"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"static "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"endAllActivities"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(options"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"?"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:")"})]})]})})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsxs)(e.h1,{id:"8-ui-components-for-expanded-layout",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#8-ui-components-for-expanded-layout",children:"#"}),"8. UI Components for Expanded Layout"]}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"Component"}),(0,i.jsx)(e.th,{children:"Description"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"LiveActivityUI"}),(0,i.jsx)(e.td,{children:"Root layout container"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"LiveActivityUIExpandedLeading"}),(0,i.jsx)(e.td,{children:"Leading region of expanded layout"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"LiveActivityUIExpandedTrailing"}),(0,i.jsx)(e.td,{children:"Trailing region"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"LiveActivityUIExpandedCenter"}),(0,i.jsx)(e.td,{children:"Center region"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"LiveActivityUIExpandedBottom"}),(0,i.jsx)(e.td,{children:"Bottom region"})]})]})]}),"\n",(0,i.jsx)(e.p,{children:"These components help structure the expanded Dynamic Island."}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsxs)(e.h1,{id:"9-best-practices",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#9-best-practices",children:"#"}),"9. Best Practices"]}),"\n",(0,i.jsxs)(e.h2,{id:"91-contentstate-must-be-json-serializable",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#91-contentstate-must-be-json-serializable",children:"#"}),"9.1 contentState must be JSON-serializable"]}),"\n",(0,i.jsx)(e.p,{children:"The following are not allowed:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Functions"}),"\n",(0,i.jsx)(e.li,{children:"Date objects (must use timestamps)"}),"\n",(0,i.jsx)(e.li,{children:"Class instances"}),"\n",(0,i.jsx)(e.li,{children:"Non-serializable structures"}),"\n"]}),"\n",(0,i.jsxs)(e.h2,{id:"92-live-activity-registration-must-be-in-a-standalone-file",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#92-live-activity-registration-must-be-in-a-standalone-file",children:"#"}),"9.2 Live Activity registration must be in a standalone file"]}),"\n",(0,i.jsx)(e.p,{children:"This is required due to UI compilation and ActivityKit rules."}),"\n",(0,i.jsxs)(e.h2,{id:"93-live-activities-survive-script-termination",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#93-live-activities-survive-script-termination",children:"#"}),"9.3 Live Activities survive script termination"]}),"\n",(0,i.jsx)(e.p,{children:"If your script needs to keep running (e.g., timers), use:"}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,i.jsx)(e.code,{children:(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"BackgroundKeeper"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".keepAlive"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"();"})]})})})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsxs)(e.h1,{id:"10-minimal-example",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#10-minimal-example",children:"#"}),"10. Minimal Example"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,i.jsxs)(e.code,{children:[(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" activity"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" MyLiveActivity"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"();"})]}),"\n",(0,i.jsx)(e.span,{className:"line"}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" activity"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".start"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"({ mins"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 10"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" });"})]}),"\n",(0,i.jsx)(e.span,{className:"line"}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" activity"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".update"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"({ mins"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 5"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" });"})]}),"\n",(0,i.jsx)(e.span,{className:"line"}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" activity"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".end"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"({ mins"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 0"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" }"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" { dismissTimeInterval"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 0"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" });"})]})]})})}),"\n",(0,i.jsxs)(e.h1,{id:"11-notes",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#11-notes",children:"#"}),"11. Notes"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Live Activity starts asynchronously. You need to wait for ",(0,i.jsx)(e.code,{children:"start"})," to return ",(0,i.jsx)(e.code,{children:"true"})," before calling ",(0,i.jsx)(e.code,{children:"update"})," and ",(0,i.jsx)(e.code,{children:"end"}),"."]}),"\n",(0,i.jsxs)(e.li,{children:["Live Activity cannot access documents and iCloud directories. If you want to access files or render images, you must save them to ",(0,i.jsx)(e.code,{children:"FileManager.appGroupDocumentsDirectory"}),". For example, to render an image, you save it to ",(0,i.jsx)(e.code,{children:"FileManager.appGroupDocumentsDirectory"}),", then use ",(0,i.jsx)(e.code,{children:"<Image filePath={Path.join(FileManager.appGroupDocumentsDirectory, 'example.png')} />"})," to render it."]}),"\n",(0,i.jsx)(e.li,{children:"Live Activity can access the Storage data shared with the app."}),"\n"]})]})}function l(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}={...(0,r.R)(),...s.components};return e?(0,i.jsx)(e,{...s,children:(0,i.jsx)(o,{...s})}):o(s)}l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["en%2Fdoc%2FChangelog%2F2.4.3%2FLiveActivity.mdx"]={toc:[{id:"41-liveactivityuiprops",text:"4.1 LiveActivityUIProps",depth:2},{id:"71-startcontentstate-options",text:"7.1 start(contentState, options?)",depth:2},{id:"liveactivityoptions",text:"LiveActivityOptions",depth:3},{id:"72-updatecontentstate-options",text:"7.2 update(contentState, options?)",depth:2},{id:"liveactivityupdateoptions",text:"LiveActivityUpdateOptions",depth:3},{id:"73-endcontentstate-options",text:"7.3 end(contentState, options?)",depth:2},{id:"liveactivityendoptions",text:"LiveActivityEndOptions",depth:3},{id:"74-reading-activity-state",text:"7.4 Reading Activity State",depth:2},{id:"75-listening-for-state-changes",text:"7.5 Listening for State Changes",depth:2},{id:"76-static-methods",text:"7.6 Static Methods",depth:2},{id:"91-contentstate-must-be-json-serializable",text:"9.1 contentState must be JSON-serializable",depth:2},{id:"92-live-activity-registration-must-be-in-a-standalone-file",text:"9.2 Live Activity registration must be in a standalone file",depth:2},{id:"93-live-activities-survive-script-termination",text:"9.3 Live Activities survive script termination",depth:2}],title:"LiveActivity",headingTitle:"1. Understanding Live Activities",frontmatter:{title:"LiveActivity"}}}}]);