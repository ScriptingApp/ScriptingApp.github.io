"use strict";(self.rspackChunktest=self.rspackChunktest||[]).push([["31800"],{73227(e,r,n){n.r(r),n.d(r,{default:()=>d});var s=n(74848),i=n(28453);function o(e){let r={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.p,{children:"Scripting provides a Drag & Drop API closely aligned with the SwiftUI drag-and-drop interaction model. It enables views to act as drag sources, drop destinations, or both, supporting intra-app and cross-app drag-and-drop scenarios."}),"\n",(0,s.jsx)(r.p,{children:"The API is composed of three core parts:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"onDrag"}),": Declares a view as a drag source"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"onDrop"}),": Declares a view as a drop destination"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"DropInfo / ItemProvider / UTType"}),": Context objects describing drag content and state"]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"Drag and drop is a system-controlled interaction. Certain APIs are only valid during specific callbacks. These constraints are explicitly documented below and must be respected."}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"core-types",children:[(0,s.jsx)(r.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#core-types",children:"#"}),"Core Types"]}),"\n",(0,s.jsxs)(r.h3,{id:"dropinfo",children:[(0,s.jsx)(r.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#dropinfo",children:"#"}),"DropInfo"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.code,{children:"DropInfo"})," represents the real-time state of a drag operation relative to a specific drop target view.\nIt is only valid within ",(0,s.jsx)(r.code,{children:"onDrop"})," callbacks."]}),"\n",(0,s.jsxs)(r.h3,{id:"properties",children:[(0,s.jsx)(r.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#properties",children:"#"}),"Properties"]}),"\n",(0,s.jsxs)(r.h4,{id:"location-point",children:[(0,s.jsx)(r.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#location-point",children:"#"}),"location: Point"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"The current drag location"}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:["Expressed in the ",(0,s.jsx)(r.strong,{children:"local coordinate space of the drop view"})]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"Commonly used for:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Insertion indicators"}),"\n",(0,s.jsx)(r.li,{children:"Reordering logic"}),"\n",(0,s.jsx)(r.li,{children:"Position-based highlighting"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.h3,{id:"methods",children:[(0,s.jsx)(r.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#methods",children:"#"}),"Methods"]}),"\n",(0,s.jsxs)(r.h4,{id:"hasitemsconformingtypes-uttype-boolean",children:[(0,s.jsx)(r.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#hasitemsconformingtypes-uttype-boolean",children:"#"}),"hasItemsConforming(types: UTType[]): boolean"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"Indicates whether at least one dragged item conforms to any of the specified UTTypes"}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"Commonly used in:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.code,{children:"validateDrop"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.code,{children:"dropEntered"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.code,{children:"dropUpdated"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"This method performs capability checks only and does not load data"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.h4,{id:"itemproviderstypes-uttype-itemprovider",children:[(0,s.jsx)(r.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#itemproviderstypes-uttype-itemprovider",children:"#"}),"itemProviders(types: UTType[]): ItemProvider[]"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Returns all ",(0,s.jsx)(r.code,{children:"ItemProvider"})," instances conforming to the specified UTTypes"]}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsxs)(r.strong,{children:["Only valid inside the ",(0,s.jsx)(r.code,{children:"performDrop"})," callback"]})}),"\n",(0,s.jsxs)(r.li,{children:["After ",(0,s.jsx)(r.code,{children:"performDrop"})," returns, access to the dragged data is revoked by the system"]}),"\n"]}),"\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsxs)(r.p,{children:["Critical constraint\nYou must ",(0,s.jsx)(r.strong,{children:"start loading the contents"})," of the returned ",(0,s.jsx)(r.code,{children:"ItemProvider"})," instances ",(0,s.jsxs)(r.strong,{children:["within the scope of ",(0,s.jsx)(r.code,{children:"performDrop"})]}),".\nLoading may complete later, but it must be initiated synchronously before ",(0,s.jsx)(r.code,{children:"performDrop"})," returns."]}),"\n"]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"dropoperation",children:[(0,s.jsx)(r.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#dropoperation",children:"#"}),"DropOperation"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.code,{children:"DropOperation"})," describes the action a drop target intends to perform."]}),"\n",(0,s.jsx)(r.p,{children:"Available values:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.code,{children:'"copy"'}),"\nCopies the dragged data (default and most common)"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.code,{children:'"move"'}),"\nMoves the data instead of copying it (typically internal to the app)"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.code,{children:'"cancel"'}),"\nCancels the drag operation and transfers no data"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.code,{children:'"forbidden"'}),"\nExplicitly disallows the drop at the current location"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.code,{children:"DropOperation"})," is usually returned from ",(0,s.jsx)(r.code,{children:"dropUpdated"})," to dynamically control the drag behavior."]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"dragdropprops",children:[(0,s.jsx)(r.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#dragdropprops",children:"#"}),"DragDropProps"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.code,{children:"DragDropProps"})," defines the optional drag-and-drop capabilities that a view may adopt."]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"ondrag",children:[(0,s.jsx)(r.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#ondrag",children:"#"}),"onDrag"]}),"\n",(0,s.jsxs)(r.h3,{id:"purpose",children:[(0,s.jsx)(r.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#purpose",children:"#"}),"Purpose"]}),"\n",(0,s.jsxs)(r.p,{children:["Marks the view as a ",(0,s.jsx)(r.strong,{children:"drag source"}),", allowing the user to initiate a drag operation from it."]}),"\n",(0,s.jsxs)(r.h3,{id:"definition",children:[(0,s.jsx)(r.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#definition",children:"#"}),"Definition"]}),"\n",(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(r.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,s.jsxs)(r.code,{children:[(0,s.jsxs)(r.span,{className:"line",children:[(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"onDrag"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,s.jsxs)(r.span,{className:"line",children:[(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"  data"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" ItemProvider"})]}),"\n",(0,s.jsx)(r.span,{className:"line",children:(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"  preview: VirtualNode"})}),"\n",(0,s.jsx)(r.span,{className:"line",children:(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,s.jsxs)(r.h3,{id:"parameters",children:[(0,s.jsx)(r.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#parameters",children:"#"}),"Parameters"]}),"\n",(0,s.jsxs)(r.h4,{id:"data",children:[(0,s.jsx)(r.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#data",children:"#"}),"data"]}),"\n",(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(r.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,s.jsx)(r.code,{children:(0,s.jsxs)(r.span,{className:"line",children:[(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"data"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" ItemProvider"})]})})})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Returns an ",(0,s.jsx)(r.code,{children:"ItemProvider"})," describing the dragged data"]}),"\n",(0,s.jsx)(r.li,{children:"Supports text, images, files, URLs, and custom types"}),"\n",(0,s.jsx)(r.li,{children:"Invoked each time a drag begins"}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:["Recommended practice:\nCreate a new ",(0,s.jsx)(r.code,{children:"ItemProvider"})," instance for each drag operation. Do not reuse instances."]}),"\n",(0,s.jsxs)(r.h4,{id:"preview",children:[(0,s.jsx)(r.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#preview",children:"#"}),"preview"]}),"\n",(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(r.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,s.jsx)(r.code,{children:(0,s.jsxs)(r.span,{className:"line",children:[(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"preview"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" VirtualNode"})]})})})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"A view used as the drag preview"}),"\n",(0,s.jsx)(r.li,{children:"Rendered by the system as a floating representation during dragging"}),"\n",(0,s.jsx)(r.li,{children:"Centered over the source view by default"}),"\n"]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"ondrop",children:[(0,s.jsx)(r.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#ondrop",children:"#"}),"onDrop"]}),"\n",(0,s.jsxs)(r.h3,{id:"purpose-1",children:[(0,s.jsx)(r.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#purpose-1",children:"#"}),"Purpose"]}),"\n",(0,s.jsxs)(r.p,{children:["Marks the view as a ",(0,s.jsx)(r.strong,{children:"drop destination"})," and provides fine-grained control over validation, interaction updates, and data handling."]}),"\n",(0,s.jsxs)(r.h3,{id:"definition-1",children:[(0,s.jsx)(r.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#definition-1",children:"#"}),"Definition"]}),"\n",(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(r.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,s.jsxs)(r.code,{children:[(0,s.jsxs)(r.span,{className:"line",children:[(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"onDrop"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,s.jsxs)(r.span,{className:"line",children:[(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"  types"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" UTType[]"})]}),"\n",(0,s.jsxs)(r.span,{className:"line",children:[(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"  validateDrop"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" (info"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:" DropInfo"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:") "}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" boolean"})]}),"\n",(0,s.jsxs)(r.span,{className:"line",children:[(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"  dropEntered"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" (info"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:" DropInfo"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:") "}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:" void"})]}),"\n",(0,s.jsxs)(r.span,{className:"line",children:[(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"  dropUpdated"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" (info"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:" DropInfo"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:") "}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" DropOperation "}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"|"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:" null"})]}),"\n",(0,s.jsxs)(r.span,{className:"line",children:[(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"  dropExited"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" (info"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:" DropInfo"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:") "}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:" void"})]}),"\n",(0,s.jsxs)(r.span,{className:"line",children:[(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"  performDrop: (info"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:" DropInfo"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:") "}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" boolean"})]}),"\n",(0,s.jsx)(r.span,{className:"line",children:(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h3,{id:"ondroptypes",children:[(0,s.jsx)(r.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#ondroptypes",children:"#"}),"onDrop.types"]}),"\n",(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(r.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,s.jsx)(r.code,{children:(0,s.jsxs)(r.span,{className:"line",children:[(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"types"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" UTType[]"})]})})})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"Declares the content types this view can accept"}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"If the dragged content does not conform to any listed type:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"The drop target does not activate"}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"validateDrop"})," is not called"]}),"\n",(0,s.jsx)(r.li,{children:"Visual feedback is not shown"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h3,{id:"validatedrop",children:[(0,s.jsx)(r.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#validatedrop",children:"#"}),"validateDrop"]}),"\n",(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(r.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,s.jsx)(r.code,{children:(0,s.jsxs)(r.span,{className:"line",children:[(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"validateDrop"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" (info"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:" DropInfo"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:") "}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" boolean"})]})})})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"Determines whether the drop operation should be allowed to begin"}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:["Returning ",(0,s.jsx)(r.code,{children:"false"})," immediately rejects the drag"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"Common use cases:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Checking item count"}),"\n",(0,s.jsx)(r.li,{children:"Enforcing application state constraints"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:["Default behavior: always returns ",(0,s.jsx)(r.code,{children:"true"})]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h3,{id:"dropentered",children:[(0,s.jsx)(r.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#dropentered",children:"#"}),"dropEntered"]}),"\n",(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(r.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,s.jsx)(r.code,{children:(0,s.jsxs)(r.span,{className:"line",children:[(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"dropEntered"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" (info"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:" DropInfo"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:") "}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:" void"})]})})})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"Called when the drag enters the drop target area"}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"Typically used to:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Show highlight states"}),"\n",(0,s.jsx)(r.li,{children:"Display insertion placeholders"}),"\n",(0,s.jsx)(r.li,{children:"Trigger animations"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h3,{id:"dropupdated",children:[(0,s.jsx)(r.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#dropupdated",children:"#"}),"dropUpdated"]}),"\n",(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(r.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,s.jsx)(r.code,{children:(0,s.jsxs)(r.span,{className:"line",children:[(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"dropUpdated"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" (info"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:" DropInfo"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:") "}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" DropOperation "}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"|"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:" null"})]})})})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Called repeatedly as the drag moves within the drop target"}),"\n",(0,s.jsxs)(r.li,{children:["Used to dynamically specify the intended ",(0,s.jsx)(r.code,{children:"DropOperation"})]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"Return value behavior:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:["Returning a ",(0,s.jsx)(r.code,{children:"DropOperation"})," updates the active operation"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:["Returning ",(0,s.jsx)(r.code,{children:"null"}),":"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Reuses the last valid operation"}),"\n",(0,s.jsxs)(r.li,{children:["Falls back to ",(0,s.jsx)(r.code,{children:'"copy"'})," if none was previously returned"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h3,{id:"dropexited",children:[(0,s.jsx)(r.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#dropexited",children:"#"}),"dropExited"]}),"\n",(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(r.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,s.jsx)(r.code,{children:(0,s.jsxs)(r.span,{className:"line",children:[(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"dropExited"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" (info"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:" DropInfo"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:") "}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:" void"})]})})})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Called when the drag leaves the drop target area"}),"\n",(0,s.jsx)(r.li,{children:"Commonly used to clear highlight or placeholder UI"}),"\n"]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h3,{id:"performdrop",children:[(0,s.jsx)(r.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#performdrop",children:"#"}),"performDrop"]}),"\n",(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(r.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,s.jsx)(r.code,{children:(0,s.jsxs)(r.span,{className:"line",children:[(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:"performDrop"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" (info"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:" DropInfo"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:") "}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,s.jsx)(r.span,{style:{color:"var(--shiki-foreground)"},children:" boolean"})]})})})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"The most critical callback"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"Indicates that the user has released the drag and data access is permitted"}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"Return value:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"true"})," if the drop was successfully handled"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"false"})," if the drop failed"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.h4,{id:"mandatory-constraints",children:[(0,s.jsx)(r.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#mandatory-constraints",children:"#"}),"Mandatory constraints"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"Within this method, you must:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Call ",(0,s.jsx)(r.code,{children:"info.itemProviders(...)"})]}),"\n",(0,s.jsx)(r.li,{children:"Immediately initiate data loading from the returned providers"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"You must not:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Store ",(0,s.jsx)(r.code,{children:"ItemProvider"})," references for later use"]}),"\n",(0,s.jsx)(r.li,{children:"Defer loading to unrelated callbacks"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"These constraints are enforced by the operating system for security reasons."}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"typical-interaction-flow",children:[(0,s.jsx)(r.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#typical-interaction-flow",children:"#"}),"Typical Interaction Flow"]}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["The user initiates a drag from an ",(0,s.jsx)(r.code,{children:"onDrag"})," view"]}),"\n",(0,s.jsxs)(r.li,{children:["The system checks compatibility using ",(0,s.jsx)(r.code,{children:"onDrop.types"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"validateDrop"})," is invoked"]}),"\n",(0,s.jsxs)(r.li,{children:["The drag enters the drop target → ",(0,s.jsx)(r.code,{children:"dropEntered"})]}),"\n",(0,s.jsxs)(r.li,{children:["The drag moves within the target → repeated ",(0,s.jsx)(r.code,{children:"dropUpdated"})]}),"\n",(0,s.jsxs)(r.li,{children:["The drag leaves the target → ",(0,s.jsx)(r.code,{children:"dropExited"})]}),"\n",(0,s.jsxs)(r.li,{children:["The user releases the drag → ",(0,s.jsx)(r.code,{children:"performDrop"})]}),"\n",(0,s.jsx)(r.li,{children:"Data is loaded and processed"}),"\n"]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"design-guidelines-and-best-practices",children:[(0,s.jsx)(r.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#design-guidelines-and-best-practices",children:"#"}),"Design Guidelines and Best Practices"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Declare UTTypes as narrowly as possible"}),"\n",(0,s.jsxs)(r.li,{children:["Use ",(0,s.jsx)(r.code,{children:'"forbidden"'})," in ",(0,s.jsx)(r.code,{children:"dropUpdated"})," to explicitly block invalid drops"]}),"\n",(0,s.jsxs)(r.li,{children:["Perform heavy parsing or processing only after ",(0,s.jsx)(r.code,{children:"ItemProvider"})," loading completes"]}),"\n",(0,s.jsx)(r.li,{children:"Prefer system-standard UTTypes (text, image, file, URL) for cross-app drag-and-drop"}),"\n"]})]})}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}d.__RSPRESS_PAGE_META={},d.__RSPRESS_PAGE_META["en%2Fdoc%2FChangelog%2F2.4.6%2FonDrag%20and%20onDrop%20View%20Modifiers.md"]={toc:[{id:"core-types",text:"Core Types",depth:2},{id:"dropinfo",text:"DropInfo",depth:3},{id:"properties",text:"Properties",depth:3},{id:"location-point",text:"location: Point",depth:4},{id:"methods",text:"Methods",depth:3},{id:"hasitemsconformingtypes-uttype-boolean",text:"hasItemsConforming(types: UTType[]): boolean",depth:4},{id:"itemproviderstypes-uttype-itemprovider",text:"itemProviders(types: UTType[]): ItemProvider[]",depth:4},{id:"dropoperation",text:"DropOperation",depth:2},{id:"dragdropprops",text:"DragDropProps",depth:2},{id:"ondrag",text:"onDrag",depth:2},{id:"purpose",text:"Purpose",depth:3},{id:"definition",text:"Definition",depth:3},{id:"parameters",text:"Parameters",depth:3},{id:"data",text:"data",depth:4},{id:"preview",text:"preview",depth:4},{id:"ondrop",text:"onDrop",depth:2},{id:"purpose-1",text:"Purpose",depth:3},{id:"definition-1",text:"Definition",depth:3},{id:"ondroptypes",text:"onDrop.types",depth:3},{id:"validatedrop",text:"validateDrop",depth:3},{id:"dropentered",text:"dropEntered",depth:3},{id:"dropupdated",text:"dropUpdated",depth:3},{id:"dropexited",text:"dropExited",depth:3},{id:"performdrop",text:"performDrop",depth:3},{id:"mandatory-constraints",text:"Mandatory constraints",depth:4},{id:"typical-interaction-flow",text:"Typical Interaction Flow",depth:2},{id:"design-guidelines-and-best-practices",text:"Design Guidelines and Best Practices",depth:2}],title:"onDrag and onDrop View Modifiers",headingTitle:"",frontmatter:{title:"onDrag and onDrop View Modifiers"}}}}]);