"use strict";(self.rspackChunktest=self.rspackChunktest||[]).push([["72059"],{19318(s,e,n){n.r(e),n.d(e,{default:()=>c});var r=n(74848),i=n(28453);function l(s){let e={a:"a",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,i.R)(),...s.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"widgetBackground"})," 是一个专用于",(0,r.jsx)(e.strong,{children:"小组件"}),"的视图修饰符，用于在不同的渲染模式下设置背景样式，特别是为适配 ",(0,r.jsx)(e.strong,{children:"iOS 18 的 tinted（强调色）模式"}),"而设计。"]}),"\n",(0,r.jsxs)(e.h2,{id:"功能说明",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#功能说明",children:"#"}),"功能说明"]}),"\n",(0,r.jsxs)(e.p,{children:["在 ",(0,r.jsx)(e.strong,{children:"tinted 模式"}),"下，iOS 会将所有视图颜色（包括背景）渲染为白色，除非该视图使用了 ",(0,r.jsx)(e.code,{children:"widgetAccentable"})," 标记。这可能会导致背景显示异常或视觉效果失真。"]}),"\n",(0,r.jsxs)(e.p,{children:["使用 ",(0,r.jsx)(e.code,{children:"widgetBackground"})," 可以避免这种问题："]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"在 accented 模式下自动隐藏背景"}),"，避免被系统渲染为纯白色；"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"在默认模式或全彩模式下正常显示背景"}),"。"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"这样可以确保你的小组件在不同系统渲染环境下都具有良好的视觉一致性。"}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.h2,{id:"支持的背景设置方式",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#支持的背景设置方式",children:"#"}),"支持的背景设置方式"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"widgetBackground"})," 支持以下几种格式："]}),"\n",(0,r.jsxs)(e.h3,{id:"1-纯色背景shapestyle",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#1-纯色背景shapestyle",children:"#"}),"1. ",(0,r.jsx)(e.strong,{children:"纯色背景（ShapeStyle）"})]}),"\n",(0,r.jsx)(e.p,{children:"使用简单颜色作为背景："}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"tsx",children:(0,r.jsxs)(e.code,{children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Text"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" widgetBackground"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"systemBlue"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  Hello"})}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"</"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Text"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})]})]})})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.h3,{id:"2-动态背景dynamicshapestyle",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#2-动态背景dynamicshapestyle",children:"#"}),"2. ",(0,r.jsx)(e.strong,{children:"动态背景（DynamicShapeStyle）"})]}),"\n",(0,r.jsx)(e.p,{children:"根据系统的浅色/深色模式动态切换背景样式："}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"tsx",children:(0,r.jsxs)(e.code,{children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Text"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"  widgetBackground"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"{{"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    light"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "white"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    dark"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "black"'})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  }}"})}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  模式感知背景"})}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"</"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Text"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})]})]})})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.h3,{id:"3-带形状的背景样式",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#3-带形状的背景样式",children:"#"}),"3. ",(0,r.jsx)(e.strong,{children:"带形状的背景样式"})]}),"\n",(0,r.jsx)(e.p,{children:"使用指定的**形状（Shape）**配合填充样式，实现结构化的背景设计："}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"tsx",children:(0,r.jsxs)(e.code,{children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Text"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"  widgetBackground"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"{{"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    style"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "systemGray6"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    shape"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"      type"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "rect"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"      cornerRadius"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 12"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"      style"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "continuous"'})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    }"})}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  }}"})}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  圆角背景"})}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"</"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Text"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})]})]})})}),"\n",(0,r.jsx)(e.p,{children:"支持的形状包括："}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["预设形状：",(0,r.jsx)(e.code,{children:"'rect'"}),"、",(0,r.jsx)(e.code,{children:"'circle'"}),"、",(0,r.jsx)(e.code,{children:"'capsule'"}),"、",(0,r.jsx)(e.code,{children:"'ellipse'"}),"、",(0,r.jsx)(e.code,{children:"'buttonBorder'"}),"、",(0,r.jsx)(e.code,{children:"'containerRelative'"})]}),"\n",(0,r.jsx)(e.li,{children:"自定义圆角矩形：支持统一圆角、椭圆角尺寸、每个角独立设定"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.h2,{id:"在-accented-模式下的行为",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#在-accented-模式下的行为",children:"#"}),"在 accented 模式下的行为"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"在 iOS 的 accented（tinted）模式下"}),"：背景会被自动隐藏，以避免出现纯白色遮盖问题；"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"在默认或全彩渲染模式下"}),"：背景将按设定正常显示。"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"此行为可有效避免系统渲染方式对 UI 布局和层级的干扰。"}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.h2,{id:"使用建议",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#使用建议",children:"#"}),"使用建议"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["仅在小组件中使用 ",(0,r.jsx)(e.code,{children:"widgetBackground"}),"，以避免在普通视图中出现不必要的隐藏行为；"]}),"\n",(0,r.jsx)(e.li,{children:"不要使用背景传达重要信息，因为在 accented 模式下它可能会被隐藏；"}),"\n",(0,r.jsxs)(e.li,{children:["搭配 ",(0,r.jsx)(e.code,{children:"widgetAccentable"})," 使用，以精确控制哪些内容应参与系统色彩渲染，哪些内容应独立呈现。"]}),"\n"]})]})}function c(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}={...(0,i.R)(),...s.components};return e?(0,r.jsx)(e,{...s,children:(0,r.jsx)(l,{...s})}):l(s)}c.__RSPRESS_PAGE_META={},c.__RSPRESS_PAGE_META["TestFlight%2Fzh%2Fguide%2FView%20Modifiers%2FwidgetBackground.md"]={toc:[{id:"功能说明",text:"功能说明",depth:2},{id:"支持的背景设置方式",text:"支持的背景设置方式",depth:2},{id:"1-纯色背景shapestyle",text:"1. **纯色背景（ShapeStyle）**",depth:3},{id:"2-动态背景dynamicshapestyle",text:"2. **动态背景（DynamicShapeStyle）**",depth:3},{id:"3-带形状的背景样式",text:"3. **带形状的背景样式**",depth:3},{id:"在-accented-模式下的行为",text:"在 accented 模式下的行为",depth:2},{id:"使用建议",text:"使用建议",depth:2}],title:"小组件背景",headingTitle:"",frontmatter:{title:"小组件背景",description:"该属性用于定义小组件的背景样式，特别是针对 iOS 18 的强调（着色）渲染模式进行了优化。"}}}}]);