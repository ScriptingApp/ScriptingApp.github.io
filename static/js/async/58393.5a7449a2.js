"use strict";(self.rspackChunktest=self.rspackChunktest||[]).push([["58393"],{71488(s,n,e){e.r(n),e.d(n,{default:()=>t});var r=e(74848),i=e(28453);function l(s){let n={a:"a",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...s.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"HttpResponseBody"})," 类用于构造 HTTP 响应的主体内容。\n它可以表示文本内容、HTML 页面、二进制数据或任意自定义数据类型，并与 ",(0,r.jsx)(n.code,{children:"HttpResponse"})," 一起使用，用于向客户端返回响应内容。"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h2,{id:"概述",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#概述",children:"#"}),"概述"]}),"\n",(0,r.jsxs)(n.p,{children:["在使用 ",(0,r.jsx)(n.code,{children:"HttpServer"})," 创建自定义 HTTP 服务时，响应主体 (",(0,r.jsx)(n.code,{children:"HttpResponseBody"}),") 决定了客户端实际接收到的数据内容。\n该类提供多种静态工厂方法用于快速生成不同类型的响应内容："]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["文本（",(0,r.jsx)(n.code,{children:"text"}),"）"]}),"\n",(0,r.jsxs)(n.li,{children:["HTML（",(0,r.jsx)(n.code,{children:"html"}),"、",(0,r.jsx)(n.code,{children:"htmlBody"}),"）"]}),"\n",(0,r.jsxs)(n.li,{children:["二进制数据（",(0,r.jsx)(n.code,{children:"data"}),"）"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h2,{id:"常见用途",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#常见用途",children:"#"}),"常见用途"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"返回纯文本响应（例如 API 消息）"}),"\n",(0,r.jsx)(n.li,{children:"返回 HTML 页面（例如浏览器展示）"}),"\n",(0,r.jsx)(n.li,{children:"返回文件或二进制流（例如图片、视频、压缩包）"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h2,{id:"静态方法",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#静态方法",children:"#"}),"静态方法"]}),"\n",(0,r.jsxs)(n.h3,{id:"static-texttext-string-httpresponsebody",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#static-texttext-string-httpresponsebody",children:"#"}),(0,r.jsx)(n.code,{children:"static text(text: string): HttpResponseBody"})]}),"\n",(0,r.jsx)(n.p,{children:"创建一个文本类型的响应体。"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"参数："})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"参数名"}),(0,r.jsx)(n.th,{children:"类型"}),(0,r.jsx)(n.th,{children:"说明"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"text"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"要返回的文本内容。"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"示例："})}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,r.jsxs)(n.code,{children:[(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" body"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" HttpResponseBody"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".text"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Hello, world"'}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" HttpResponse"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".ok"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(body)"})]})]})})}),"\n",(0,r.jsx)(n.p,{children:"返回结果："}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"txt",children:(0,r.jsxs)(n.code,{children:[(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{children:"HTTP/1.1 200 OK"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{children:"Content-Type: text/plain"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{children:"Hello, world"})})]})})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h3,{id:"static-datadata-data-httpresponsebody",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#static-datadata-data-httpresponsebody",children:"#"}),(0,r.jsx)(n.code,{children:"static data(data: Data): HttpResponseBody"})]}),"\n",(0,r.jsx)(n.p,{children:"创建一个包含二进制数据的响应体。"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"参数："})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"参数名"}),(0,r.jsx)(n.th,{children:"类型"}),(0,r.jsx)(n.th,{children:"说明"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"data"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Data"})}),(0,r.jsx)(n.td,{children:"要返回的二进制数据对象。"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"示例："})}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,r.jsxs)(n.code,{children:[(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" content"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" Data"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".fromRawString"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Binary content"'}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "utf-8"'}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" HttpResponse"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".ok"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"HttpResponseBody"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".data"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(content))"})]})]})})}),"\n",(0,r.jsx)(n.p,{children:"此方法常用于返回文件下载、图片或 JSON 数据。"}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h3,{id:"static-htmlhtml-string-httpresponsebody",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#static-htmlhtml-string-httpresponsebody",children:"#"}),(0,r.jsx)(n.code,{children:"static html(html: string): HttpResponseBody"})]}),"\n",(0,r.jsx)(n.p,{children:"创建一个 HTML 响应体（标准 HTML 文档）。"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"参数："})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"参数名"}),(0,r.jsx)(n.th,{children:"类型"}),(0,r.jsx)(n.th,{children:"说明"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"html"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"HTML 文本内容。"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"示例："})}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,r.jsxs)(n.code,{children:[(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" html"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:" `"})]}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"<html>"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"  <head><title>Hello</title></head>"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"  <body><h1>Welcome to Scripting Server</h1></body>"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"</html>"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"`"})}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" HttpResponse"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".ok"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"HttpResponseBody"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".html"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(html))"})]})]})})}),"\n",(0,r.jsx)(n.p,{children:"浏览器访问时将直接渲染为网页内容。"}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h3,{id:"static-htmlbodyhtml-string-httpresponsebody",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#static-htmlbodyhtml-string-httpresponsebody",children:"#"}),(0,r.jsx)(n.code,{children:"static htmlBody(html: string): HttpResponseBody"})]}),"\n",(0,r.jsxs)(n.p,{children:["创建一个仅包含 HTML “主体内容”的响应体。\n与 ",(0,r.jsx)(n.code,{children:"html()"})," 类似，但在部分实现中可能省略标准 HTML 文档结构（",(0,r.jsx)(n.code,{children:"<html>"}),"、",(0,r.jsx)(n.code,{children:"<body>"})," 等标签）。\n常用于模板渲染或嵌入式 HTML 内容返回。"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"参数："})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"参数名"}),(0,r.jsx)(n.th,{children:"类型"}),(0,r.jsx)(n.th,{children:"说明"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"html"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"HTML 片段或主体内容。"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"示例："})}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,r.jsx)(n.code,{children:(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" HttpResponse"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".ok"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"HttpResponseBody"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".htmlBody"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"<h1>Inline HTML Body</h1>"'}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"))"})]})})})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h2,{id:"使用场景示例",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#使用场景示例",children:"#"}),"使用场景示例"]}),"\n",(0,r.jsxs)(n.h3,{id:"1-返回纯文本响应",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#1-返回纯文本响应",children:"#"}),"1. 返回纯文本响应"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,r.jsxs)(n.code,{children:[(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"server"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".registerHandler"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"/hello"'}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" (req) "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"  return"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" HttpResponse"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".ok"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"HttpResponseBody"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".text"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Hello from server"'}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"))"})]}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"})"})})]})})}),"\n",(0,r.jsxs)(n.h3,{id:"2-返回-html-页面",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#2-返回-html-页面",children:"#"}),"2. 返回 HTML 页面"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,r.jsxs)(n.code,{children:[(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"server"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".registerHandler"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"/"'}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" (req) "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"  const"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" html"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:" `"})]}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"  <html>"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"    <head><title>Home</title></head>"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"    <body>"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"      <h1>Welcome</h1>"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"      <p>This is a simple Scripting HTTP server.</p>"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"    </body>"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"  </html>`"})}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"  return"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" HttpResponse"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".ok"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"HttpResponseBody"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".html"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(html))"})]}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"})"})})]})})}),"\n",(0,r.jsxs)(n.h3,{id:"3-返回二进制文件如图片",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#3-返回二进制文件如图片",children:"#"}),"3. 返回二进制文件（如图片）"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,r.jsxs)(n.code,{children:[(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"server"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".registerHandler"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"/image"'}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" (req) "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"  const"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" fileData"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" FileManager"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".readAsData"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"Path"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".join"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"Script"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:".directory"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "logo.png"'}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"))"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"  return"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" HttpResponse"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".ok"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"HttpResponseBody"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".data"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(fileData))"})]}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"})"})})]})})}),"\n",(0,r.jsxs)(n.h3,{id:"4-返回局部-html-内容用于嵌入",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#4-返回局部-html-内容用于嵌入",children:"#"}),"4. 返回局部 HTML 内容（用于嵌入）"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,r.jsxs)(n.code,{children:[(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"server"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".registerHandler"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"/partial"'}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" (req) "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"  return"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" HttpResponse"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".ok"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"HttpResponseBody"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".htmlBody"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"<div>Partial Content</div>"'}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"))"})]}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"})"})})]})})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h2,{id:"总结",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#总结",children:"#"}),"总结"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"方法"}),(0,r.jsx)(n.th,{children:"说明"}),(0,r.jsx)(n.th,{children:"典型用途"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"text()"})}),(0,r.jsx)(n.td,{children:"返回纯文本内容"}),(0,r.jsx)(n.td,{children:"API 响应、日志输出"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"data()"})}),(0,r.jsx)(n.td,{children:"返回二进制数据"}),(0,r.jsx)(n.td,{children:"文件下载、JSON、图片"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"html()"})}),(0,r.jsx)(n.td,{children:"返回完整 HTML 页面"}),(0,r.jsx)(n.td,{children:"网页展示"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"htmlBody()"})}),(0,r.jsx)(n.td,{children:"返回 HTML 片段"}),(0,r.jsx)(n.td,{children:"模板渲染或局部更新"})]})]})]})]})}function t(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}={...(0,i.R)(),...s.components};return n?(0,r.jsx)(n,{...s,children:(0,r.jsx)(l,{...s})}):l(s)}t.__RSPRESS_PAGE_META={},t.__RSPRESS_PAGE_META["v2%2Fzh%2Fguide%2FUtilities%2FHttpServer%2FHttpResponseBody.md"]={toc:[{id:"概述",text:"概述",depth:2},{id:"常见用途",text:"常见用途",depth:2},{id:"静态方法",text:"静态方法",depth:2},{id:"static-texttext-string-httpresponsebody",text:"`static text(text: string): HttpResponseBody`",depth:3},{id:"static-datadata-data-httpresponsebody",text:"`static data(data: Data): HttpResponseBody`",depth:3},{id:"static-htmlhtml-string-httpresponsebody",text:"`static html(html: string): HttpResponseBody`",depth:3},{id:"static-htmlbodyhtml-string-httpresponsebody",text:"`static htmlBody(html: string): HttpResponseBody`",depth:3},{id:"使用场景示例",text:"使用场景示例",depth:2},{id:"1-返回纯文本响应",text:"1. 返回纯文本响应",depth:3},{id:"2-返回-html-页面",text:"2. 返回 HTML 页面",depth:3},{id:"3-返回二进制文件如图片",text:"3. 返回二进制文件（如图片）",depth:3},{id:"4-返回局部-html-内容用于嵌入",text:"4. 返回局部 HTML 内容（用于嵌入）",depth:3},{id:"总结",text:"总结",depth:2}],title:"HttpResponseBody（HTTP 响应体）",headingTitle:"",frontmatter:{title:"HttpResponseBody（HTTP 响应体）",description:"该类表示一个由服务器发往客户端的 HTTP 响应体对象。",tag:"PRO"}}}}]);