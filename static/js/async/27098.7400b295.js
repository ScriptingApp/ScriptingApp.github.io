"use strict";(self.rspackChunktest=self.rspackChunktest||[]).push([["27098"],{90849(e,s,n){n.r(s),n.d(s,{default:()=>c});var r=n(74848),i=n(28453);function l(e){let s={a:"a",br:"br",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.p,{children:["该接口为文本转语音（TTS）功能提供了高级 API，方便进行语音合成、播放控制以及语音合成相关设置的管理。下面详细介绍 ",(0,r.jsx)(s.code,{children:"Speech"})," API 的方法、属性以及用法示例。"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h2,{id:"功能概述",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#功能概述",children:"#"}),"功能概述"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"文本转语音"}),"：将文本转换为语音，可自定义语速、音调和音量等选项。"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"语音管理"}),"：根据语言或语音标识符来选择系统中的可用语音。"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Markdown 支持"}),"：将文本作为 Markdown 解析以进行基本格式化。"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"音频会话管理"}),"：与其他音频源无缝衔接，控制音频会话。"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"事件监听器"}),"：对语音合成过程中的生命周期事件做出响应。"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h2,{id:"类型定义",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#类型定义",children:"#"}),"类型定义"]}),"\n",(0,r.jsxs)(s.h3,{id:"speechboundary",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#speechboundary",children:"#"}),(0,r.jsx)(s.code,{children:"SpeechBoundary"})]}),"\n",(0,r.jsx)(s.p,{children:"指定何时暂停或停止语音："}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"'immediate'"}),": 立即暂停或停止。"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"'word'"}),": 在完成当前单词后暂停或停止。"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h3,{id:"speechsynthesisvoice",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#speechsynthesisvoice",children:"#"}),(0,r.jsx)(s.code,{children:"SpeechSynthesisVoice"})]}),"\n",(0,r.jsx)(s.p,{children:"表示语音合成使用的语音："}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"identifier"}),": 语音的唯一标识符。"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"name"}),": 语音的显示名称。"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"language"}),": BCP 47 格式的语言和区域代码。"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"quality"}),": 语音品质（",(0,r.jsx)(s.code,{children:"'default'"}),"、",(0,r.jsx)(s.code,{children:"'premium'"}),"、",(0,r.jsx)(s.code,{children:"'enhanced'"}),"）。"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"gender"}),": 语音性别（",(0,r.jsx)(s.code,{children:"'male'"}),"、",(0,r.jsx)(s.code,{children:"'female'"}),"、",(0,r.jsx)(s.code,{children:"'unspecified'"}),"）。"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h3,{id:"speechprogressdetails",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#speechprogressdetails",children:"#"}),(0,r.jsx)(s.code,{children:"SpeechProgressDetails"})]}),"\n",(0,r.jsx)(s.p,{children:"语音合成过程中有关进度的详细信息："}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"text"}),": 正在朗读的完整文本。"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"start"}),": 当前单词在文本中的起始索引。"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"end"}),": 当前单词在文本中的结束索引。"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"word"}),": 当前正在朗读的单词。"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h3,{id:"speechsynthesisoptions",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#speechsynthesisoptions",children:"#"}),(0,r.jsx)(s.code,{children:"SpeechSynthesisOptions"})]}),"\n",(0,r.jsx)(s.p,{children:"自定义语音合成的选项："}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"isMarkdown"}),"（可选）: 将文本视为 Markdown 解析。"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"pitch"}),", ",(0,r.jsx)(s.code,{children:"rate"}),", ",(0,r.jsx)(s.code,{children:"volume"}),": 用于覆盖全局 ",(0,r.jsx)(s.code,{children:"Speech"})," 设置中的音调、语速和音量。"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"preUtteranceDelay"}),", ",(0,r.jsx)(s.code,{children:"postUtteranceDelay"}),": 控制每句开始前与结束后的延迟。"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"voiceIdentifier"}),", ",(0,r.jsx)(s.code,{children:"voiceLanguage"}),": 用于覆盖全局语音设置。"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h2,{id:"静态属性",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#静态属性",children:"#"}),"静态属性"]}),"\n",(0,r.jsxs)(s.h3,{id:"全局语音设置",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#全局语音设置",children:"#"}),"全局语音设置"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"pitch"}),": 默认音调（范围：",(0,r.jsx)(s.code,{children:"0.5"}),"～",(0,r.jsx)(s.code,{children:"2.0"}),"；默认值：",(0,r.jsx)(s.code,{children:"1.0"}),"）。"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"rate"}),": 语速（范围：",(0,r.jsx)(s.code,{children:"Speech.minSpeechRate"})," ～ ",(0,r.jsx)(s.code,{children:"Speech.maxSpeechRate"}),"；默认值：",(0,r.jsx)(s.code,{children:"Speech.defaultSpeechRate"}),"）。"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"volume"}),": 默认音量（范围：",(0,r.jsx)(s.code,{children:"0.0"}),"～",(0,r.jsx)(s.code,{children:"1.0"}),"；默认值：",(0,r.jsx)(s.code,{children:"1.0"}),"）。"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"preUtteranceDelay"}),", ",(0,r.jsx)(s.code,{children:"postUtteranceDelay"}),": 全局的发音前后延迟。"]}),"\n"]}),"\n",(0,r.jsxs)(s.h3,{id:"语音和语言",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#语音和语言",children:"#"}),"语音和语言"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"speechVoices"}),": 获取所有可用语音。"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"currentLanguageCode"}),": 设备的当前语言代码。"]}),"\n"]}),"\n",(0,r.jsxs)(s.h3,{id:"音频会话",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#音频会话",children:"#"}),"音频会话"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"usesApplicationAudioSession"}),": 指定是否由应用来管理音频会话。"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h2,{id:"方法",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#方法",children:"#"}),"方法"]}),"\n",(0,r.jsxs)(s.h3,{id:"语音播放与合成",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#语音播放与合成",children:"#"}),"语音播放与合成"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"speak(text: string, options?: SpeechSynthesisOptions): Promise<void>"})}),(0,r.jsx)(s.br,{}),"\n将文本添加到语音队列进行合成和朗读。"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"synthesizeToFile(text: string, filePath: string, options?: SpeechSynthesisOptions): Promise<void>"})}),(0,r.jsx)(s.br,{}),"\n将文本合成为音频文件并保存在文档目录下的指定文件路径。"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.h3,{id:"播放控制",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#播放控制",children:"#"}),"播放控制"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"pause(at?: SpeechBoundary): Promise<boolean>"})}),(0,r.jsx)(s.br,{}),"\n在指定的边界点暂停语音。默认在 ",(0,r.jsx)(s.code,{children:"'immediate'"})," 处暂停。"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"resume(): Promise<boolean>"})}),(0,r.jsx)(s.br,{}),"\n从暂停状态恢复朗读。"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"stop(at?: SpeechBoundary): Promise<boolean>"})}),(0,r.jsx)(s.br,{}),"\n在指定边界点停止朗读。默认在 ",(0,r.jsx)(s.code,{children:"'immediate'"})," 处停止。"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.h3,{id:"状态管理",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#状态管理",children:"#"}),"状态管理"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"isSpeaking"})}),": 检查当前合成器是否正在朗读或处于暂停状态。"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"isPaused"})}),": 检查当前合成器是否处于暂停状态。"]}),"\n"]}),"\n",(0,r.jsxs)(s.h3,{id:"语音管理",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#语音管理",children:"#"}),"语音管理"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"setVoiceByIdentifier(identifier: string): Promise<boolean>"})}),(0,r.jsx)(s.br,{}),"\n根据语音标识符来设置语音。"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"setVoiceByLanguage(language: string): Promise<boolean>"})}),(0,r.jsx)(s.br,{}),"\n根据语言代码来设置语音。"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h2,{id:"事件监听器",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#事件监听器",children:"#"}),"事件监听器"]}),"\n",(0,r.jsxs)(s.h3,{id:"支持的事件",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#支持的事件",children:"#"}),"支持的事件"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"start"})}),": 语音合成开始。"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"pause"})}),": 语音暂停。"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"continue"})}),": 语音从暂停状态继续。"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"finish"})}),": 语音朗读完成。"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"cancel"})}),": 语音合成被取消。"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"progress"})}),": 提供合成进度的详细信息（",(0,r.jsx)(s.code,{children:"SpeechProgressDetails"}),"）。"]}),"\n"]}),"\n",(0,r.jsxs)(s.h3,{id:"监听器管理",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#监听器管理",children:"#"}),"监听器管理"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"addListener(event: string, listener: Function): void"})}),(0,r.jsx)(s.br,{}),"\n添加事件监听器。"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"removeListener(event: string, listener: Function): void"})}),(0,r.jsx)(s.br,{}),"\n移除事件监听器。"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h2,{id:"示例",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#示例",children:"#"}),"示例"]}),"\n",(0,r.jsxs)(s.h3,{id:"配置-sharedaudiosession",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#配置-sharedaudiosession",children:"#"}),"配置 ",(0,r.jsx)(s.code,{children:"SharedAudioSession"})]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,r.jsxs)(s.code,{children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" SharedAudioSession"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".setActive"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"true"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" SharedAudioSession"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".setCategory"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'  "playback"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  ["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"mixWithOthers"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"]"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})})]})})}),"\n",(0,r.jsxs)(s.h3,{id:"播放文本",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#播放文本",children:"#"}),"播放文本"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,r.jsx)(s.code,{children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" Speech"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".speak"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Hello, world!"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})]})})})}),"\n",(0,r.jsxs)(s.h3,{id:"使用自定义选项朗读文本",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#使用自定义选项朗读文本",children:"#"}),"使用自定义选项朗读文本"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,r.jsxs)(s.code,{children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" Speech"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".speak"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Welcome to **Scripting**"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  isMarkdown"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" true"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  pitch"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" 1.5"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  rate"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" 0.8"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  voiceLanguage"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "en-US"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"})"})})]})})}),"\n",(0,r.jsxs)(s.h3,{id:"将文本合成为文件",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#将文本合成为文件",children:"#"}),"将文本合成为文件"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,r.jsxs)(s.code,{children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" { Path } "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "scripting"'})]}),"\n",(0,r.jsx)(s.span,{className:"line"}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" filePath"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" Path"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".join"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"FileManager"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:".documentDirectory"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "output.caf"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" Speech"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".synthesizeToFile"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Saving to file."'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" filePath"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" { rate"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" 1.0"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" })"})]})]})})}),"\n",(0,r.jsxs)(s.h3,{id:"控制播放",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#控制播放",children:"#"}),"控制播放"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,r.jsxs)(s.code,{children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" Speech"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".speak"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Pausing example..."'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" Speech"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".pause"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"word"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" Speech"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".resume"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"()"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" Speech"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".stop"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"() "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:'// 默认在 "immediate" 处停止。'})]})]})})}),"\n",(0,r.jsxs)(s.h3,{id:"添加进度监听器",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#添加进度监听器",children:"#"}),"添加进度监听器"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,r.jsxs)(s.code,{children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Speech"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".addListener"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"progress"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" (details) "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"  console"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"`正在朗读: "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"${"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"details"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:".word"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"}"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"`"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"});"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" Speech"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".speak"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Event listening example."'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Speech"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".removeListener"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"progress"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" listener)"})]})]})})}),"\n",(0,r.jsx)(s.p,{children:"通过这些 API，你可以在脚本中实现功能强大的语音合成操作，包括基础的文本转语音、播放控制以及事件回调，为开发者提供灵活且丰富的 TTS 功能。"})]})}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}c.__RSPRESS_PAGE_META={},c.__RSPRESS_PAGE_META["zh%2Fguide%2FDevice%20Capabilities%2FSpeech%2Findex.md"]={toc:[{id:"功能概述",text:"功能概述",depth:2},{id:"类型定义",text:"类型定义",depth:2},{id:"speechboundary",text:"`SpeechBoundary`",depth:3},{id:"speechsynthesisvoice",text:"`SpeechSynthesisVoice`",depth:3},{id:"speechprogressdetails",text:"`SpeechProgressDetails`",depth:3},{id:"speechsynthesisoptions",text:"`SpeechSynthesisOptions`",depth:3},{id:"静态属性",text:"静态属性",depth:2},{id:"全局语音设置",text:"全局语音设置",depth:3},{id:"语音和语言",text:"语音和语言",depth:3},{id:"音频会话",text:"音频会话",depth:3},{id:"方法",text:"方法",depth:2},{id:"语音播放与合成",text:"语音播放与合成",depth:3},{id:"播放控制",text:"播放控制",depth:3},{id:"状态管理",text:"状态管理",depth:3},{id:"语音管理",text:"语音管理",depth:3},{id:"事件监听器",text:"事件监听器",depth:2},{id:"支持的事件",text:"支持的事件",depth:3},{id:"监听器管理",text:"监听器管理",depth:3},{id:"示例",text:"示例",depth:2},{id:"配置-sharedaudiosession",text:"配置 `SharedAudioSession`",depth:3},{id:"播放文本",text:"播放文本",depth:3},{id:"使用自定义选项朗读文本",text:"使用自定义选项朗读文本",depth:3},{id:"将文本合成为文件",text:"将文本合成为文件",depth:3},{id:"控制播放",text:"控制播放",depth:3},{id:"添加进度监听器",text:"添加进度监听器",depth:3}],title:"语音合成",headingTitle:"",frontmatter:{title:"语音合成",description:"将文字转换为语音。"}}}}]);