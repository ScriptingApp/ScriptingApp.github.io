"use strict";(self.rspackChunktest=self.rspackChunktest||[]).push([["97131"],{12262(n,e,s){s.r(e),s.d(e,{default:()=>o});var r=s(74848),i=s(28453);function l(n){let e={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,i.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Scripting"})," 应用支持在 ",(0,r.jsx)(e.strong,{children:"小组件"})," 和 ",(0,r.jsx)(e.strong,{children:"LiveActivity（灵动岛）"})," 中添加互动的功能，使您可以通过 ",(0,r.jsx)(e.code,{children:"Button"})," 和 ",(0,r.jsx)(e.code,{children:"Toggle"})," 组件创建动态、交互式的 UI。这些控件可以执行 ",(0,r.jsx)(e.strong,{children:"AppIntent"})," 来触发操作，从而增强小组件和 LiveActivity 的功能。"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.h2,{id:"1-appintent-简介",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#1-appintent-简介",children:"#"}),"1. AppIntent 简介"]}),"\n",(0,r.jsxs)(e.h3,{id:"什么是-appintent",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#什么是-appintent",children:"#"}),"什么是 AppIntent？"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"AppIntent"})," 定义了一个由控件（如 ",(0,r.jsx)(e.code,{children:"Button"})," 或 ",(0,r.jsx)(e.code,{children:"Toggle"}),"）触发的特定操作，用于小组件或 LiveActivity UI。AppIntent 将 UI 组件与可执行逻辑连接起来，实现无缝交互。"]}),"\n",(0,r.jsxs)(e.h3,{id:"支持的协议",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#支持的协议",children:"#"}),"支持的协议"]}),"\n",(0,r.jsx)(e.p,{children:"AppIntent 可以实现以下协议："}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:(0,r.jsx)(e.code,{children:"AppIntent"})}),"：通用意图，用于触发自定义操作。"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:(0,r.jsx)(e.code,{children:"AudioPlaybackIntent"})}),"：处理音频播放（如播放、暂停或切换音频状态）。"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:(0,r.jsx)(e.code,{children:"AudioRecordingIntent"})}),"：管理音频录制状态（需要 iOS 18+，并且在录制期间保持 LiveActivity 活跃）。"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:(0,r.jsx)(e.code,{children:"LiveActivityIntent"})}),"：修改或管理 LiveActivity 状态。"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.h2,{id:"2-注册-appintent",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#2-注册-appintent",children:"#"}),"2. 注册 AppIntent"]}),"\n",(0,r.jsxs)(e.p,{children:["在使用 ",(0,r.jsx)(e.strong,{children:"AppIntent"})," 之前，必须通过 ",(0,r.jsx)(e.code,{children:"AppIntentManager.register"})," 方法在 ",(0,r.jsx)(e.code,{children:"app_intents.tsx"})," 文件中注册。"]}),"\n",(0,r.jsxs)(e.h3,{id:"示例注册-appintent",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#示例注册-appintent",children:"#"}),"示例：注册 AppIntent"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"typescript",children:(0,r.jsxs)(e.code,{children:[(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// app_intents.tsx"})}),"\n",(0,r.jsx)(e.span,{className:"line"}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" { AppIntentManager"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" AppIntentProtocol } "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "scripting"'})]}),"\n",(0,r.jsx)(e.span,{className:"line"}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// 注册不带参数的 AppIntent"})}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" IntentWithoutParams"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" AppIntentManager"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".register"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"({"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  name"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "IntentWithoutParams"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  protocol"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" AppIntentProtocol"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:".AppIntent"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"  perform"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" async"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" (params"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" undefined"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:") "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"    // 执行自定义操作"})}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"    console"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Intent 被触发"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"    // 可选：刷新小组件"})}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"    Widget"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".reloadAll"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"()"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  }"})}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"})"})}),"\n",(0,r.jsx)(e.span,{className:"line"}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// 注册带参数的 AppIntent"})}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" ToggleIntentWithParams"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" AppIntentManager"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".register"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"({"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  name"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "ToggleIntentWithParams"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  protocol"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" AppIntentProtocol"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:".AudioPlaybackIntent"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"  perform"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" async"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" (audioName"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" string"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:") "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"    // 根据参数执行操作"})}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"    console"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"`切换音频播放状态："}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"${"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"audioName"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"}"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"`"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"    Widget"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".reloadAll"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"()"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  }"})}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"})"})})]})})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.h2,{id:"3-在小组件或-liveactivity-ui-中使用-appintent",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#3-在小组件或-liveactivity-ui-中使用-appintent",children:"#"}),"3. 在小组件或 LiveActivity UI 中使用 AppIntent"]}),"\n",(0,r.jsxs)(e.p,{children:["注册完 AppIntent 后，可以在 ",(0,r.jsx)(e.code,{children:"widget.tsx"})," 或 LiveActivity UI 文件中的 ",(0,r.jsx)(e.code,{children:"Button"})," 和 ",(0,r.jsx)(e.code,{children:"Toggle"})," 等交互组件中链接这些 AppIntent。"]}),"\n",(0,r.jsxs)(e.h3,{id:"示例在小组件中使用-appintent",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#示例在小组件中使用-appintent",children:"#"}),"示例：在小组件中使用 AppIntent"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"typescript",children:(0,r.jsxs)(e.code,{children:[(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// widget.tsx"})}),"\n",(0,r.jsx)(e.span,{className:"line"}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" { VStack"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" Button"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" Toggle } "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "scripting"'})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" { IntentWithoutParams"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" ToggleIntentWithParams } "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "./app_intents"'})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" { model } "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "./model"'})]}),"\n",(0,r.jsx)(e.span,{className:"line"}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" WidgetView"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"() {"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"  return"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    <"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"VStack"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"      <"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"Button"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"        title"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"点击我"'})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"        intent"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"{"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"IntentWithoutParams"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(undefined)} "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// 触发无参数的 AppIntent"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"      />"})}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"      <"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"Toggle"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"        title"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"播放或暂停"'})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"        value"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"{model.checked}"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"        intent"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"{"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"ToggleIntentWithParams"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"audio_name"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:")} "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// 触发带参数的 AppIntent"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"      />"})}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"    </"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"VStack"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:">"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  )"})}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"}"})}),"\n",(0,r.jsx)(e.span,{className:"line"}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// 展示小组件"})}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Widget"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".present"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(<"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"WidgetView"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" />)"})]})]})})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.h2,{id:"4-api-参考",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#4-api-参考",children:"#"}),"4. API 参考"]}),"\n",(0,r.jsxs)(e.h3,{id:"appintentmanagerregister",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#appintentmanagerregister",children:"#"}),(0,r.jsx)(e.code,{children:"AppIntentManager.register"})]}),"\n",(0,r.jsx)(e.p,{children:"注册一个可在小组件或 LiveActivity UI 中使用的 AppIntent。"}),"\n",(0,r.jsxs)(e.h4,{id:"参数",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#参数",children:"#"}),"参数："]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"name"})," (string)：意图的唯一名称。"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"protocol"})," (",(0,r.jsx)(e.code,{children:"AppIntentProtocol"}),")：指定意图类型（如 ",(0,r.jsx)(e.code,{children:"AppIntent"}),"、",(0,r.jsx)(e.code,{children:"AudioPlaybackIntent"}),"）。"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"perform"})," (function)：当触发意图时执行的函数。"]}),"\n"]}),"\n",(0,r.jsxs)(e.h4,{id:"返回",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#返回",children:"#"}),"返回："]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["一个 ",(0,r.jsx)(e.code,{children:"AppIntentFactory"})," 函数，可用于创建已注册意图的实例。"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.h3,{id:"button-组件",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#button-组件",children:"#"}),(0,r.jsx)(e.code,{children:"Button"})," 组件"]}),"\n",(0,r.jsx)(e.p,{children:"可点击的按钮，用于触发 AppIntent。"}),"\n",(0,r.jsxs)(e.h4,{id:"属性",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#属性",children:"#"}),"属性："]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"title"})," (string)：按钮的标签。"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"intent"})," (",(0,r.jsx)(e.code,{children:"AppIntent<any>"}),")：按钮被点击时执行的 AppIntent。"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"systemImage"})," (可选)：按钮上显示的 SF Symbol 图标。"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.h3,{id:"toggle-组件",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#toggle-组件",children:"#"}),(0,r.jsx)(e.code,{children:"Toggle"})," 组件"]}),"\n",(0,r.jsx)(e.p,{children:"切换开关，切换值时触发 AppIntent。"}),"\n",(0,r.jsxs)(e.h4,{id:"属性-1",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#属性-1",children:"#"}),"属性："]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"value"})," (boolean)：切换状态（开/关）。"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"intent"})," (",(0,r.jsx)(e.code,{children:"AppIntent<any>"}),")：切换时执行的 AppIntent。"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"title"})," (string)：切换的标签。"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"systemImage"})," (可选)：切换上显示的 SF Symbol 图标。"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.h2,{id:"5-注意事项和最佳实践",children:[(0,r.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#5-注意事项和最佳实践",children:"#"}),"5. 注意事项和最佳实践"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["在 ",(0,r.jsx)(e.code,{children:"perform"})," 函数中使用 ",(0,r.jsx)(e.code,{children:"Widget.reloadAll()"})," 可在执行意图后动态更新小组件。"]}),"\n",(0,r.jsxs)(e.li,{children:["将所有 AppIntent 定义在 ",(0,r.jsx)(e.code,{children:"app_intents.tsx"})," 文件中，方便组织和重用。"]}),"\n",(0,r.jsxs)(e.li,{children:["根据意图的功能选择合适的协议（如 ",(0,r.jsx)(e.code,{children:"AudioPlaybackIntent"}),"）。"]}),"\n"]})]})}function o(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(l,{...n})}):l(n)}o.__RSPRESS_PAGE_META={},o.__RSPRESS_PAGE_META["v2.4.6%2Fzh%2Fguide%2FInteractive%20Widget%20and%20LiveActivity.md"]={toc:[{id:"1-appintent-简介",text:"1. AppIntent 简介",depth:2},{id:"什么是-appintent",text:"什么是 AppIntent？",depth:3},{id:"支持的协议",text:"支持的协议",depth:3},{id:"2-注册-appintent",text:"2. 注册 AppIntent",depth:2},{id:"示例注册-appintent",text:"示例：注册 AppIntent",depth:3},{id:"3-在小组件或-liveactivity-ui-中使用-appintent",text:"3. 在小组件或 LiveActivity UI 中使用 AppIntent",depth:2},{id:"示例在小组件中使用-appintent",text:"示例：在小组件中使用 AppIntent",depth:3},{id:"4-api-参考",text:"4. API 参考",depth:2},{id:"appintentmanagerregister",text:"`AppIntentManager.register`",depth:3},{id:"参数",text:"参数：",depth:4},{id:"返回",text:"返回：",depth:4},{id:"button-组件",text:"`Button` 组件",depth:3},{id:"属性",text:"属性：",depth:4},{id:"toggle-组件",text:"`Toggle` 组件",depth:3},{id:"属性-1",text:"属性：",depth:4},{id:"5-注意事项和最佳实践",text:"5. 注意事项和最佳实践",depth:2}],title:"可互动的小组件和灵动岛",headingTitle:"",frontmatter:{title:"可互动的小组件和灵动岛",description:"通过 Button 和 Toggle 组件创建动态、交互式的 UI。"}}}}]);