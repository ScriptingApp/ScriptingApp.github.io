"use strict";(self.rspackChunktest=self.rspackChunktest||[]).push([["51360"],{39363(e,s,n){n.r(s),n.d(s,{default:()=>l});var r=n(74848),i=n(28453);function o(e){let s={a:"a",br:"br",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.code,{children:"WebSocket"})," class provides an interface for creating and managing WebSocket connections, allowing for real-time communication with a server. You can send and receive both text and binary data, including byte buffers, over the WebSocket connection."]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h2,{id:"overview",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#overview",children:"#"}),"Overview"]}),"\n",(0,r.jsx)(s.p,{children:"WebSocket is a communication protocol that allows full-duplex communication between a client and a server. This makes it ideal for real-time applications like live messaging, notifications, or streaming data."}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h2,{id:"class-websocket",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#class-websocket",children:"#"}),"Class: ",(0,r.jsx)(s.code,{children:"WebSocket"})]}),"\n",(0,r.jsxs)(s.h3,{id:"constructor",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#constructor",children:"#"}),"Constructor"]}),"\n",(0,r.jsxs)(s.h4,{id:"new-websocketurl-string",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#new-websocketurl-string",children:"#"}),(0,r.jsx)(s.code,{children:"new WebSocket(url: string)"})]}),"\n",(0,r.jsx)(s.p,{children:"Creates a new WebSocket connection to the specified URL and attempts to establish a connection immediately."}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Parameters"}),":"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"url: string"}),": The WebSocket server URL to connect to. Example: ",(0,r.jsx)(s.code,{children:'"ws://example.com/socket"'})," or ",(0,r.jsx)(s.code,{children:'"wss://example.com/socket"'})," for secure WebSocket connections."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Returns"}),": A ",(0,r.jsx)(s.code,{children:"WebSocket"})," object representing the connection."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h3,{id:"properties",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#properties",children:"#"}),"Properties"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"url: string"})}),(0,r.jsx)(s.br,{}),"\nThe URL to which the WebSocket is connected. This property is read-only."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"onopen?: () => void"})}),(0,r.jsx)(s.br,{}),"\nOptional callback function triggered when the WebSocket connection is successfully established."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"onerror?: (error: Error) => void"})}),(0,r.jsx)(s.br,{}),"\nOptional callback function triggered when an error occurs during the WebSocket connection or communication."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"onmessage?: (message: string | Data) => void"})}),(0,r.jsx)(s.br,{}),"\nOptional callback function triggered when a message is received from the WebSocket server. The ",(0,r.jsx)(s.code,{children:"message"})," parameter can be either a string or binary data, represented by the ",(0,r.jsx)(s.code,{children:"Data"})," class."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"onclose?: (reason?: string) => void"})}),(0,r.jsx)(s.br,{}),"\nOptional callback function triggered when the WebSocket connection is closed. The ",(0,r.jsx)(s.code,{children:"reason"})," parameter provides an optional explanation for the closure."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h3,{id:"methods",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#methods",children:"#"}),"Methods"]}),"\n",(0,r.jsxs)(s.h4,{id:"sendmessage-string--data-void",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#sendmessage-string--data-void",children:"#"}),(0,r.jsx)(s.code,{children:"send(message: string | Data): void"})]}),"\n",(0,r.jsx)(s.p,{children:"Sends data to the server over the WebSocket connection."}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Parameters"}),":"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"message: string | Data"}),": The data to be sent to the server. It can be a string or an instance of the ",(0,r.jsx)(s.code,{children:"Data"})," class."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Returns"}),": ",(0,r.jsx)(s.code,{children:"void"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.h4,{id:"closecode-1000--1001--1002--1003-reason-string-void",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#closecode-1000--1001--1002--1003-reason-string-void",children:"#"}),(0,r.jsx)(s.code,{children:"close(code?: 1000 | 1001 | 1002 | 1003, reason?: string): void"})]}),"\n",(0,r.jsx)(s.p,{children:"Closes the WebSocket connection. If the connection is already closed, this method does nothing."}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Parameters"}),":"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"code?: 1000 | 1001 | 1002 | 1003"}),": An optional WebSocket connection close code. Common codes include:\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"1000"}),": Normal closure"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"1001"}),": Going away"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"1002"}),": Protocol error"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"1003"}),": Unsupported data type"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"reason?: string"}),": An optional reason for closing the connection. This string must be no longer than 123 bytes (UTF-8 encoded)."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Returns"}),": ",(0,r.jsx)(s.code,{children:"void"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h3,{id:"event-handling",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#event-handling",children:"#"}),"Event Handling"]}),"\n",(0,r.jsxs)(s.p,{children:["You can listen for WebSocket events using ",(0,r.jsx)(s.code,{children:"addEventListener"})," and remove event listeners with ",(0,r.jsx)(s.code,{children:"removeEventListener"}),"."]}),"\n",(0,r.jsxs)(s.h4,{id:"addeventlistenerevent-open-listener---void-void",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#addeventlistenerevent-open-listener---void-void",children:"#"}),(0,r.jsx)(s.code,{children:'addEventListener(event: "open", listener: () => void): void'})]}),"\n",(0,r.jsxs)(s.p,{children:["Adds an event listener for the ",(0,r.jsx)(s.code,{children:'"open"'})," event, triggered when the WebSocket connection is established."]}),"\n",(0,r.jsxs)(s.h4,{id:"addeventlistenerevent-error-listener-error-error--void-void",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#addeventlistenerevent-error-listener-error-error--void-void",children:"#"}),(0,r.jsx)(s.code,{children:'addEventListener(event: "error", listener: (error: Error) => void): void'})]}),"\n",(0,r.jsxs)(s.p,{children:["Adds an event listener for the ",(0,r.jsx)(s.code,{children:'"error"'})," event, triggered when an error occurs during the WebSocket connection."]}),"\n",(0,r.jsxs)(s.h4,{id:"addeventlistenerevent-message-listener-message-string--data--void-void",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#addeventlistenerevent-message-listener-message-string--data--void-void",children:"#"}),(0,r.jsx)(s.code,{children:'addEventListener(event: "message", listener: (message: string | Data) => void): void'})]}),"\n",(0,r.jsxs)(s.p,{children:["Adds an event listener for the ",(0,r.jsx)(s.code,{children:'"message"'})," event, triggered when a message is received from the WebSocket server."]}),"\n",(0,r.jsxs)(s.h4,{id:"addeventlistenerevent-close-listener-reason-string--void-void",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#addeventlistenerevent-close-listener-reason-string--void-void",children:"#"}),(0,r.jsx)(s.code,{children:'addEventListener(event: "close", listener: (reason?: string) => void): void'})]}),"\n",(0,r.jsxs)(s.p,{children:["Adds an event listener for the ",(0,r.jsx)(s.code,{children:'"close"'})," event, triggered when the WebSocket connection is closed."]}),"\n",(0,r.jsxs)(s.h4,{id:"removeeventlistenerevent-open-listener---void-void",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#removeeventlistenerevent-open-listener---void-void",children:"#"}),(0,r.jsx)(s.code,{children:'removeEventListener(event: "open", listener: () => void): void'})]}),"\n",(0,r.jsxs)(s.p,{children:["Removes an event listener for the ",(0,r.jsx)(s.code,{children:'"open"'})," event."]}),"\n",(0,r.jsxs)(s.h4,{id:"removeeventlistenerevent-error-listener-error-error--void-void",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#removeeventlistenerevent-error-listener-error-error--void-void",children:"#"}),(0,r.jsx)(s.code,{children:'removeEventListener(event: "error", listener: (error: Error) => void): void'})]}),"\n",(0,r.jsxs)(s.p,{children:["Removes an event listener for the ",(0,r.jsx)(s.code,{children:'"error"'})," event."]}),"\n",(0,r.jsxs)(s.h4,{id:"removeeventlistenerevent-message-listener-message-string--data--void-void",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#removeeventlistenerevent-message-listener-message-string--data--void-void",children:"#"}),(0,r.jsx)(s.code,{children:'removeEventListener(event: "message", listener: (message: string | Data) => void): void'})]}),"\n",(0,r.jsxs)(s.p,{children:["Removes an event listener for the ",(0,r.jsx)(s.code,{children:'"message"'})," event."]}),"\n",(0,r.jsxs)(s.h4,{id:"removeeventlistenerevent-close-listener-reason-string--void-void",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#removeeventlistenerevent-close-listener-reason-string--void-void",children:"#"}),(0,r.jsx)(s.code,{children:'removeEventListener(event: "close", listener: (reason?: string) => void): void'})]}),"\n",(0,r.jsxs)(s.p,{children:["Removes an event listener for the ",(0,r.jsx)(s.code,{children:'"close"'})," event."]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h2,{id:"example-usage",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#example-usage",children:"#"}),"Example Usage"]}),"\n",(0,r.jsxs)(s.h3,{id:"establishing-a-websocket-connection",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#establishing-a-websocket-connection",children:"#"}),"Establishing a WebSocket Connection"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,r.jsxs)(s.code,{children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" ws"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" new"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" WebSocket"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"wss://example.com/socket"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,r.jsx)(s.span,{className:"line"}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// Set up event listeners"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"ws"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".addEventListener"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"open"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"  console"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Connection established!"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"  ws"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".send"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Hello, Server!"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"})"})}),"\n",(0,r.jsx)(s.span,{className:"line"}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"ws"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".addEventListener"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"message"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" (message) "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"  console"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Received message:"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" message)"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"})"})}),"\n",(0,r.jsx)(s.span,{className:"line"}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"ws"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".addEventListener"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"error"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" (error) "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"  console"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"WebSocket error:"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" error)"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"})"})}),"\n",(0,r.jsx)(s.span,{className:"line"}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"ws"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".addEventListener"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"close"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" (reason) "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"  console"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Connection closed:"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" reason)"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"})"})})]})})}),"\n",(0,r.jsxs)(s.h3,{id:"sending-a-string-message",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#sending-a-string-message",children:"#"}),"Sending a String Message"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,r.jsxs)(s.code,{children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" ws"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" new"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" WebSocket"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"wss://example.com/socket"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,r.jsx)(s.span,{className:"line"}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"ws"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".addEventListener"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"open"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"  ws"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".send"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Hello, this is a test message!"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"})"})})]})})}),"\n",(0,r.jsxs)(s.h3,{id:"sending-binary-data-using-data",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#sending-binary-data-using-data",children:"#"}),"Sending Binary Data Using ",(0,r.jsx)(s.code,{children:"Data"})]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,r.jsxs)(s.code,{children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" ws"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" new"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" WebSocket"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"wss://example.com/socket"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,r.jsx)(s.span,{className:"line"}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"ws"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".addEventListener"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"open"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"  const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" data"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" Data"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".fromString"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"some message"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"  ws"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".send"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(data) "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// Send binary data"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"})"})})]})})}),"\n",(0,r.jsxs)(s.h3,{id:"handling-binary-data",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#handling-binary-data",children:"#"}),"Handling Binary Data"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,r.jsxs)(s.code,{children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" ws"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" new"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" WebSocket"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"wss://example.com/socket"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,r.jsx)(s.span,{className:"line"}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"ws"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".addEventListener"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"message"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" (message) "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"  if"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" (message "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"instanceof"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" Data"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:") {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"    const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" byteArray"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" message"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".getBytes"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"()"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"    if"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" (byteArray) {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"      console"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Received binary data:"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" byteArray)"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    }"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  }"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"})"})})]})})}),"\n",(0,r.jsxs)(s.h3,{id:"closing-the-websocket-connection",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#closing-the-websocket-connection",children:"#"}),"Closing the WebSocket Connection"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,r.jsxs)(s.code,{children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" ws"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" new"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" WebSocket"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"wss://example.com/socket"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,r.jsx)(s.span,{className:"line"}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"ws"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".addEventListener"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"open"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"  console"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Connection established!"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"  // Close the connection with a custom reason"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"  ws"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".close"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"1000"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "Closing connection after test"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"})"})})]})})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h2,{id:"notes",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#notes",children:"#"}),"Notes"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["The ",(0,r.jsx)(s.code,{children:"send()"})," method can handle both text and binary data. For binary data, you can use the ",(0,r.jsx)(s.code,{children:"Data"})," class to handle the byte buffer."]}),"\n",(0,r.jsxs)(s.li,{children:["For binary data, ensure that your WebSocket server is capable of handling binary data, such as ",(0,r.jsx)(s.code,{children:"ArrayBuffer"})," or ",(0,r.jsx)(s.code,{children:"Uint8Array"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["The ",(0,r.jsx)(s.code,{children:"close()"})," method can take a ",(0,r.jsx)(s.code,{children:"code"})," and an optional ",(0,r.jsx)(s.code,{children:"reason"})," to specify how the WebSocket connection should close."]}),"\n"]})]})}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["TestFlight%2Fen%2Fguide%2FUtilities%2FWebScoket.md"]={toc:[{id:"overview",text:"Overview",depth:2},{id:"class-websocket",text:"Class: `WebSocket`",depth:2},{id:"constructor",text:"Constructor",depth:3},{id:"new-websocketurl-string",text:"`new WebSocket(url: string)`",depth:4},{id:"properties",text:"Properties",depth:3},{id:"methods",text:"Methods",depth:3},{id:"sendmessage-string--data-void",text:"`send(message: string | Data): void`",depth:4},{id:"closecode-1000--1001--1002--1003-reason-string-void",text:"`close(code?: 1000 | 1001 | 1002 | 1003, reason?: string): void`",depth:4},{id:"event-handling",text:"Event Handling",depth:3},{id:"addeventlistenerevent-open-listener---void-void",text:'`addEventListener(event: "open", listener: () => void): void`',depth:4},{id:"addeventlistenerevent-error-listener-error-error--void-void",text:'`addEventListener(event: "error", listener: (error: Error) => void): void`',depth:4},{id:"addeventlistenerevent-message-listener-message-string--data--void-void",text:'`addEventListener(event: "message", listener: (message: string | Data) => void): void`',depth:4},{id:"addeventlistenerevent-close-listener-reason-string--void-void",text:'`addEventListener(event: "close", listener: (reason?: string) => void): void`',depth:4},{id:"removeeventlistenerevent-open-listener---void-void",text:'`removeEventListener(event: "open", listener: () => void): void`',depth:4},{id:"removeeventlistenerevent-error-listener-error-error--void-void",text:'`removeEventListener(event: "error", listener: (error: Error) => void): void`',depth:4},{id:"removeeventlistenerevent-message-listener-message-string--data--void-void",text:'`removeEventListener(event: "message", listener: (message: string | Data) => void): void`',depth:4},{id:"removeeventlistenerevent-close-listener-reason-string--void-void",text:'`removeEventListener(event: "close", listener: (reason?: string) => void): void`',depth:4},{id:"example-usage",text:"Example Usage",depth:2},{id:"establishing-a-websocket-connection",text:"Establishing a WebSocket Connection",depth:3},{id:"sending-a-string-message",text:"Sending a String Message",depth:3},{id:"sending-binary-data-using-data",text:"Sending Binary Data Using `Data`",depth:3},{id:"handling-binary-data",text:"Handling Binary Data",depth:3},{id:"closing-the-websocket-connection",text:"Closing the WebSocket Connection",depth:3},{id:"notes",text:"Notes",depth:2}],title:"WebScoket",headingTitle:"",frontmatter:{title:"WebScoket",description:"This interface allows you to create and manage WebSocket connections, allowing for real-time communication with a server."}}}}]);