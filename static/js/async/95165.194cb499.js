"use strict";(self.rspackChunktest=self.rspackChunktest||[]).push([["95165"],{54284(s,e,r){r.r(e),r.d(e,{default:()=>l});var n=r(74848),i=r(28453);function o(s){let e={a:"a",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,i.R)(),...s.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:"AudioRecorder"})," 类允许您将音频数据录制到文件。它提供了开始、停止、暂停和管理音频录制的功能，并可配置音频质量、采样率、格式等。"]}),"\n",(0,n.jsxs)(e.h2,{id:"功能",children:[(0,n.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#功能",children:"#"}),"功能"]}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsx)(e.li,{children:"从系统的活跃输入设备录制音频。"}),"\n",(0,n.jsx)(e.li,{children:"可以录制指定时长，或在手动停止前一直录制。"}),"\n",(0,n.jsx)(e.li,{children:"暂停并恢复录制。"}),"\n",(0,n.jsx)(e.li,{children:"删除已录制的音频文件。"}),"\n"]}),"\n",(0,n.jsx)(e.hr,{}),"\n",(0,n.jsxs)(e.h2,{id:"用法",children:[(0,n.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#用法",children:"#"}),"用法"]}),"\n",(0,n.jsxs)(e.h3,{id:"设置-sharedaudiosession",children:[(0,n.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#设置-sharedaudiosession",children:"#"}),"设置 SharedAudioSession"]}),"\n",(0,n.jsxs)(e.p,{children:["在创建 ",(0,n.jsx)(e.code,{children:"AudioRecorder"})," 实例之前，需要先设置 ",(0,n.jsx)(e.code,{children:"SharedAudioSession"}),"。因为音频会话与硬件相关，因此需要确保正确激活会话。"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsxs)(e.code,{children:[(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" SharedAudioSession"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".setActive"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"true"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" SharedAudioSession"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".setCategory"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"("})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'  "playAndRecord"'}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  ["}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"defaultToSpeaker"'}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"]"})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:")"})})]})})}),"\n",(0,n.jsxs)(e.h3,{id:"创建-audiorecorder-实例",children:[(0,n.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#创建-audiorecorder-实例",children:"#"}),"创建 AudioRecorder 实例"]}),"\n",(0,n.jsxs)(e.p,{children:["使用 ",(0,n.jsx)(e.code,{children:"create"})," 方法来创建一个音频录制器实例："]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsxs)(e.code,{children:[(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"async"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" function"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" createRecorder"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"() {"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"  try"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"    const"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" filePath"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" Path"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".join"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"("})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"      FileManager"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:".documentsDirectory"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'      "recording.m4a"'})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    )"})}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"    const"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" recorder"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" AudioRecorder"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".create"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(filePath"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"      format"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "MPEG4AAC"'}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"      sampleRate"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 44100"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"      numberOfChannels"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 2"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"      encoderAudioQuality"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" AVAudioQuality"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:".high"})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    })"})}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"    return"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" recorder"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  } "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"catch"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" (error) {"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"    console"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".error"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Failed to create recorder: "'}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" error)"})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  }"})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,n.jsxs)(e.h3,{id:"录制音频",children:[(0,n.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#录制音频",children:"#"}),"录制音频"]}),"\n",(0,n.jsxs)(e.p,{children:["您可以使用 ",(0,n.jsx)(e.code,{children:"record()"})," 方法开始录制："]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsxs)(e.code,{children:[(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"async"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" function"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" startRecording"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"() {"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"  const"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" recorder"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" createRecorder"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"()"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"  if"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" (recorder) {"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"    const"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" success"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" recorder"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".record"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"()"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"    console"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Recording started: "'}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" success)"})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  }"})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,n.jsx)(e.p,{children:"也可以提供额外的选项来控制录制开始的时间及录制时长："}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsxs)(e.code,{children:[(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" startSynchronizedRecording"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(recorderOne"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" recorderTwo) {"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"  let"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" timeOffset "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" recorderOne"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:".deviceCurrentTime "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"+"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 0.01"})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  "})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"  // 使两个 recorder 的录制时间同步"})}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"  recorderOne"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".record"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"({ atTime"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" timeOffset })"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"  recorderTwo"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".record"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"({ atTime"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" timeOffset })"})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,n.jsxs)(e.h3,{id:"暂停和停止录制",children:[(0,n.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#暂停和停止录制",children:"#"}),"暂停和停止录制"]}),"\n",(0,n.jsx)(e.p,{children:"暂停录制："}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsxs)(e.code,{children:[(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" pauseRecording"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(recorder) {"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"  recorder"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".pause"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"()"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"  console"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Recording paused."'}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,n.jsx)(e.p,{children:"停止录制："}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsxs)(e.code,{children:[(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" stopRecording"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(recorder) {"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"  recorder"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".stop"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"()"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"  console"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Recording stopped."'}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,n.jsxs)(e.h3,{id:"删除录音文件",children:[(0,n.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#删除录音文件",children:"#"}),"删除录音文件"]}),"\n",(0,n.jsx)(e.p,{children:"要删除已经录制好的文件："}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsxs)(e.code,{children:[(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" deleteRecording"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(recorder) {"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"  const"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" success"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" recorder"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".deleteRecording"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"()"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"  console"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Recording deleted: "'}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" success)"})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,n.jsxs)(e.h3,{id:"释放-recorder",children:[(0,n.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#释放-recorder",children:"#"}),"释放 Recorder"]}),"\n",(0,n.jsxs)(e.p,{children:["当不再需要使用录制器时，应调用 ",(0,n.jsx)(e.code,{children:"dispose()"})," 来释放资源："]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsxs)(e.code,{children:[(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" disposeRecorder"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(recorder) {"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"  recorder"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".dispose"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"()"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"  console"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Recorder disposed."'}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,n.jsxs)(e.h3,{id:"事件处理",children:[(0,n.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#事件处理",children:"#"}),"事件处理"]}),"\n",(0,n.jsxs)(e.p,{children:["可以使用 ",(0,n.jsx)(e.code,{children:"onFinish"})," 和 ",(0,n.jsx)(e.code,{children:"onError"})," 回调来处理录制完成和错误情况："]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsxs)(e.code,{children:[(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"async"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" function"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" setupRecorder"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"() {"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"  const"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" recorder"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" createRecorder"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"()"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"  if"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" (recorder) {"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"    recorder"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"."}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"onFinish"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" (success) "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"      console"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Recording finished successfully: "'}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" success)"})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    }"})}),"\n",(0,n.jsx)(e.span,{className:"line"}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"    recorder"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"."}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"onError"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" (message) "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"      console"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".error"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Recording error: "'}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" message)"})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    }"})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  }"})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,n.jsx)(e.hr,{}),"\n",(0,n.jsxs)(e.h2,{id:"api-参考",children:[(0,n.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#api-参考",children:"#"}),"API 参考"]}),"\n",(0,n.jsxs)(e.h3,{id:"audiorecordercreatefilepath-settings",children:[(0,n.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#audiorecordercreatefilepath-settings",children:"#"}),(0,n.jsx)(e.code,{children:"AudioRecorder.create(filePath, settings?)"})]}),"\n",(0,n.jsxs)(e.p,{children:["使用指定的设置创建一个 ",(0,n.jsx)(e.code,{children:"AudioRecorder"})," 实例。"]}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"filePath"})," (string): 要录制到的文件系统路径。"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"settings"})," (可选对象): 录音的音频设置：\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"format"})," (AudioFormat): 音频数据的格式，可选值包括 ",(0,n.jsx)(e.code,{children:'"LinearPCM"'}),", ",(0,n.jsx)(e.code,{children:'"MPEG4AAC"'}),", ",(0,n.jsx)(e.code,{children:'"AppleLossless"'}),", ",(0,n.jsx)(e.code,{children:'"AppleIMA4"'}),", ",(0,n.jsx)(e.code,{children:'"iLBC"'}),", ",(0,n.jsx)(e.code,{children:'"ULaw"'}),"。"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"sampleRate"})," (number): 采样率，单位为赫兹 (范围 8000 到 192000)。"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"numberOfChannels"})," (number): 声道数量 (1 到 64)。"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"encoderAudioQuality"})," (AVAudioQuality): 音频编码质量 (从 ",(0,n.jsx)(e.code,{children:"AVAudioQuality.min"})," 到 ",(0,n.jsx)(e.code,{children:"AVAudioQuality.max"}),")。"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:"返回值"}),": 一个 ",(0,n.jsx)(e.code,{children:"Promise"}),"，解析后返回 ",(0,n.jsx)(e.code,{children:"AudioRecorder"})," 实例。"]}),"\n",(0,n.jsxs)(e.h3,{id:"audiorecorderisrecording",children:[(0,n.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#audiorecorderisrecording",children:"#"}),(0,n.jsx)(e.code,{children:"AudioRecorder.isRecording"})]}),"\n",(0,n.jsx)(e.p,{children:"一个布尔值，用于指示录制器当前是否正在录音。"}),"\n",(0,n.jsxs)(e.h3,{id:"audiorecordercurrenttime",children:[(0,n.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#audiorecordercurrenttime",children:"#"}),(0,n.jsx)(e.code,{children:"AudioRecorder.currentTime"})]}),"\n",(0,n.jsx)(e.p,{children:"从录音开始到当前的时间（单位为秒）。"}),"\n",(0,n.jsxs)(e.h3,{id:"audiorecorderdevicecurrenttime",children:[(0,n.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#audiorecorderdevicecurrenttime",children:"#"}),(0,n.jsx)(e.code,{children:"AudioRecorder.deviceCurrentTime"})]}),"\n",(0,n.jsx)(e.p,{children:"主机音频设备的当前时间（单位为秒）。"}),"\n",(0,n.jsxs)(e.h3,{id:"audiorecorderrecordoptions",children:[(0,n.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#audiorecorderrecordoptions",children:"#"}),(0,n.jsx)(e.code,{children:"AudioRecorder.record(options?)"})]}),"\n",(0,n.jsx)(e.p,{children:"开始录制音频。"}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"options"})," (可选对象):\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"atTime"})," (number): 相对于 ",(0,n.jsx)(e.code,{children:"deviceCurrentTime"}),"，指定开始录制的时间。"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"duration"})," (number): 录音时长（单位为秒）。"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:"返回值"}),": 一个布尔值，表示录制是否成功开始。"]}),"\n",(0,n.jsxs)(e.h3,{id:"audiorecorderpause",children:[(0,n.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#audiorecorderpause",children:"#"}),(0,n.jsx)(e.code,{children:"AudioRecorder.pause()"})]}),"\n",(0,n.jsx)(e.p,{children:"暂停当前录制。"}),"\n",(0,n.jsxs)(e.h3,{id:"audiorecorderstop",children:[(0,n.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#audiorecorderstop",children:"#"}),(0,n.jsx)(e.code,{children:"AudioRecorder.stop()"})]}),"\n",(0,n.jsx)(e.p,{children:"停止录制并关闭音频文件。"}),"\n",(0,n.jsxs)(e.h3,{id:"audiorecorderdeleterecording",children:[(0,n.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#audiorecorderdeleterecording",children:"#"}),(0,n.jsx)(e.code,{children:"AudioRecorder.deleteRecording()"})]}),"\n",(0,n.jsx)(e.p,{children:"删除已经录制的音频文件。"}),"\n",(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:"返回值"}),": 一个布尔值，表示删除操作是否成功。"]}),"\n",(0,n.jsxs)(e.h3,{id:"audiorecorderdispose",children:[(0,n.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#audiorecorderdispose",children:"#"}),(0,n.jsx)(e.code,{children:"AudioRecorder.dispose()"})]}),"\n",(0,n.jsx)(e.p,{children:"释放录制器所使用的资源。"}),"\n",(0,n.jsxs)(e.h3,{id:"audiorecorderonfinish",children:[(0,n.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#audiorecorderonfinish",children:"#"}),(0,n.jsx)(e.code,{children:"AudioRecorder.onFinish"})]}),"\n",(0,n.jsx)(e.p,{children:"录音完成后调用的回调函数。"}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"success"})," (boolean): 表示录制是否成功完成。"]}),"\n"]}),"\n",(0,n.jsxs)(e.h3,{id:"audiorecorderonerror",children:[(0,n.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#audiorecorderonerror",children:"#"}),(0,n.jsx)(e.code,{children:"AudioRecorder.onError"})]}),"\n",(0,n.jsx)(e.p,{children:"在录制或编码出现错误时调用的回调函数。"}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"message"})," (string): 描述错误的字符串。"]}),"\n"]}),"\n",(0,n.jsx)(e.hr,{}),"\n",(0,n.jsxs)(e.h2,{id:"使用示例",children:[(0,n.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#使用示例",children:"#"}),"使用示例"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsxs)(e.code,{children:[(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" { Path } "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:" 'scripting'"})]}),"\n",(0,n.jsx)(e.span,{className:"line"}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"async"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" function"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" run"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"() {"})]}),"\n",(0,n.jsx)(e.span,{className:"line"}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"  await"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" SharedAudioSession"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".setActive"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"true"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"  await"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" SharedAudioSession"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".setCategory"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"("})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'    "playAndRecord"'}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    ["}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"defaultToSpeaker"'}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"]"})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  )"})}),"\n",(0,n.jsx)(e.span,{className:"line"}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"  try"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"    const"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" filePath"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" Path"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".join"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"("})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"      FileManager"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:".documentsDirectory"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'      "recording.m4a"'})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    )"})}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"    const"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" recorder"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" AudioRecorder"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".create"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(filePath"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"      format"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "MPEG4AAC"'}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"      sampleRate"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 48000"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"      numberOfChannels"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 2"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"      encoderAudioQuality"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" AVAudioQuality"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:".high"})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    })"})}),"\n",(0,n.jsx)(e.span,{className:"line"}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"    recorder"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"."}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"onFinish"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" (success) "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" console"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Recording finished successfully: "'}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" success)"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"    recorder"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"."}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"onError"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" (message) "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" console"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".error"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Recording error: "'}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" message)"})]}),"\n",(0,n.jsx)(e.span,{className:"line"}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"    recorder"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".record"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"()"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"    setTimeout"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(() "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"      recorder"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".stop"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"()"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"    }"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 5000"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:") "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// 5秒后停止录制"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  } "}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"catch"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" (error) {"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"    console"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".error"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Error: "'}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" String"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"(error))"})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"  }"})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"}"})}),"\n",(0,n.jsx)(e.span,{className:"line"}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"run"}),(0,n.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"()"})]})]})})}),"\n",(0,n.jsxs)(e.p,{children:["使用 ",(0,n.jsx)(e.code,{children:"AudioRecorder"})," 类，您可以在脚本中轻松管理音频录制操作，并灵活控制音频录制流程。"]})]})}function l(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}={...(0,i.R)(),...s.components};return e?(0,n.jsx)(e,{...s,children:(0,n.jsx)(o,{...s})}):o(s)}l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["zh%2Fdoc%2FDevice%20Capabilities%2FAudioRecorder.md"]={toc:[{id:"功能",text:"功能",depth:2},{id:"用法",text:"用法",depth:2},{id:"设置-sharedaudiosession",text:"设置 SharedAudioSession",depth:3},{id:"创建-audiorecorder-实例",text:"创建 AudioRecorder 实例",depth:3},{id:"录制音频",text:"录制音频",depth:3},{id:"暂停和停止录制",text:"暂停和停止录制",depth:3},{id:"删除录音文件",text:"删除录音文件",depth:3},{id:"释放-recorder",text:"释放 Recorder",depth:3},{id:"事件处理",text:"事件处理",depth:3},{id:"api-参考",text:"API 参考",depth:2},{id:"audiorecordercreatefilepath-settings",text:"`AudioRecorder.create(filePath, settings?)`",depth:3},{id:"audiorecorderisrecording",text:"`AudioRecorder.isRecording`",depth:3},{id:"audiorecordercurrenttime",text:"`AudioRecorder.currentTime`",depth:3},{id:"audiorecorderdevicecurrenttime",text:"`AudioRecorder.deviceCurrentTime`",depth:3},{id:"audiorecorderrecordoptions",text:"`AudioRecorder.record(options?)`",depth:3},{id:"audiorecorderpause",text:"`AudioRecorder.pause()`",depth:3},{id:"audiorecorderstop",text:"`AudioRecorder.stop()`",depth:3},{id:"audiorecorderdeleterecording",text:"`AudioRecorder.deleteRecording()`",depth:3},{id:"audiorecorderdispose",text:"`AudioRecorder.dispose()`",depth:3},{id:"audiorecorderonfinish",text:"`AudioRecorder.onFinish`",depth:3},{id:"audiorecorderonerror",text:"`AudioRecorder.onError`",depth:3},{id:"使用示例",text:"使用示例",depth:2}],title:"录音",headingTitle:"",frontmatter:{title:"录音"}}}}]);