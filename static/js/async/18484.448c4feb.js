"use strict";(self.rspackChunktest=self.rspackChunktest||[]).push([["18484"],{59007(e,n,s){s.r(n),s.d(n,{default:()=>i});var r=s(74848),o=s(28453);function l(e){let n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["Scripting 支持用户在控制中心或锁屏界面添加按钮（Button）或开关（Toggle）控件，并通过绑定脚本 ",(0,r.jsx)(n.code,{children:"AppIntent"})," 实现自定义逻辑。控件支持状态反馈、图标动态切换、隐私显示控制等能力。"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h2,{id:"控件标签类型定义",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#控件标签类型定义",children:"#"}),"控件标签类型定义"]}),"\n",(0,r.jsxs)(n.h3,{id:"controlwidgetlabel",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#controlwidgetlabel",children:"#"}),(0,r.jsx)(n.code,{children:"ControlWidgetLabel"})]}),"\n",(0,r.jsx)(n.p,{children:"表示控件主标签或状态标签的信息结构。"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"字段名"}),(0,r.jsx)(n.th,{children:"类型"}),(0,r.jsx)(n.th,{children:"描述"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"title"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"标签的文本标题。"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"systemImage"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string?"})}),(0,r.jsx)(n.td,{children:"可选的 SF Symbols 图标名称。"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"privacySensitive"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"boolean?"})}),(0,r.jsx)(n.td,{children:"控件在设备锁定时是否隐藏该标签内容。"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h2,{id:"一按钮控件controlwidgetbutton",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#一按钮控件controlwidgetbutton",children:"#"}),"一、按钮控件：",(0,r.jsx)(n.code,{children:"ControlWidgetButton"})]}),"\n",(0,r.jsx)(n.p,{children:"用于添加一个点击后触发指定意图的按钮控件。"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,r.jsx)(n.code,{children:(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:" ControlWidgetButton"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(props"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:" ControlWidgetButtonProps"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:")"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:" JSX"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"."}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"Element"})]})})})}),"\n",(0,r.jsxs)(n.h3,{id:"controlwidgetbuttonprops",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#controlwidgetbuttonprops",children:"#"}),(0,r.jsx)(n.code,{children:"ControlWidgetButtonProps"})]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"字段名"}),(0,r.jsx)(n.th,{children:"类型"}),(0,r.jsx)(n.th,{children:"描述"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"privacySensitive"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"boolean?"})}),(0,r.jsx)(n.td,{children:"控件是否在锁屏状态下隐藏其内容与状态。"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"intent"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"AppIntent<any>"})}),(0,r.jsx)(n.td,{children:"点击按钮后触发的意图（AppIntent 实例）。"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"label"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ControlWidgetLabel"})}),(0,r.jsx)(n.td,{children:"按钮主标签，显示标题与图标。"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"activeValueLabel"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ControlWidgetLabel | null?"})}),(0,r.jsxs)(n.td,{children:["按钮激活（Active）状态时显示的标签。设置后需同时提供 ",(0,r.jsx)(n.code,{children:"inactiveValueLabel"}),"。"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"inactiveValueLabel"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ControlWidgetLabel | null?"})}),(0,r.jsxs)(n.td,{children:["按钮非激活（Inactive）状态时显示的标签。设置后需同时提供 ",(0,r.jsx)(n.code,{children:"activeValueLabel"}),"。"]})]})]})]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["若提供了 ",(0,r.jsx)(n.code,{children:"activeValueLabel"})," 或 ",(0,r.jsx)(n.code,{children:"inactiveValueLabel"}),"，建议同时提供两者，以确保状态一致性。此类状态标签的图标会覆盖 ",(0,r.jsx)(n.code,{children:"label"})," 中的图标。"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h2,{id:"二开关控件controlwidgettoggle",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#二开关控件controlwidgettoggle",children:"#"}),"二、开关控件：",(0,r.jsx)(n.code,{children:"ControlWidgetToggle"})]}),"\n",(0,r.jsx)(n.p,{children:"用于添加一个可切换状态的开关控件，自动将布尔值通过绑定意图传入。"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,r.jsx)(n.code,{children:(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:" ControlWidgetToggle"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"T"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" extends"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" { value"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" boolean"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" }>(props"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:" ControlWidgetToggleProps"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"T"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:">)"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:" JSX"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"."}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"Element"})]})})})}),"\n",(0,r.jsxs)(n.h3,{id:"controlwidgettogglepropst",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#controlwidgettogglepropst",children:"#"}),(0,r.jsx)(n.code,{children:"ControlWidgetToggleProps<T>"})]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"字段名"}),(0,r.jsx)(n.th,{children:"类型"}),(0,r.jsx)(n.th,{children:"描述"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"privacySensitive"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"boolean?"})}),(0,r.jsx)(n.td,{children:"控件是否在锁屏状态下隐藏其内容与状态。"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"intent"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"AppIntent<T>"})}),(0,r.jsxs)(n.td,{children:["控件状态切换时触发的意图。泛型参数 ",(0,r.jsx)(n.code,{children:"T"})," 必须包含 ",(0,r.jsx)(n.code,{children:"value: boolean"}),"。"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"label"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ControlWidgetLabel"})}),(0,r.jsx)(n.td,{children:"控件主标签。"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"activeValueLabel"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ControlWidgetLabel | null?"})}),(0,r.jsxs)(n.td,{children:["控件激活（开）状态时显示的标签。需与 ",(0,r.jsx)(n.code,{children:"inactiveValueLabel"})," 搭配使用。"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"inactiveValueLabel"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ControlWidgetLabel | null?"})}),(0,r.jsxs)(n.td,{children:["控件非激活（关）状态时显示的标签。需与 ",(0,r.jsx)(n.code,{children:"activeValueLabel"})," 搭配使用。"]})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h2,{id:"三controlwidget-命名空间",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#三controlwidget-命名空间",children:"#"}),"三、ControlWidget 命名空间"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,r.jsx)(n.code,{children:(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"namespace"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:" ControlWidget"})]})})})}),"\n",(0,r.jsxs)(n.h3,{id:"controlwidgetparameter-string",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#controlwidgetparameter-string",children:"#"}),(0,r.jsx)(n.code,{children:"ControlWidget.parameter: string"})]}),"\n",(0,r.jsx)(n.p,{children:"用户在控件配置界面中设置的参数值，通常用于标识目标对象，如设备 ID、门编号等。"}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h3,{id:"controlwidgetpresentelement-virtualnode-void",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#controlwidgetpresentelement-virtualnode-void",children:"#"}),(0,r.jsx)(n.code,{children:"ControlWidget.present(element: VirtualNode): void"})]}),"\n",(0,r.jsxs)(n.p,{children:["设置控件的显示内容。仅允许传入 ",(0,r.jsx)(n.code,{children:"ControlWidgetButton"})," 或 ",(0,r.jsx)(n.code,{children:"ControlWidgetToggle"})," 元素。"]}),"\n",(0,r.jsxs)(n.h4,{id:"注意",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#注意",children:"#"}),"注意："]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["若使用 ",(0,r.jsx)(n.code,{children:"control_widget_button.tsx"}),"，只能呈现 ",(0,r.jsx)(n.code,{children:"ControlWidgetButton"}),"；"]}),"\n",(0,r.jsxs)(n.li,{children:["若使用 ",(0,r.jsx)(n.code,{children:"control_widget_toggle.tsx"}),"，只能呈现 ",(0,r.jsx)(n.code,{children:"ControlWidgetToggle"}),"；"]}),"\n",(0,r.jsxs)(n.li,{children:["若控件需要在锁屏隐藏，可在顶层组件上设置 ",(0,r.jsx)(n.code,{children:"privacySensitive"}),"；"]}),"\n",(0,r.jsxs)(n.li,{children:["如果仅需要隐藏标签或状态信息，可在相应的 ",(0,r.jsx)(n.code,{children:"ControlWidgetLabel"})," 中设置 ",(0,r.jsx)(n.code,{children:"privacySensitive"}),"。"]}),"\n"]}),"\n",(0,r.jsxs)(n.h4,{id:"示例",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#示例",children:"#"}),"示例："]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"tsx",children:(0,r.jsxs)(n.code,{children:[(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"/// app_intents.tsx"})}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" const"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" ToggleDoorIntent"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" AppIntentManager"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".register"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"({"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  name"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "ToggleDoorIntent"'}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  protocol"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" AppIntentProtocol"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:".AppIntent"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"  perform"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" async"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" ({ id"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" value }"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" { id"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" string"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"; value"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" boolean"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" }) "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"    await"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:" setDoorState"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(id"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" value)"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"    ControlWidget"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".reloadToggles"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"()"})]}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  }"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"})"})}),"\n",(0,r.jsx)(n.span,{className:"line"}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"/// control_widget_toggle.tsx"})}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"async"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" function"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:" run"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"() {"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"  const"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" doorId"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" ControlWidget"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:".parameter "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"||"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "default"'})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"  const"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" data"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:" fetchDoorData"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(doorId)"})]}),"\n",(0,r.jsx)(n.span,{className:"line"}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"  ControlWidget"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".present"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"("})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"    <"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"ControlWidgetToggle"})]}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"      privacySensitive"})}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"      intent"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"{"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"ToggleDoorIntent"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"({ id"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" doorId"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" value"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" !"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"data"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:".doorOpened })}"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"      label"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"{{"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"        title"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:" `门 "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"${"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"doorId"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"}"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"`"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"        systemImage"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" data"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:".doorOpened "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"?"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "door.garage.opened"'}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" :"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "door.garage.closed"'})]}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"      }}"})}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"      activeValueLabel"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"{{ title"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "门已打开"'}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" }}"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"      inactiveValueLabel"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"{{ title"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "门已关闭"'}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" }}"})]}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"    />"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  )"})}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"}"})}),"\n",(0,r.jsx)(n.span,{className:"line"}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"run"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"()"})]})]})})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h3,{id:"controlwidgetreloadbuttons-void",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#controlwidgetreloadbuttons-void",children:"#"}),(0,r.jsx)(n.code,{children:"ControlWidget.reloadButtons(): void"})]}),"\n",(0,r.jsx)(n.p,{children:"重新加载所有按钮控件。用于意图执行后刷新状态显示。"}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h3,{id:"controlwidgetreloadtoggles-void",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#controlwidgetreloadtoggles-void",children:"#"}),(0,r.jsx)(n.code,{children:"ControlWidget.reloadToggles(): void"})]}),"\n",(0,r.jsx)(n.p,{children:"重新加载所有切换控件。常用于状态变更后触发 UI 更新。"}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h2,{id:"四开发建议",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#四开发建议",children:"#"}),"四、开发建议"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["所有控件必须绑定一个 ",(0,r.jsx)(n.code,{children:"AppIntent"}),"，用于定义交互逻辑。"]}),"\n",(0,r.jsxs)(n.li,{children:["切换(Toggle)控件的参数必须包含 ",(0,r.jsx)(n.code,{children:"{ value: boolean }"}),"，可使用",(0,r.jsx)(n.code,{children:"AppIntentProtocol.AppIntent"}),"协议，内部会强制切换为 ",(0,r.jsx)(n.code,{children:"SetValueIntent"})," 协议。"]}),"\n",(0,r.jsxs)(n.li,{children:["若为控件提供状态标签，建议提供完整的 ",(0,r.jsx)(n.code,{children:"activeValueLabel"})," 与 ",(0,r.jsx)(n.code,{children:"inactiveValueLabel"})," 配对，以提升可读性。"]}),"\n",(0,r.jsx)(n.li,{children:"图标使用 SF Symbols 命名的系统图标。"}),"\n",(0,r.jsxs)(n.li,{children:["在意图执行中变更控件状态时，应调用 ",(0,r.jsx)(n.code,{children:"ControlWidget.reloadButtons()"})," 或 ",(0,r.jsx)(n.code,{children:"reloadToggles()"})," 以触发前端刷新。"]}),"\n"]})]})}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}i.__RSPRESS_PAGE_META={},i.__RSPRESS_PAGE_META["v2.4.6%2Fzh%2Fguide%2FControl%20Widget.md"]={toc:[{id:"控件标签类型定义",text:"控件标签类型定义",depth:2},{id:"controlwidgetlabel",text:"`ControlWidgetLabel`",depth:3},{id:"一按钮控件controlwidgetbutton",text:"一、按钮控件：`ControlWidgetButton`",depth:2},{id:"controlwidgetbuttonprops",text:"`ControlWidgetButtonProps`",depth:3},{id:"二开关控件controlwidgettoggle",text:"二、开关控件：`ControlWidgetToggle`",depth:2},{id:"controlwidgettogglepropst",text:"`ControlWidgetToggleProps<T>`",depth:3},{id:"三controlwidget-命名空间",text:"三、ControlWidget 命名空间",depth:2},{id:"controlwidgetparameter-string",text:"`ControlWidget.parameter: string`",depth:3},{id:"controlwidgetpresentelement-virtualnode-void",text:"`ControlWidget.present(element: VirtualNode): void`",depth:3},{id:"注意",text:"注意：",depth:4},{id:"示例",text:"示例：",depth:4},{id:"controlwidgetreloadbuttons-void",text:"`ControlWidget.reloadButtons(): void`",depth:3},{id:"controlwidgetreloadtoggles-void",text:"`ControlWidget.reloadToggles(): void`",depth:3},{id:"四开发建议",text:"四、开发建议",depth:2}],title:"控制中心的小组件",headingTitle:"",frontmatter:{title:"控制中心的小组件",description:"在控制中心或锁屏界面添加按钮（Button）或开关（Toggle）控件。",tag:"PRO"}}}}]);