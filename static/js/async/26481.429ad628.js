"use strict";(self.rspackChunktest=self.rspackChunktest||[]).push([["26481"],{6280(e,s,n){n.r(s),n.d(s,{default:()=>l});var r=n(74848),i=n(28453);function a(e){let s={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"NamespaceReader"})," is used to ",(0,r.jsx)(s.strong,{children:"create and manage a geometry animation namespace (Namespace)"}),".\nThis namespace is the ",(0,r.jsx)(s.strong,{children:"foundational requirement"})," for enabling:"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"matchedGeometryEffect"})," (component-level geometry animation)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"matchedTransitionSource"})," (page-level navigation transition)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"navigationTransition"})," (such as zoom transitions)"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["You can think of ",(0,r.jsx)(s.code,{children:"NamespaceReader"})," as:"]}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsxs)(s.p,{children:["A “geometry animation coordinate provider” that defines which views belong to the ",(0,r.jsx)(s.strong,{children:"same animation scope"}),"."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h2,{id:"1-role-of-namespacereader",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#1-role-of-namespacereader",children:"#"}),"1. Role of NamespaceReader"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"NamespaceReader"})," is ",(0,r.jsx)(s.strong,{children:"not a visual UI component"}),". It is a ",(0,r.jsx)(s.strong,{children:"namespace generator"})," whose responsibilities are:"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Creating a brand-new ",(0,r.jsx)(s.code,{children:"NamespaceID"})]}),"\n",(0,r.jsx)(s.li,{children:"Exposing that namespace via a render function"}),"\n",(0,r.jsxs)(s.li,{children:["Defining the ",(0,r.jsx)(s.strong,{children:"boundary of a geometry animation group"})]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"In Scripting, this corresponds conceptually to SwiftUI’s:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"@Namespace"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"Namespace.ID"})}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h2,{id:"2-basic-usage-pattern",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#2-basic-usage-pattern",children:"#"}),"2. Basic Usage Pattern"]}),"\n",(0,r.jsxs)(s.h3,{id:"21-minimal-structure",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#21-minimal-structure",children:"#"}),"2.1 Minimal Structure"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"tsx",children:(0,r.jsxs)(s.code,{children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"NamespaceReader"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  {namespace "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"    // All views inside this scope"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"    // can use this namespace for matched geometry animations"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  )}"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"</"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"NamespaceReader"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:">"})]})]})})}),"\n",(0,r.jsx)(s.p,{children:"Explanation:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"NamespaceReader"})," accepts a ",(0,r.jsx)(s.strong,{children:"function as its child"})]}),"\n",(0,r.jsxs)(s.li,{children:["This function receives a single argument: ",(0,r.jsx)(s.code,{children:"namespace"})]}),"\n",(0,r.jsxs)(s.li,{children:["The returned ",(0,r.jsx)(s.code,{children:"namespace"})," is the unique animation scope for all child views"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h2,{id:"3-the-true-purpose-of-a-namespace",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#3-the-true-purpose-of-a-namespace",children:"#"}),"3. The True Purpose of a Namespace"]}),"\n",(0,r.jsxs)(s.h3,{id:"31-what-a-namespace-really-does",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#31-what-a-namespace-really-does",children:"#"}),"3.1 What a Namespace Really Does"]}),"\n",(0,r.jsxs)(s.p,{children:["The real purpose of a ",(0,r.jsx)(s.code,{children:"namespace"})," is to:"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Declare a group of views as ",(0,r.jsx)(s.strong,{children:"eligible for shared geometry animation"})]}),"\n",(0,r.jsxs)(s.li,{children:["Explicitly define ",(0,r.jsx)(s.strong,{children:"which views are allowed to match each other"})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Without using the same ",(0,r.jsx)(s.code,{children:"namespace"}),":"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Even if two views have the ",(0,r.jsxs)(s.strong,{children:["same ",(0,r.jsx)(s.code,{children:"id"})]})]}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.strong,{children:"No geometry animation will ever happen"})}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h3,{id:"32-isolation-provided-by-namespaces",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#32-isolation-provided-by-namespaces",children:"#"}),"3.2 Isolation Provided by Namespaces"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Condition"}),(0,r.jsx)(s.th,{children:"Geometry Matching Occurs"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:["Same ",(0,r.jsx)(s.code,{children:"id"})," + Same ",(0,r.jsx)(s.code,{children:"namespace"})]}),(0,r.jsx)(s.td,{children:"Yes"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:["Same ",(0,r.jsx)(s.code,{children:"id"})," + Different ",(0,r.jsx)(s.code,{children:"namespace"})]}),(0,r.jsx)(s.td,{children:"No"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:["Different ",(0,r.jsx)(s.code,{children:"id"})," + Same ",(0,r.jsx)(s.code,{children:"namespace"})]}),(0,r.jsx)(s.td,{children:"No"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:["Different ",(0,r.jsx)(s.code,{children:"id"})," + Different ",(0,r.jsx)(s.code,{children:"namespace"})]}),(0,r.jsx)(s.td,{children:"No"})]})]})]}),"\n",(0,r.jsx)(s.p,{children:"Conclusion:"}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsxs)(s.strong,{children:["Both ",(0,r.jsx)(s.code,{children:"id"})," and ",(0,r.jsx)(s.code,{children:"namespace"})," must match exactly for geometry animation to be established."]})}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h2,{id:"4-relationship-with-the-geometry-animation-system",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#4-relationship-with-the-geometry-animation-system",children:"#"}),"4. Relationship with the Geometry Animation System"]}),"\n",(0,r.jsxs)(s.h3,{id:"41-relationship-with-matchedgeometryeffect",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#41-relationship-with-matchedgeometryeffect",children:"#"}),"4.1 Relationship with matchedGeometryEffect"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"matchedGeometryEffect"})," relies on ",(0,r.jsx)(s.code,{children:"namespace"})," to establish cross-view geometry mapping"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"NamespaceReader"})," is a ",(0,r.jsx)(s.strong,{children:"mandatory prerequisite"})," for ",(0,r.jsx)(s.code,{children:"matchedGeometryEffect"})]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["Without ",(0,r.jsx)(s.code,{children:"NamespaceReader"}),":"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"matchedGeometryEffect"})," cannot function"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h3,{id:"42-relationship-with-matchedtransitionsource",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#42-relationship-with-matchedtransitionsource",children:"#"}),"4.2 Relationship with matchedTransitionSource"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["Page-level navigation transitions also depend on ",(0,r.jsx)(s.code,{children:"namespace"})," to pair:"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"The source view"}),"\n",(0,r.jsx)(s.li,{children:"The destination page"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"NamespaceReader"})," is used to:"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Create the namespace on the source page"}),"\n",(0,r.jsx)(s.li,{children:"Pass the same namespace into the destination page"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h2,{id:"5-basic-namespacereader-example-component-level",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#5-basic-namespacereader-example-component-level",children:"#"}),"5. Basic NamespaceReader Example (Component-Level)"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"tsx",children:(0,r.jsxs)(s.code,{children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" expanded"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" useObservable"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"false"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,r.jsx)(s.span,{className:"line"}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"NamespaceReader"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  {namespace "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    <"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"VStack"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      {"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"!"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"expanded"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:".value "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"&&"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        <"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Circle"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"          matchedGeometryEffect"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"{{"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"            id"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "shape"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"            namespace"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"          }}"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"          onTapGesture"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"{() "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"            expanded"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".setValue"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"true"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"          }}"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        />"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      )}"})}),"\n",(0,r.jsx)(s.span,{className:"line"}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      {"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"expanded"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:".value "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"&&"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        <"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Circle"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"          frame"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"{{ width"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" 200"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" height"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" 200"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" }}"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"          matchedGeometryEffect"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"{{"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"            id"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "shape"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"            namespace"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"            isSource"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" false"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"          }}"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        />"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      )}"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    </"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"VStack"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  )}"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"</"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"NamespaceReader"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:">"})]})]})})}),"\n",(0,r.jsx)(s.p,{children:"In this example:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"NamespaceReader"})," provides the animation coordinate system"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["Both ",(0,r.jsx)(s.code,{children:"Circle"})," views share:"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["The same ",(0,r.jsx)(s.code,{children:"id"})]}),"\n",(0,r.jsxs)(s.li,{children:["The same ",(0,r.jsx)(s.code,{children:"namespace"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Therefore, they are geometrically linked"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h2,{id:"6-typical-namespacereader-structure-in-navigation-transitions",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#6-typical-namespacereader-structure-in-navigation-transitions",children:"#"}),"6. Typical NamespaceReader Structure in Navigation Transitions"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"tsx",children:(0,r.jsxs)(s.code,{children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"NamespaceReader"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  {namespace "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ("})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    <"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"NavigationLink"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"      destination"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"{"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        <"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"DetailPage"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"          navigationTransition"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"{{"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"            type"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "zoom"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"            namespace"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"            sourceID"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "cover"'})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"          }}"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        />"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      }"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    >"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      <"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Image"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"        source"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"cover"'})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"        matchedTransitionSource"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"{{"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"          id"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "cover"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"          namespace"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"        }}"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      />"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    </"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"NavigationLink"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:">"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  )}"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"</"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"NamespaceReader"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:">"})]})]})})}),"\n",(0,r.jsx)(s.p,{children:"This structure demonstrates:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"namespace"})," is created by ",(0,r.jsx)(s.code,{children:"NamespaceReader"})]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["The same ",(0,r.jsx)(s.code,{children:"namespace"})," is used by:"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"The source view"}),"\n",(0,r.jsx)(s.li,{children:"The destination page"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"This enables full page-level shared-geometry transitions"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h2,{id:"7-namespace-lifecycle-and-scope",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#7-namespace-lifecycle-and-scope",children:"#"}),"7. Namespace Lifecycle and Scope"]}),"\n",(0,r.jsxs)(s.h3,{id:"71-lifecycle",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#71-lifecycle",children:"#"}),"7.1 Lifecycle"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["Every time ",(0,r.jsx)(s.code,{children:"NamespaceReader"})," is created:"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["A ",(0,r.jsx)(s.strong,{children:"new namespace instance"})," is generated"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"The namespace:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Exists only within the current component tree"}),"\n",(0,r.jsx)(s.li,{children:"Is destroyed automatically when the component is unmounted"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h3,{id:"72-scope",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#72-scope",children:"#"}),"7.2 Scope"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["A namespace is valid ",(0,r.jsxs)(s.strong,{children:["only inside the render function of its ",(0,r.jsx)(s.code,{children:"NamespaceReader"})]})]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["It is ",(0,r.jsx)(s.strong,{children:"not shared automatically across component hierarchies"})]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"If cross-component sharing is required:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"The namespace must be passed explicitly via props"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h2,{id:"8-common-errors-and-debugging-tips",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#8-common-errors-and-debugging-tips",children:"#"}),"8. Common Errors and Debugging Tips"]}),"\n",(0,r.jsxs)(s.h3,{id:"81-geometry-animations-do-not-trigger",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#81-geometry-animations-do-not-trigger",children:"#"}),"8.1 Geometry Animations Do Not Trigger"]}),"\n",(0,r.jsx)(s.p,{children:"Check the following:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Is ",(0,r.jsx)(s.code,{children:"NamespaceReader"})," actually present?"]}),"\n",(0,r.jsxs)(s.li,{children:["Is the ",(0,r.jsx)(s.code,{children:"namespace"})," correctly received and passed?"]}),"\n",(0,r.jsxs)(s.li,{children:["Are both source and target using ",(0,r.jsx)(s.strong,{children:"the exact same namespace instance"}),"?"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h3,{id:"82-animations-are-unstable-or-occasionally-fail",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#82-animations-are-unstable-or-occasionally-fail",children:"#"}),"8.2 Animations Are Unstable or Occasionally Fail"]}),"\n",(0,r.jsx)(s.p,{children:"Common cause:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"NamespaceReader"})," is being conditionally rendered and destroyed repeatedly"]}),"\n",(0,r.jsxs)(s.li,{children:["Each destruction/recreation produces a ",(0,r.jsx)(s.strong,{children:"new namespace"})]}),"\n",(0,r.jsx)(s.li,{children:"The old and new views are no longer in the same animation coordinate system"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Recommendation:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Place ",(0,r.jsx)(s.code,{children:"NamespaceReader"})," in a ",(0,r.jsx)(s.strong,{children:"stable parent node"})]}),"\n",(0,r.jsxs)(s.li,{children:["Avoid wrapping it in ",(0,r.jsx)(s.code,{children:"if"})," or ternary conditions"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h3,{id:"83-nested-namespacereader-causing-unexpected-behavior",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#83-nested-namespacereader-causing-unexpected-behavior",children:"#"}),"8.3 Nested NamespaceReader Causing Unexpected Behavior"]}),"\n",(0,r.jsx)(s.p,{children:"Symptoms:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"id"})," appears to be correct"]}),"\n",(0,r.jsx)(s.li,{children:"But geometry matching still fails"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Likely cause:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Source and target views are actually using ",(0,r.jsx)(s.strong,{children:"different NamespaceReader instances"})]}),"\n",(0,r.jsxs)(s.li,{children:["Even though their ",(0,r.jsx)(s.code,{children:"id"})," values are the same"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h2,{id:"9-design-guidelines",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#9-design-guidelines",children:"#"}),"9. Design Guidelines"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["Use ",(0,r.jsx)(s.strong,{children:"one NamespaceReader per independent animation region"})]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Do not create a separate NamespaceReader for every individual view"}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"For page-level transitions:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Place ",(0,r.jsx)(s.code,{children:"NamespaceReader"})," near the page root"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"For component-level animations:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Place ",(0,r.jsx)(s.code,{children:"NamespaceReader"})," around the logical animation group"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Inside the same namespace:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Do not reuse the same ",(0,r.jsx)(s.code,{children:"id"})," for unrelated views"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h2,{id:"10-recommended-use-cases",children:[(0,r.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#10-recommended-use-cases",children:"#"}),"10. Recommended Use Cases"]}),"\n",(0,r.jsxs)(s.p,{children:["Appropriate scenarios for using ",(0,r.jsx)(s.code,{children:"NamespaceReader"}),":"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Card → Detail shared-element transitions"}),"\n",(0,r.jsx)(s.li,{children:"Tab indicator geometry animation"}),"\n",(0,r.jsx)(s.li,{children:"Image zoom previews"}),"\n",(0,r.jsx)(s.li,{children:"List item → Detail content transitions"}),"\n",(0,r.jsx)(s.li,{children:"Spatially continuous multi-view animations"}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Scenarios where ",(0,r.jsx)(s.code,{children:"NamespaceReader"})," is ",(0,r.jsx)(s.strong,{children:"not required"}),":"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Simple opacity or scale animations"}),"\n",(0,r.jsx)(s.li,{children:"Single-view internal transitions"}),"\n",(0,r.jsx)(s.li,{children:"Animations that do not involve cross-view geometry matching"}),"\n"]})]})}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["en%2Fguide%2FChangelog%2F2.4.4%2FNamespaceReader.md"]={toc:[{id:"1-role-of-namespacereader",text:"1. Role of NamespaceReader",depth:2},{id:"2-basic-usage-pattern",text:"2. Basic Usage Pattern",depth:2},{id:"21-minimal-structure",text:"2.1 Minimal Structure",depth:3},{id:"3-the-true-purpose-of-a-namespace",text:"3. The True Purpose of a Namespace",depth:2},{id:"31-what-a-namespace-really-does",text:"3.1 What a Namespace Really Does",depth:3},{id:"32-isolation-provided-by-namespaces",text:"3.2 Isolation Provided by Namespaces",depth:3},{id:"4-relationship-with-the-geometry-animation-system",text:"4. Relationship with the Geometry Animation System",depth:2},{id:"41-relationship-with-matchedgeometryeffect",text:"4.1 Relationship with matchedGeometryEffect",depth:3},{id:"42-relationship-with-matchedtransitionsource",text:"4.2 Relationship with matchedTransitionSource",depth:3},{id:"5-basic-namespacereader-example-component-level",text:"5. Basic NamespaceReader Example (Component-Level)",depth:2},{id:"6-typical-namespacereader-structure-in-navigation-transitions",text:"6. Typical NamespaceReader Structure in Navigation Transitions",depth:2},{id:"7-namespace-lifecycle-and-scope",text:"7. Namespace Lifecycle and Scope",depth:2},{id:"71-lifecycle",text:"7.1 Lifecycle",depth:3},{id:"72-scope",text:"7.2 Scope",depth:3},{id:"8-common-errors-and-debugging-tips",text:"8. Common Errors and Debugging Tips",depth:2},{id:"81-geometry-animations-do-not-trigger",text:"8.1 Geometry Animations Do Not Trigger",depth:3},{id:"82-animations-are-unstable-or-occasionally-fail",text:"8.2 Animations Are Unstable or Occasionally Fail",depth:3},{id:"83-nested-namespacereader-causing-unexpected-behavior",text:"8.3 Nested NamespaceReader Causing Unexpected Behavior",depth:3},{id:"9-design-guidelines",text:"9. Design Guidelines",depth:2},{id:"10-recommended-use-cases",text:"10. Recommended Use Cases",depth:2}],title:"NamespaceReader",headingTitle:"",frontmatter:{title:"NamespaceReader",description:"This view is used to create and manage a geometry animation namespace."}}}}]);