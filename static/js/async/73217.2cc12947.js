"use strict";(self.rspackChunktest=self.rspackChunktest||[]).push([["73217"],{72376(e,n,r){r.r(n),r.d(n,{default:()=>o});var i=r(74848),s=r(28453);function l(e){let n={a:"a",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["This document provides a detailed reference for editor-related capabilities available to AssistantTools in the ",(0,i.jsx)(n.strong,{children:"script editor context"})," (",(0,i.jsx)(n.code,{children:"scriptEditorOnly: true"}),"). It explains the ",(0,i.jsx)(n.code,{children:"ScriptEditorProvider"})," interface and its associated types, along with recommended usage patterns and constraints."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"1-role-and-responsibilities-of-scripteditorprovider",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#1-role-and-responsibilities-of-scripteditorprovider",children:"#"}),"1. Role and Responsibilities of ScriptEditorProvider"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"ScriptEditorProvider"})," is the communication interface between an AssistantTool and the ",(0,i.jsx)(n.strong,{children:"script editor"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"An instance of this interface is provided when:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["The tool declares ",(0,i.jsx)(n.code,{children:"scriptEditorOnly: true"})," in ",(0,i.jsx)(n.code,{children:"assistant_tool.json"})]}),"\n",(0,i.jsx)(n.li,{children:"The tool is executed inside the script editor (including via test functions)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Its primary responsibilities are:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Providing controlled access to the script project’s file system"}),"\n",(0,i.jsx)(n.li,{children:"Enabling structured and traceable file modifications"}),"\n",(0,i.jsx)(n.li,{children:"Exposing lint and syntax diagnostics"}),"\n",(0,i.jsx)(n.li,{children:"Supporting preview-first workflows via diff visualization"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"2-project-level-information",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#2-project-level-information",children:"#"}),"2. Project-Level Information"]}),"\n",(0,i.jsxs)(n.h3,{id:"scriptname",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#scriptname",children:"#"}),(0,i.jsx)(n.code,{children:"scriptName"})]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,i.jsx)(n.code,{children:(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"readonly scriptName"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:":"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" string"})]})})})}),"\n",(0,i.jsx)(n.p,{children:"Represents the name of the current script project."}),"\n",(0,i.jsx)(n.p,{children:"Typical use cases:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Including scope information in the returned ",(0,i.jsx)(n.code,{children:"message"})]}),"\n",(0,i.jsxs)(n.li,{children:["Providing context in logs or ",(0,i.jsx)(n.code,{children:"AssistantTool.report"})," output"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"3-file-and-directory-discovery",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#3-file-and-directory-discovery",children:"#"}),"3. File and Directory Discovery"]}),"\n",(0,i.jsxs)(n.h3,{id:"checking-file-existence",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#checking-file-existence",children:"#"}),"Checking File Existence"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,i.jsx)(n.code,{children:(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"exists"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(relativePath: string): boolean"})]})})})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"relativePath"})," is relative to the project root"]}),"\n",(0,i.jsx)(n.li,{children:"Commonly used for validation or conditional file creation"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"retrieving-all-folders",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#retrieving-all-folders",children:"#"}),"Retrieving All Folders"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,i.jsx)(n.code,{children:(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"getAllFolders"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(): string[]"})]})})})}),"\n",(0,i.jsx)(n.p,{children:"Returns all folder paths in the project (relative paths)."}),"\n",(0,i.jsx)(n.p,{children:"Typical use cases:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Generating files in bulk"}),"\n",(0,i.jsx)(n.li,{children:"Inspecting project structure"}),"\n",(0,i.jsx)(n.li,{children:"Building grouping or navigation logic"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"retrieving-all-files",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#retrieving-all-files",children:"#"}),"Retrieving All Files"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,i.jsx)(n.code,{children:(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"getAllFiles"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(): string[]"})]})})})}),"\n",(0,i.jsx)(n.p,{children:"Returns all file paths in the project (relative paths)."}),"\n",(0,i.jsx)(n.p,{children:"Typical use cases:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Project-wide scans"}),"\n",(0,i.jsx)(n.li,{children:"Batch formatting, search, or replacement"}),"\n",(0,i.jsx)(n.li,{children:"Mapping lint diagnostics to files"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"4-reading-and-writing-file-content",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#4-reading-and-writing-file-content",children:"#"}),"4. Reading and Writing File Content"]}),"\n",(0,i.jsxs)(n.h3,{id:"reading-file-content",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#reading-file-content",children:"#"}),"Reading File Content"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,i.jsx)(n.code,{children:(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"getFileContent"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(relativePath: string): "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"Promise"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"string "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"|"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" null"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:">"})]})})})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Returns ",(0,i.jsx)(n.code,{children:"null"})," if the file does not exist"]}),"\n",(0,i.jsx)(n.li,{children:"Callers should handle the null case explicitly"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"updating-an-entire-file",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#updating-an-entire-file",children:"#"}),"Updating an Entire File"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,i.jsx)(n.code,{children:(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"updateFileContent"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(relativePath: string"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" content: string): "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"Promise"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"boolean"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:">"})]})})})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Replaces the entire file content"}),"\n",(0,i.jsx)(n.li,{children:"Suitable for deterministic operations such as formatting"}),"\n",(0,i.jsx)(n.li,{children:"Not recommended for complex or fine-grained edits"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"writing-to-a-file-auto-creation",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#writing-to-a-file-auto-creation",children:"#"}),"Writing to a File (Auto-Creation)"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,i.jsx)(n.code,{children:(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"writeToFile"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(relativePath: string"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" content: string): "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"Promise"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"boolean"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:">"})]})})})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Creates the file if it does not exist"}),"\n",(0,i.jsx)(n.li,{children:"Overwrites existing content"}),"\n",(0,i.jsx)(n.li,{children:"Commonly used for file generation or templates"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"5-structured-editing-apis-recommended",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#5-structured-editing-apis-recommended",children:"#"}),"5. Structured Editing APIs (Recommended)"]}),"\n",(0,i.jsxs)(n.p,{children:["For most editor tools, ",(0,i.jsx)(n.strong,{children:"structured edits are safer and more predictable"})," than full-file replacements."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"scripteditorfileoperation",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#scripteditorfileoperation",children:"#"}),(0,i.jsx)(n.code,{children:"ScriptEditorFileOperation"})]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,i.jsxs)(n.code,{children:[(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:" ScriptEditorFileOperation"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  startLine"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" number"})]}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  content"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" string"})]}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,i.jsx)(n.p,{children:"Semantics:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"startLine"})," is ",(0,i.jsx)(n.strong,{children:"1-based"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"content"})," is the text to insert or replace"]}),"\n",(0,i.jsx)(n.li,{children:"The end line is implicit and determined by the editing operation"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"inserting-content",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#inserting-content",children:"#"}),"Inserting Content"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,i.jsxs)(n.code,{children:[(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"insertContent"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"("})]}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  relativePath: string"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  operations: ScriptEditorFileOperation[]"})}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"): "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"Promise"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"boolean"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:">"})]})]})})}),"\n",(0,i.jsx)(n.p,{children:"Behavior:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Inserts content ",(0,i.jsx)(n.strong,{children:"before"})," the specified line"]}),"\n",(0,i.jsx)(n.li,{children:"Operations are applied in array order"}),"\n",(0,i.jsx)(n.li,{children:"Line numbers refer to the original file state"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Recommended practice: apply insert operations ",(0,i.jsx)(n.strong,{children:"from bottom to top"})," to avoid line-shift issues."]}),"\n",(0,i.jsx)(n.p,{children:"Typical use cases:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Inserting imports, comments, or new functions"}),"\n",(0,i.jsx)(n.li,{children:"Augmenting existing code blocks"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"replacing-content",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#replacing-content",children:"#"}),"Replacing Content"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,i.jsxs)(n.code,{children:[(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"replaceInFile"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"("})]}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  relativePath: string"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  operations: ScriptEditorFileOperation[]"})}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"): "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"Promise"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"boolean"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:">"})]})]})})}),"\n",(0,i.jsx)(n.p,{children:"Behavior:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Replaces content starting at ",(0,i.jsx)(n.code,{children:"startLine"})]}),"\n",(0,i.jsx)(n.li,{children:"Intended for precise, line-based substitutions"}),"\n",(0,i.jsx)(n.li,{children:"Not suitable for fuzzy or pattern-based replacements"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"6-diff-preview-support",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#6-diff-preview-support",children:"#"}),"6. Diff Preview Support"]}),"\n",(0,i.jsxs)(n.h3,{id:"opendiffeditor",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#opendiffeditor",children:"#"}),(0,i.jsx)(n.code,{children:"openDiffEditor"})]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,i.jsx)(n.code,{children:(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"openDiffEditor"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(relativePath: string"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" content: string): "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"void"})]})})})}),"\n",(0,i.jsx)(n.p,{children:"Displays a diff view comparing:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The current file content"}),"\n",(0,i.jsx)(n.li,{children:"The provided prospective content"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["This method does ",(0,i.jsx)(n.strong,{children:"not"})," modify the file."]}),"\n",(0,i.jsx)(n.p,{children:"Recommended usage:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"During the Approval Request phase"}),"\n",(0,i.jsxs)(n.li,{children:["As the action of a ",(0,i.jsx)(n.code,{children:"previewButton"})]}),"\n",(0,i.jsx)(n.li,{children:"Before any batch or destructive modifications"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"7-lint-and-syntax-diagnostics",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#7-lint-and-syntax-diagnostics",children:"#"}),"7. Lint and Syntax Diagnostics"]}),"\n",(0,i.jsxs)(n.h3,{id:"scriptlinterror",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#scriptlinterror",children:"#"}),(0,i.jsx)(n.code,{children:"ScriptLintError"})]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,i.jsxs)(n.code,{children:[(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:" ScriptLintError"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  line"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" number"})]}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  message"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" string"})]}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,i.jsx)(n.p,{children:"Represents a single lint or syntax error."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"retrieving-lint-errors",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#retrieving-lint-errors",children:"#"}),"Retrieving Lint Errors"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,i.jsx)(n.code,{children:(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"getLintErrors"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(): Record"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"string"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" ScriptLintError[]"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:">"})]})})})}),"\n",(0,i.jsx)(n.p,{children:"Return structure:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Key: file path (relative)"}),"\n",(0,i.jsx)(n.li,{children:"Value: array of lint errors for that file"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"common-usage-pattern",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#common-usage-pattern",children:"#"}),"Common Usage Pattern"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Scan all lint errors"}),"\n",(0,i.jsx)(n.li,{children:"Identify affected files and line numbers"}),"\n",(0,i.jsx)(n.li,{children:"Optionally attempt safe, deterministic fixes"}),"\n",(0,i.jsx)(n.li,{children:"Summarize diagnostics in the tool’s result message"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Example:"}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,i.jsxs)(n.code,{children:[(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" errors"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" editor"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".getLintErrors"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"()"})]}),"\n",(0,i.jsx)(n.span,{className:"line"}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"for"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" ("}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" file"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" in"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" errors) {"})]}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"  for"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" ("}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" error"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" of"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" errors[file]) {"})]}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"    // error.line"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"    // error.message"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  }"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"8-usage-constraints-and-safety-guidelines",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#8-usage-constraints-and-safety-guidelines",children:"#"}),"8. Usage Constraints and Safety Guidelines"]}),"\n",(0,i.jsx)(n.p,{children:"Important constraints and recommendations:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["All paths must be ",(0,i.jsx)(n.strong,{children:"relative paths"})]}),"\n",(0,i.jsx)(n.li,{children:"Do not assume file content always exists"}),"\n",(0,i.jsx)(n.li,{children:"Avoid concurrent modifications to the same file"}),"\n",(0,i.jsx)(n.li,{children:"Prefer structured edits over full replacements"}),"\n",(0,i.jsx)(n.li,{children:"Provide diff previews for batch or impactful changes"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"9-recommended-workflow-for-editor-based-assistanttools",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#9-recommended-workflow-for-editor-based-assistanttools",children:"#"}),"9. Recommended Workflow for Editor-Based AssistantTools"]}),"\n",(0,i.jsx)(n.p,{children:"A robust editor-based AssistantTool typically follows this flow:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Scan the project using ",(0,i.jsx)(n.code,{children:"getAllFiles"})," or ",(0,i.jsx)(n.code,{children:"getLintErrors"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Compute the intended changes"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"In the Approval Request phase:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Clearly explain the changes"}),"\n",(0,i.jsxs)(n.li,{children:["Provide a diff preview via ",(0,i.jsx)(n.code,{children:"openDiffEditor"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"In the Execute phase:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Perform changes only after confirmation"}),"\n",(0,i.jsx)(n.li,{children:"Use structured editing APIs"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Return a concise, structured execution summary"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"10-summary",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#10-summary",children:"#"}),"10. Summary"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"ScriptEditorProvider"})," is the bridge between AssistantTools and the script editor"]}),"\n",(0,i.jsxs)(n.li,{children:["It enables ",(0,i.jsx)(n.strong,{children:"controlled, structured, and previewable"})," file operations"]}),"\n",(0,i.jsx)(n.li,{children:"Editor-based tools should prioritize predictability and user trust"}),"\n",(0,i.jsx)(n.li,{children:"Combining Approval flows with previews leads to high-confidence editing experiences"}),"\n"]})]})}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}o.__RSPRESS_PAGE_META={},o.__RSPRESS_PAGE_META["TestFlight%2Fen%2Fguide%2FAssistantTool%2FScriptEditorProvider%20and%20Editor%20Types.md"]={toc:[{id:"1-role-and-responsibilities-of-scripteditorprovider",text:"1. Role and Responsibilities of ScriptEditorProvider",depth:2},{id:"2-project-level-information",text:"2. Project-Level Information",depth:2},{id:"scriptname",text:"`scriptName`",depth:3},{id:"3-file-and-directory-discovery",text:"3. File and Directory Discovery",depth:2},{id:"checking-file-existence",text:"Checking File Existence",depth:3},{id:"retrieving-all-folders",text:"Retrieving All Folders",depth:3},{id:"retrieving-all-files",text:"Retrieving All Files",depth:3},{id:"4-reading-and-writing-file-content",text:"4. Reading and Writing File Content",depth:2},{id:"reading-file-content",text:"Reading File Content",depth:3},{id:"updating-an-entire-file",text:"Updating an Entire File",depth:3},{id:"writing-to-a-file-auto-creation",text:"Writing to a File (Auto-Creation)",depth:3},{id:"5-structured-editing-apis-recommended",text:"5. Structured Editing APIs (Recommended)",depth:2},{id:"scripteditorfileoperation",text:"`ScriptEditorFileOperation`",depth:3},{id:"inserting-content",text:"Inserting Content",depth:3},{id:"replacing-content",text:"Replacing Content",depth:3},{id:"6-diff-preview-support",text:"6. Diff Preview Support",depth:2},{id:"opendiffeditor",text:"`openDiffEditor`",depth:3},{id:"7-lint-and-syntax-diagnostics",text:"7. Lint and Syntax Diagnostics",depth:2},{id:"scriptlinterror",text:"`ScriptLintError`",depth:3},{id:"retrieving-lint-errors",text:"Retrieving Lint Errors",depth:3},{id:"common-usage-pattern",text:"Common Usage Pattern",depth:3},{id:"8-usage-constraints-and-safety-guidelines",text:"8. Usage Constraints and Safety Guidelines",depth:2},{id:"9-recommended-workflow-for-editor-based-assistanttools",text:"9. Recommended Workflow for Editor-Based AssistantTools",depth:2},{id:"10-summary",text:"10. Summary",depth:2}],title:"ScriptEditorProvider and Editor Types",headingTitle:"",frontmatter:{title:"ScriptEditorProvider and Editor Types",description:"Learn about ScriptEditorProvider and Editor Types.",tag:"PRO"}}}}]);