"use strict";(self.rspackChunktest=self.rspackChunktest||[]).push([["59371"],{7206(e,s,r){r.r(s),r.d(s,{default:()=>a});var n=r(74848),i=r(28453);function l(e){let s={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"Safari"})," 模块提供用于打开和展示网页的函数，可通过系统默认浏览器外部打开，或在 Scripting 应用内通过内嵌 Safari 视图打开网页，实现沉浸式或外部浏览的无缝切换。"]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h2,{id:"模块safari",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#模块safari",children:"#"}),"模块：",(0,n.jsx)(s.code,{children:"Safari"})]}),"\n",(0,n.jsx)(s.p,{children:"该模块包含两个函数："}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h3,{id:"-safariopenurlurl-string-promiseboolean",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#-safariopenurlurl-string-promiseboolean",children:"#"}),"▸ ",(0,n.jsx)(s.code,{children:"Safari.openURL(url: string): Promise<boolean>"})]}),"\n",(0,n.jsx)(s.p,{children:"使用系统默认方式打开指定的 URL。根据 URL 的 scheme 类型，可能会启动 Safari、其他浏览器或对应的第三方应用。"}),"\n",(0,n.jsxs)(s.h4,{id:"参数",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#参数",children:"#"}),"参数"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.code,{children:"url"})})," (",(0,n.jsx)(s.code,{children:"string"}),"): 要打开的 URL。支持以 ",(0,n.jsx)(s.code,{children:"http://"}),"、",(0,n.jsx)(s.code,{children:"https://"})," 开头的网址，也支持如 ",(0,n.jsx)(s.code,{children:"mailto:"}),"、",(0,n.jsx)(s.code,{children:"tel:"}),"、",(0,n.jsx)(s.code,{children:"appname://"})," 等自定义 URL scheme。"]}),"\n"]}),"\n",(0,n.jsxs)(s.h4,{id:"返回值",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#返回值",children:"#"}),"返回值"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["返回一个 ",(0,n.jsx)(s.code,{children:"Promise<boolean>"}),"，当 URL 成功打开时为 ",(0,n.jsx)(s.code,{children:"true"}),"，如果打开失败（例如无效的 scheme 或未安装支持的应用）则为 ",(0,n.jsx)(s.code,{children:"false"}),"。"]}),"\n"]}),"\n",(0,n.jsxs)(s.h4,{id:"示例",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#示例",children:"#"}),"示例"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsxs)(s.code,{children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" success"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" Safari"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".openURL"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'mailto:hello@example.com'"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"!"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"success) {"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"  console"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".error"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'打开 URL 失败'"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h3,{id:"-safaripresenturl-string-fullscreen-boolean-promisevoid",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#-safaripresenturl-string-fullscreen-boolean-promisevoid",children:"#"}),"▸ ",(0,n.jsx)(s.code,{children:"Safari.present(url: string, fullscreen?: boolean): Promise<void>"})]}),"\n",(0,n.jsx)(s.p,{children:"在 Scripting 应用内使用内嵌 Safari 视图展示网页。该网页以模态窗口方式呈现。返回的 Promise 会在用户关闭该视图后才完成。"}),"\n",(0,n.jsxs)(s.h4,{id:"参数-1",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#参数-1",children:"#"}),"参数"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.code,{children:"url"})})," (",(0,n.jsx)(s.code,{children:"string"}),"): 要展示的网页地址。"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.code,{children:"fullscreen"})})," (",(0,n.jsx)(s.code,{children:"boolean"}),", 可选): 是否以全屏方式展示，默认为 ",(0,n.jsx)(s.code,{children:"true"}),"。"]}),"\n"]}),"\n",(0,n.jsxs)(s.h4,{id:"返回值-1",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#返回值-1",children:"#"}),"返回值"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["一个 ",(0,n.jsx)(s.code,{children:"Promise<void>"}),"，在用户关闭网页视图后完成。"]}),"\n"]}),"\n",(0,n.jsxs)(s.h4,{id:"示例-1",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#示例-1",children:"#"}),"示例"]}),"\n",(0,n.jsx)(s.p,{children:"默认全屏展示网站："}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsxs)(s.code,{children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" Safari"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".present"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'https://developer.apple.com'"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,n.jsx)(s.span,{className:"line"}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// 视图关闭后执行"})}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"console"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'网页视图已关闭。'"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})]})]})})}),"\n",(0,n.jsx)(s.p,{children:"非全屏展示（例如嵌入界面中的子页面）："}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsxs)(s.code,{children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" Safari"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".present"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'https://news.ycombinator.com'"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" false"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,n.jsx)(s.span,{className:"line"}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// 视图关闭后执行"})}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"console"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'网页视图已关闭。'"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})]})]})})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h2,{id:"使用场景",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#使用场景",children:"#"}),"使用场景"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"跳转到外部链接，例如帮助文档、认证页面或 App Store。"}),"\n",(0,n.jsx)(s.li,{children:"在应用内展示在线内容，如博客文章、数据面板等。"}),"\n",(0,n.jsx)(s.li,{children:"通过自定义 URL scheme 启动第三方应用。"}),"\n"]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h2,{id:"注意事项",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#注意事项",children:"#"}),"注意事项"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"请确保传入的是完整有效的 URL。"}),"\n",(0,n.jsxs)(s.li,{children:["若希望用户停留在应用中，请使用 ",(0,n.jsx)(s.code,{children:"present()"}),"。"]}),"\n",(0,n.jsxs)(s.li,{children:["若需跳转到外部浏览器或打开其他 app，请使用 ",(0,n.jsx)(s.code,{children:"openURL()"}),"。"]}),"\n"]})]})}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}a.__RSPRESS_PAGE_META={},a.__RSPRESS_PAGE_META["TestFlight%2Fzh%2Fguide%2FDevice%20Capabilities%2FSafari%2Findex.md"]={toc:[{id:"模块safari",text:"模块：`Safari`",depth:2},{id:"-safariopenurlurl-string-promiseboolean",text:"▸ `Safari.openURL(url: string): Promise<boolean>`",depth:3},{id:"参数",text:"参数",depth:4},{id:"返回值",text:"返回值",depth:4},{id:"示例",text:"示例",depth:4},{id:"-safaripresenturl-string-fullscreen-boolean-promisevoid",text:"▸ `Safari.present(url: string, fullscreen?: boolean): Promise<void>`",depth:3},{id:"参数-1",text:"参数",depth:4},{id:"返回值-1",text:"返回值",depth:4},{id:"示例-1",text:"示例",depth:4},{id:"使用场景",text:"使用场景",depth:2},{id:"注意事项",text:"注意事项",depth:2}],title:"Safari",headingTitle:"",frontmatter:{title:"Safari",description:"在应用内或跳转至系统默认浏览器来展示网站。"}}}}]);