"use strict";(self.rspackChunktest=self.rspackChunktest||[]).push([["71514"],{76673(e,s,r){r.r(s),r.d(s,{default:()=>c});var n=r(74848),i=r(28453);function t(e){let s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",span:"span",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.h1,{id:"script",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#script",children:"#"}),"Script"]}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.code,{children:"Script"})," module provides context and utility functions for managing script execution in the Scripting app. It enables you to access runtime metadata, terminate scripts with results, run other scripts programmatically, and construct URL schemes to launch or open scripts."]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h2,{id:"properties",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#properties",children:"#"}),"Properties"]}),"\n",(0,n.jsxs)(s.h3,{id:"name-string",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#name-string",children:"#"}),(0,n.jsx)(s.code,{children:"name: string"})]}),"\n",(0,n.jsx)(s.p,{children:"The name of the currently running script."}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsx)(s.code,{children:(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"console"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Script"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:".name) "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:'// e.g., "MyScript"'})]})})})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h3,{id:"directory-string",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#directory-string",children:"#"}),(0,n.jsx)(s.code,{children:"directory: string"})]}),"\n",(0,n.jsx)(s.p,{children:"The directory path where the script is located."}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsx)(s.code,{children:(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"console"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Script"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:".directory) "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:'// e.g., "/private/var/mobile/Containers/..."'})]})})})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h3,{id:"env-string",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#env-string",children:"#"}),(0,n.jsx)(s.code,{children:"env: string"})]}),"\n",(0,n.jsx)(s.p,{children:"Indicates the environment in which the current script is running. This allows the script to adapt its behavior based on the runtime context—whether it’s running in the main app, a widget, a notification, or an extension."}),"\n",(0,n.jsxs)(s.h3,{id:"possible-values",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#possible-values",children:"#"}),"Possible Values:"]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Value"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:'"index"'})}),(0,n.jsxs)(s.td,{children:["Running in the main app. Entry point is ",(0,n.jsx)(s.code,{children:"index.tsx"}),". Used for normal UI logic."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:'"widget"'})}),(0,n.jsxs)(s.td,{children:["Running in a widget. Entry point is ",(0,n.jsx)(s.code,{children:"widget.tsx"}),". Used for home screen widgets."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:'"control_widget"'})}),(0,n.jsxs)(s.td,{children:["Running in a control widget. Entry point is ",(0,n.jsx)(s.code,{children:"contrl_widget_button.tsx"})," or ",(0,n.jsx)(s.code,{children:"control_widget_toggle.tsx"}),". Used for control center widgets."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:'"notification"'})}),(0,n.jsxs)(s.td,{children:["Running in the rich notification extension. Entry point is ",(0,n.jsx)(s.code,{children:"notification.tsx"}),"."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:'"intent"'})}),(0,n.jsxs)(s.td,{children:["Running as a share sheet or shortcut intent handler. Entry point is ",(0,n.jsx)(s.code,{children:"intent.tsx"}),"."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:'"app_intents"'})}),(0,n.jsxs)(s.td,{children:["Running in the App Intents extension. Entry point is ",(0,n.jsx)(s.code,{children:"app_intents.tsx"}),"."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:'"assistant_tool"'})}),(0,n.jsxs)(s.td,{children:["Running in the Assistant Tool context. Entry point is ",(0,n.jsx)(s.code,{children:"assistant_tool.tsx"}),"."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:'"keyboard"'})}),(0,n.jsxs)(s.td,{children:["Running in the custom keyboard extension. Entry point is ",(0,n.jsx)(s.code,{children:"keyboard.tsx"}),"."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:'"live_activity"'})}),(0,n.jsxs)(s.td,{children:["Running in the Live Activity extension. Entry point is ",(0,n.jsx)(s.code,{children:"live_activity.tsx"}),"."]})]})]})]}),"\n",(0,n.jsxs)(s.h3,{id:"example",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#example",children:"#"}),"Example:"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsxs)(s.code,{children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Script"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:".env "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"==="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "widget"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:") {"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"  Widget"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".present"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(<"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"MyWidget"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" />)"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"} "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"else"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" if"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Script"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:".env "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"==="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "index"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:") {"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"  Navigation"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".present"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"({ element"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" <"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"MainPage"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" /> })"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h3,{id:"widgetparameter-string",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#widgetparameter-string",children:"#"}),(0,n.jsx)(s.code,{children:"widgetParameter: string"})]}),"\n",(0,n.jsx)(s.p,{children:"The parameter passed when the script is launched from a widget."}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsxs)(s.code,{children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Script"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:".widgetParameter) {"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"  console"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Widget input:"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" Script"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:".widgetParameter)"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h3,{id:"queryparameters-recordstring-string",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#queryparameters-recordstring-string",children:"#"}),(0,n.jsx)(s.code,{children:"queryParameters: Record<string, string>"})]}),"\n",(0,n.jsxs)(s.p,{children:["Key-value pairs parsed from a ",(0,n.jsx)(s.code,{children:"run"})," URL scheme."]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsxs)(s.code,{children:[(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// URL: scripting://run/MyScript?user=John&id=123"})}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"console"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Script"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"."}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"queryParameters"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:".user) "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:'// "John"'})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"console"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Script"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"."}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"queryParameters"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:".id)   "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:'// "123"'})]})]})})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h3,{id:"metadata---",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#metadata---",children:"#"}),(0,n.jsx)(s.code,{children:"metadata: { ... }"})]}),"\n",(0,n.jsx)(s.p,{children:"Metadata of the current script."}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"icon"}),": The icon of the script. Can be a SFSymbol name."]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"color"}),": The color of the script. Can be a hex color string like ",(0,n.jsx)(s.code,{children:"#FF0000"})," or a CSS color name like ",(0,n.jsx)(s.code,{children:'"red"'}),"."]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"localizedName"}),": The localized name of the script in the current system language."]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"localizedNames"}),": A record of localized names for different languages. Keys are language codes (e.g., ",(0,n.jsx)(s.code,{children:'"en"'}),", ",(0,n.jsx)(s.code,{children:'"zh"'}),"), and values are the localized names."]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"description"}),": The description of the script in English."]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"localizedDescription"}),": The localized description in the current system language."]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"localizedDescriptions"}),": A record of localized descriptions for different languages."]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"version"}),": The version string of the script."]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"author"}),": The script author's metadata:"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"name"}),": The author's name"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"email"}),": The author's email address"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"homepage"}),": (optional) The author’s homepage"]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"contributors"}),": An array of contributor objects with the same structure as ",(0,n.jsx)(s.code,{children:"author"})]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"remoteResource"}),": Information about a remote resource for this script:"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"url"}),": The URL of the remote resource (e.g., a ",(0,n.jsx)(s.code,{children:".zip"})," or Git repository)"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"autoUpdateInterval"}),": (optional) The auto-update interval in seconds. If not provided, auto-update is disabled."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsxs)(s.code,{children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"console"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Script"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"."}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"metadata"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:".localizedName) "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:'// e.g., "天气助手"'})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"console"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Script"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"."}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"metadata"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:".version)       "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:'// e.g., "1.2.0"'})]})]})})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h2,{id:"methods",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#methods",children:"#"}),"Methods"]}),"\n",(0,n.jsxs)(s.h3,{id:"scriptexitresult-void",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#scriptexitresult-void",children:"#"}),(0,n.jsx)(s.code,{children:"Script.exit(result?): void"})]}),"\n",(0,n.jsx)(s.p,{children:"Ends the script and optionally returns a result. This is required to release resources properly."}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"result?: any | IntentValue"}),": Any value or ",(0,n.jsx)(s.code,{children:"IntentValue"})," object to return to the caller (e.g., Shortcuts or another script)."]}),"\n"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsxs)(s.code,{children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Script"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".exit"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Done"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,n.jsx)(s.span,{className:"line"}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// or return structured value"})}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Script"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".exit"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Intent"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".json"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"({ status"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "ok"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" }))"})]})]})})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h3,{id:"scriptruntoptions-promiset--null",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#scriptruntoptions-promiset--null",children:"#"}),(0,n.jsx)(s.code,{children:"Script.run<T>(options:): Promise<T | null>"})]}),"\n",(0,n.jsx)(s.p,{children:"Runs another script programmatically and waits for its result."}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"options.name"}),": The name of the script to run."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"options.queryParameters"}),": Optional data to pass."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"options.singleMode"}),": If ",(0,n.jsx)(s.code,{children:"true"}),", ensures only one instance of the script runs."]}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:["Returns: the value passed from ",(0,n.jsx)(s.code,{children:"Script.exit(result)"})," in the target script."]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsxs)(s.code,{children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" result"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" Script"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".run"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"({"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  name"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "ProcessData"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  queryParameters"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" { input"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "abc"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" }"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"})"})}),"\n",(0,n.jsx)(s.span,{className:"line"}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"console"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(result)"})]})]})})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h3,{id:"scriptcreaterunurlschemescriptname-queryparameters-string",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#scriptcreaterunurlschemescriptname-queryparameters-string",children:"#"}),(0,n.jsx)(s.code,{children:"Script.createRunURLScheme(scriptName, queryParameters?): string"})]}),"\n",(0,n.jsxs)(s.p,{children:["Creates a ",(0,n.jsx)(s.code,{children:"scripting://run"})," URL to launch and execute a script."]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsxs)(s.code,{children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" url"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" Script"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".createRunURLScheme"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"MyScript"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" { user"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "Alice"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" })"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:'// "scripting://run/MyScript?user=Alice"'})})]})})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h3,{id:"scriptcreaterunsingleurlschemescriptname-queryparameters-string",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#scriptcreaterunsingleurlschemescriptname-queryparameters-string",children:"#"}),(0,n.jsx)(s.code,{children:"Script.createRunSingleURLScheme(scriptName, queryParameters?): string"})]}),"\n",(0,n.jsxs)(s.p,{children:["Creates a ",(0,n.jsx)(s.code,{children:"scripting://run_single"})," URL that ensures only one instance of the script runs."]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsxs)(s.code,{children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" url"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" Script"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".createRunSingleURLScheme"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"MyScript"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" { id"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "1"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" })"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:'// "scripting://run_single/MyScript?id=1"'})})]})})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h3,{id:"scriptcreateopenurlschemescriptname-string",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#scriptcreateopenurlschemescriptname-string",children:"#"}),(0,n.jsx)(s.code,{children:"Script.createOpenURLScheme(scriptName): string"})]}),"\n",(0,n.jsxs)(s.p,{children:["Creates a ",(0,n.jsx)(s.code,{children:"scripting://open"})," URL to open a script in the editor."]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsxs)(s.code,{children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" url"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" Script"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".createOpenURLScheme"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"MyScript"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:'// "scripting://open/MyScript"'})})]})})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h3,{id:"scriptcreatedocumentationurlschemetitle-string",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#scriptcreatedocumentationurlschemetitle-string",children:"#"}),(0,n.jsx)(s.code,{children:"Script.createDocumentationURLScheme(title?): string"})]}),"\n",(0,n.jsx)(s.p,{children:"Generates a URL to open the documentation page in the Scripting app."}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"title"}),": Optional. If provided, opens a specific documentation topic."]}),"\n"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsxs)(s.code,{children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" url"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" Script"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".createDocumentationURLScheme"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Widgets"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:'// "scripting://doc?title=Widgets"'})})]})})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h3,{id:"createimportscriptsurlschemeurls-string",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#createimportscriptsurlschemeurls-string",children:"#"}),(0,n.jsx)(s.code,{children:"createImportScriptsURLScheme(urls): string"})]}),"\n",(0,n.jsx)(s.p,{children:"Generates a URL scheme for importing scripts from the specified URLs."}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"urls: string[]"}),": An array of URLs to import scripts from."]}),"\n"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsxs)(s.code,{children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" urlScheme"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" Script"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".createImportScriptsURLScheme"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(["})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'  "https://github.com/schl3ck/scripting-app-lib"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'  "https://example.com/my-script.zip"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"])"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:'// "scripting://import_scripts?urls=..."'})})]})})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h3,{id:"hasfullaccess-boolean",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#hasfullaccess-boolean",children:"#"}),(0,n.jsx)(s.code,{children:"hasFullAccess(): boolean"})]}),"\n",(0,n.jsx)(s.p,{children:"Determine whether user has full access to the Scripting PRO features."}),"\n",(0,n.jsxs)(s.p,{children:["Returns: ",(0,n.jsx)(s.code,{children:"true"})," if the user has full access to the Scripting PRO features, otherwise ",(0,n.jsx)(s.code,{children:"false"}),"."]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsxs)(s.code,{children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Script"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".hasFullAccess"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"()) {"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"  // use Scripting PRO features"})}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"  Assistant"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".requestStructedData"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"..."}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h2,{id:"notes",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#notes",children:"#"}),"Notes"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Always call ",(0,n.jsx)(s.code,{children:"Script.exit()"})," to properly terminate a script and free memory."]}),"\n",(0,n.jsxs)(s.li,{children:["Use ",(0,n.jsx)(s.code,{children:"Script.run()"})," to chain or modularize scripts and retrieve structured results."]}),"\n",(0,n.jsx)(s.li,{children:"URL schemes can be used in external apps (like Shortcuts) to trigger scripts with parameters."}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"singleMode"})," is recommended for scripts that must not run in parallel."]}),"\n"]})]})}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(t,{...e})}):t(e)}c.__RSPRESS_PAGE_META={},c.__RSPRESS_PAGE_META["en%2Fdoc%2FScript.mdx"]={toc:[{id:"properties",text:"Properties",depth:2},{id:"name-string",text:"`name: string`",depth:3},{id:"directory-string",text:"`directory: string`",depth:3},{id:"env-string",text:"`env: string`",depth:3},{id:"possible-values",text:"Possible Values:",depth:3},{id:"example",text:"Example:",depth:3},{id:"widgetparameter-string",text:"`widgetParameter: string`",depth:3},{id:"queryparameters-recordstring-string",text:"`queryParameters: Record<string, string>`",depth:3},{id:"metadata---",text:"`metadata: { ... }`",depth:3},{id:"methods",text:"Methods",depth:2},{id:"scriptexitresult-void",text:"`Script.exit(result?): void`",depth:3},{id:"scriptruntoptions-promiset--null",text:"`Script.run<T>(options:): Promise<T | null>`",depth:3},{id:"scriptcreaterunurlschemescriptname-queryparameters-string",text:"`Script.createRunURLScheme(scriptName, queryParameters?): string`",depth:3},{id:"scriptcreaterunsingleurlschemescriptname-queryparameters-string",text:"`Script.createRunSingleURLScheme(scriptName, queryParameters?): string`",depth:3},{id:"scriptcreateopenurlschemescriptname-string",text:"`Script.createOpenURLScheme(scriptName): string`",depth:3},{id:"scriptcreatedocumentationurlschemetitle-string",text:"`Script.createDocumentationURLScheme(title?): string`",depth:3},{id:"createimportscriptsurlschemeurls-string",text:"`createImportScriptsURLScheme(urls): string`",depth:3},{id:"hasfullaccess-boolean",text:"`hasFullAccess(): boolean`",depth:3},{id:"notes",text:"Notes",depth:2}],title:"Script",headingTitle:"Script",frontmatter:{}}}}]);