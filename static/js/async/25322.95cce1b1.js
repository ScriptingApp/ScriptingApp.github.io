"use strict";(self.rspackChunktest=self.rspackChunktest||[]).push([["25322"],{34641(e,s,r){r.r(s),r.d(s,{default:()=>o});var n=r(74848),i=r(28453);function l(e){let s={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"BluetoothCharacteristic"})," 表示蓝牙服务（",(0,n.jsx)(s.code,{children:"BluetoothService"}),"）中的一个特征值，是 BLE 设备数据交互的核心单元。每个特征值由唯一 UUID 标识，并定义了支持的操作类型、当前值、通知状态等属性。"]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h2,{id:"一属性字段",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#一属性字段",children:"#"}),"一、属性字段"]}),"\n",(0,n.jsxs)(s.h3,{id:"uuid-string",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#uuid-string",children:"#"}),(0,n.jsx)(s.code,{children:"uuid: string"})]}),"\n",(0,n.jsx)(s.p,{children:"特征值的 UUID（统一唯一标识符），用于识别特征的类型。"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.p,{children:"示例："}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:'"2A37"'})," 表示标准心率测量特征"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:'"6E400002-B5A3-F393-E0A9-E50E24DCCA9E"'})," 是一个自定义特征 UUID"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h3,{id:"serviceuuid-string--null",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#serviceuuid-string--null",children:"#"}),(0,n.jsx)(s.code,{children:"serviceUUID: string | null"})]}),"\n",(0,n.jsxs)(s.p,{children:["当前特征值所属服务的 UUID，如果服务未被发现则可能为 ",(0,n.jsx)(s.code,{children:"null"}),"。"]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h3,{id:"properties-bluetoothcharacteristicproperty",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#properties-bluetoothcharacteristicproperty",children:"#"}),(0,n.jsx)(s.code,{children:"properties: BluetoothCharacteristicProperty[]"})]}),"\n",(0,n.jsx)(s.p,{children:"当前特征值支持的操作类型，是以下字符串枚举值组成的数组（可能同时包含多个）："}),"\n",(0,n.jsxs)(s.h4,{id:"可用的属性bluetoothcharacteristicproperty-枚举",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#可用的属性bluetoothcharacteristicproperty-枚举",children:"#"}),"可用的属性（",(0,n.jsx)(s.code,{children:"BluetoothCharacteristicProperty"})," 枚举）："]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"属性名"}),(0,n.jsx)(s.th,{children:"说明"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:'"broadcast"'})}),(0,n.jsx)(s.td,{children:"支持广播（较少使用）"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:'"read"'})}),(0,n.jsx)(s.td,{children:"支持读取特征值"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:'"writeWithoutResponse"'})}),(0,n.jsx)(s.td,{children:"支持写入但不要求响应（更快，适用于高频率写入）"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:'"write"'})}),(0,n.jsx)(s.td,{children:"支持写入并要求响应（更安全）"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:'"notify"'})}),(0,n.jsx)(s.td,{children:"支持通知（value 变化时主动推送）"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:'"indicate"'})}),(0,n.jsx)(s.td,{children:"支持指示（带确认的通知）"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:'"authenticatedSignedWrites"'})}),(0,n.jsx)(s.td,{children:"支持认证写入（安全性更高）"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:'"extendedProperties"'})}),(0,n.jsx)(s.td,{children:"包含扩展属性（由额外属性描述符定义）"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:'"notifyEncryptionRequired"'})}),(0,n.jsx)(s.td,{children:"通知需加密（必须加密连接才能启用通知）"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:'"indicateEncryptionRequired"'})}),(0,n.jsx)(s.td,{children:"指示需加密（同上）"})]})]})]}),"\n",(0,n.jsxs)(s.h4,{id:"示例判断",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#示例判断",children:"#"}),"示例判断："]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsxs)(s.code,{children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"characteristic"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"properties"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".includes"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"read"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")) {"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"  const"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" value"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" peripheral"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".readValue"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(characteristic)"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h3,{id:"isnotifying-boolean",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#isnotifying-boolean",children:"#"}),(0,n.jsx)(s.code,{children:"isNotifying: boolean"})]}),"\n",(0,n.jsxs)(s.p,{children:["当前是否处于通知（",(0,n.jsx)(s.code,{children:"notify"}),"）或指示（",(0,n.jsx)(s.code,{children:"indicate"}),"）订阅状态。"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"true"}),": 已启用订阅，设备会推送值变化"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"false"}),": 未启用订阅"]}),"\n"]}),"\n",(0,n.jsxs)(s.blockquote,{children:["\n",(0,n.jsxs)(s.p,{children:["可通过 ",(0,n.jsx)(s.code,{children:"peripheral.subscribe()"})," 和 ",(0,n.jsx)(s.code,{children:"unsubscribe()"})," 控制通知状态。"]}),"\n"]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h3,{id:"value-data--null",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#value-data--null",children:"#"}),(0,n.jsx)(s.code,{children:"value: Data | null"})]}),"\n",(0,n.jsxs)(s.p,{children:["当前特征值的内容，通常在调用 ",(0,n.jsx)(s.code,{children:"readValue()"})," 或接收到通知时更新。"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"Data"})," 为 Scripting 提供的二进制数据类型"]}),"\n",(0,n.jsxs)(s.li,{children:["若尚未读取或写入，此字段可能为 ",(0,n.jsx)(s.code,{children:"null"})]}),"\n"]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h2,{id:"二特征权限",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#二特征权限",children:"#"}),"二、特征权限"]}),"\n",(0,n.jsxs)(s.p,{children:["虽然 ",(0,n.jsx)(s.code,{children:"BluetoothCharacteristic"})," 接口本身不包含权限字段，但在创建或定义特征值（如 Peripheral 模式）时可用下列权限枚举类型："]}),"\n",(0,n.jsxs)(s.h3,{id:"bluetoothattributepermissions-枚举权限类型",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#bluetoothattributepermissions-枚举权限类型",children:"#"}),(0,n.jsx)(s.code,{children:"BluetoothAttributePermissions"})," 枚举（权限类型）"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"权限值"}),(0,n.jsx)(s.th,{children:"说明"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:'"readable"'})}),(0,n.jsx)(s.td,{children:"可被读取"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:'"writeable"'})}),(0,n.jsx)(s.td,{children:"可被写入"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:'"readEncryptionRequired"'})}),(0,n.jsx)(s.td,{children:"读取需加密连接"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:'"writeEncryptionRequired"'})}),(0,n.jsx)(s.td,{children:"写入需加密连接"})]})]})]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h2,{id:"三操作示例",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#三操作示例",children:"#"}),"三、操作示例"]}),"\n",(0,n.jsxs)(s.h3,{id:"读取特征值需支持-read",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#读取特征值需支持-read",children:"#"}),"读取特征值（需支持 ",(0,n.jsx)(s.code,{children:'"read"'}),"）"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsxs)(s.code,{children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"characteristic"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"properties"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".includes"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"read"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")) {"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"  const"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" value"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" peripheral"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".readValue"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(characteristic)"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"  console"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"读取到内容:"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" value"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"?.toRawString"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"())"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h3,{id:"写入特征值需支持-write-或-writewithoutresponse",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#写入特征值需支持-write-或-writewithoutresponse",children:"#"}),"写入特征值（需支持 ",(0,n.jsx)(s.code,{children:'"write"'})," 或 ",(0,n.jsx)(s.code,{children:'"writeWithoutResponse"'}),"）"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsxs)(s.code,{children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" data"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" Data"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".fromRawString"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"COMMAND"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"characteristic"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"properties"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".includes"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"writeWithoutResponse"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")) {"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"  await"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" peripheral"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".writeValue"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(characteristic"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" data"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "withoutResponse"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"} "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"else"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" if"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"characteristic"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"properties"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".includes"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"write"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")) {"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"  await"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" peripheral"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".writeValue"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(characteristic"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" data"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "withResponse"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h3,{id:"订阅通知需支持-notify-或-indicate",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#订阅通知需支持-notify-或-indicate",children:"#"}),"订阅通知（需支持 ",(0,n.jsx)(s.code,{children:'"notify"'})," 或 ",(0,n.jsx)(s.code,{children:'"indicate"'}),"）"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsxs)(s.code,{children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"characteristic"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"properties"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".includes"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"notify"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")) {"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"  await"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" peripheral"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".subscribe"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(characteristic"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" (error"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" value) "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"    if"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" ("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"!"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"error "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"&&"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" value) {"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"      console"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"收到通知:"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" value"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".toHexString"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"())"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"    }"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  })"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h3,{id:"取消通知订阅",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#取消通知订阅",children:"#"}),"取消通知订阅"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsx)(s.code,{children:(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" peripheral"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".unsubscribe"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(characteristic)"})]})})})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h2,{id:"四使用建议与注意事项",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#四使用建议与注意事项",children:"#"}),"四、使用建议与注意事项"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["特征值操作前必须调用 ",(0,n.jsx)(s.code,{children:"discoverCharacteristics(service)"})," 获取特征值列表。"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"不要假设"}),"所有特征值都支持读写，请根据 ",(0,n.jsx)(s.code,{children:"properties"})," 判断支持的操作。"]}),"\n",(0,n.jsxs)(s.li,{children:["通知（Notify）和指示（Indicate）必须先调用 ",(0,n.jsx)(s.code,{children:"subscribe()"}),"，停止时需配套调用 ",(0,n.jsx)(s.code,{children:"unsubscribe()"}),"。"]}),"\n",(0,n.jsxs)(s.li,{children:["使用 ",(0,n.jsx)(s.code,{children:'"writeWithoutResponse"'})," 时，建议配合 ",(0,n.jsx)(s.code,{children:"canSendWriteWithoutResponse"})," 状态控制频率。"]}),"\n",(0,n.jsxs)(s.li,{children:["写入前建议调用 ",(0,n.jsx)(s.code,{children:"maxWriteValueLength()"})," 获取最大支持长度。"]}),"\n"]})]})}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}o.__RSPRESS_PAGE_META={},o.__RSPRESS_PAGE_META["v2%2Fzh%2Fguide%2FDevice%20Capabilities%2FBluetooth%2FBluetoothCharacteristic.md"]={toc:[{id:"一属性字段",text:"一、属性字段",depth:2},{id:"uuid-string",text:"`uuid: string`",depth:3},{id:"serviceuuid-string--null",text:"`serviceUUID: string | null`",depth:3},{id:"properties-bluetoothcharacteristicproperty",text:"`properties: BluetoothCharacteristicProperty[]`",depth:3},{id:"可用的属性bluetoothcharacteristicproperty-枚举",text:"可用的属性（`BluetoothCharacteristicProperty` 枚举）：",depth:4},{id:"示例判断",text:"示例判断：",depth:4},{id:"isnotifying-boolean",text:"`isNotifying: boolean`",depth:3},{id:"value-data--null",text:"`value: Data | null`",depth:3},{id:"二特征权限",text:"二、特征权限",depth:2},{id:"bluetoothattributepermissions-枚举权限类型",text:"`BluetoothAttributePermissions` 枚举（权限类型）",depth:3},{id:"三操作示例",text:"三、操作示例",depth:2},{id:"读取特征值需支持-read",text:'读取特征值（需支持 `"read"`）',depth:3},{id:"写入特征值需支持-write-或-writewithoutresponse",text:'写入特征值（需支持 `"write"` 或 `"writeWithoutResponse"`）',depth:3},{id:"订阅通知需支持-notify-或-indicate",text:'订阅通知（需支持 `"notify"` 或 `"indicate"`）',depth:3},{id:"取消通知订阅",text:"取消通知订阅",depth:3},{id:"四使用建议与注意事项",text:"四、使用建议与注意事项",depth:2}],title:"蓝牙服务特征值",headingTitle:"",frontmatter:{title:"蓝牙服务特征值",description:"表示蓝牙服务（`BluetoothService`）中的一个特征值，是 BLE 设备数据交互的核心单元。",tag:"PRO"}}}}]);