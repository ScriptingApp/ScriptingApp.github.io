"use strict";(self.rspackChunktest=self.rspackChunktest||[]).push([["66238"],{67405(e,n,s){s.r(n),s.d(n,{default:()=>o});var i=s(74848),l=s(28453);function r(e){let n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["LivePhoto 表示一张 ",(0,i.jsx)(n.strong,{children:"系统级 Live Photo"}),"，它由以下两部分组成："]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"一张高分辨率静态图片"}),"\n",(0,i.jsx)(n.li,{children:"一段与图片绑定的短视频（通常为 MOV）"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["在 Scripting 中，LivePhoto 是一个 ",(0,i.jsx)(n.strong,{children:"不可直接 new 的系统对象"}),"，通常来源于："]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"照片选择器返回的结果"}),"\n",(0,i.jsx)(n.li,{children:"使用本地图片与视频文件动态构建"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"LivePhoto 的主要用途包括："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"在界面中实时展示 Live Photo"}),"\n",(0,i.jsx)(n.li,{children:"读取并处理其底层资源（图片 / 视频）"}),"\n",(0,i.jsx)(n.li,{children:"将其拆解、重建或重新保存到系统相册"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"livephoto-类",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#livephoto-类",children:"#"}),"LivePhoto 类"]}),"\n",(0,i.jsxs)(n.h3,{id:"livephotosize",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#livephotosize",children:"#"}),"LivePhoto.size"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"txt",children:(0,i.jsx)(n.code,{children:(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{children:"readonly size: Size"})})})})}),"\n",(0,i.jsxs)(n.p,{children:["表示 Live Photo 的尺寸信息，对应其 ",(0,i.jsx)(n.strong,{children:"主图像（静态图片）"})," 的像素宽高。"]}),"\n",(0,i.jsx)(n.p,{children:"该属性常用于："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"UI 布局约束"}),"\n",(0,i.jsx)(n.li,{children:"计算缩放比例"}),"\n",(0,i.jsx)(n.li,{children:"判断 Live Photo 的原始分辨率"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"livephotogetassetresources",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#livephotogetassetresources",children:"#"}),"LivePhoto.getAssetResources()"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"txt",children:(0,i.jsxs)(n.code,{children:[(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{children:"getAssetResources(): Promise<{"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{children:"  data: Data"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{children:"  assetLocalIdentifier: string"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{children:"  contentType: UTType"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{children:"  originalFilename: string"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{children:"  pixelHeight: number"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{children:"  pixelWidth: number"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{children:"}[]>"})})]})})}),"\n",(0,i.jsxs)(n.p,{children:["用于获取 Live Photo 的 ",(0,i.jsx)(n.strong,{children:"底层资源列表"}),"。"]}),"\n",(0,i.jsx)(n.p,{children:"一个 Live Photo 通常至少包含以下资源："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"静态图片资源（JPEG / HEIC）"}),"\n",(0,i.jsx)(n.li,{children:"视频资源（QuickTime MOV）"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"返回数组中每一项代表一个资源，其字段含义如下："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"data"}),"\n资源的二进制数据，可直接用于写入文件、保存或传输"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"assetLocalIdentifier"}),"\nPhotos 框架中该资源的本地唯一标识"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"contentType"}),"\n资源的统一类型标识（UTType），用于区分图片或视频类型"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"originalFilename"}),"\n系统中该资源的原始文件名"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"pixelWidth"})," / ",(0,i.jsx)(n.code,{children:"pixelHeight"}),"\n该资源的实际像素尺寸"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"典型使用场景包括："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"手动保存 Live Photo（避免中间临时文件）"}),"\n",(0,i.jsx)(n.li,{children:"将 Live Photo 拆解为独立的图片与视频"}),"\n",(0,i.jsx)(n.li,{children:"对 Live Photo 进行自定义导出或重建"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"livephotofromoptions",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#livephotofromoptions",children:"#"}),"LivePhoto.from(options)"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"txt",children:(0,i.jsxs)(n.code,{children:[(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{children:"static from(options: {"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{children:"  imagePath: string"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{children:"  videoPath: string"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{children:"  targetSize?: Size | null"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{children:"  placeholderImage: UIImage | null"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{children:'  contentMode?: "aspectFit" | "aspectFill"'})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{children:"  onResult: (result: LivePhoto | null, info: {"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{children:"    error: string | null"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{children:"    degraded: boolean | null"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{children:"    cancelled: boolean | null"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{children:"  }) => void"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{children:"}): Promise<() => void>"})})]})})}),"\n",(0,i.jsxs)(n.p,{children:["用于 ",(0,i.jsx)(n.strong,{children:"从本地图片文件与视频文件异步构建 Live Photo"}),"。"]}),"\n",(0,i.jsx)(n.p,{children:"该方法的特点如下："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"构建过程是异步的"}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"onResult"})," 可能会被调用多次"]}),"\n",(0,i.jsx)(n.li,{children:"支持降级结果（低质量预览）"}),"\n",(0,i.jsx)(n.li,{children:"支持主动取消请求"}),"\n"]}),"\n",(0,i.jsxs)(n.h4,{id:"参数说明",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#参数说明",children:"#"}),"参数说明"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"imagePath"}),"\n静态图片文件路径，通常为 JPEG 或 HEIC"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"videoPath"}),"\n与图片对应的视频文件路径，通常为 MOV"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"targetSize"}),"\n指定返回 Live Photo 的目标尺寸\n传入 ",(0,i.jsx)(n.code,{children:"null"})," 表示使用原始尺寸"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"placeholderImage"}),"\nLive Photo 尚未加载完成时用于占位显示的 UIImage"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"contentMode"}),"\n占位图的显示方式"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"aspectFit"}),"：完整显示，保持比例"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"aspectFill"}),"：填满区域，可能裁剪"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"onResult(result, info)"}),"\nLive Photo 加载完成或状态更新时触发的回调"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h4,{id:"info-参数说明",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#info-参数说明",children:"#"}),"info 参数说明"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"error"}),"\n构建失败时的错误信息"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"degraded"}),"\n表示当前结果是否为低质量版本"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"cancelled"}),"\n表示请求是否被取消"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h4,{id:"返回值",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#返回值",children:"#"}),"返回值"]}),"\n",(0,i.jsxs)(n.p,{children:["该方法返回一个 Promise，成功后解析为一个 ",(0,i.jsx)(n.strong,{children:"可取消函数"}),"："]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"txt",children:(0,i.jsx)(n.code,{children:(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{children:"() => void"})})})})}),"\n",(0,i.jsx)(n.p,{children:"调用该函数可立即取消 Live Photo 的加载过程。"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"livephotoview-组件",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#livephotoview-组件",children:"#"}),"LivePhotoView 组件"]}),"\n",(0,i.jsxs)(n.p,{children:["LivePhotoView 是用于 ",(0,i.jsx)(n.strong,{children:"在界面中展示 Live Photo 的原生视图组件"}),"，行为与系统 Photos App 中的 Live Photo 播放体验一致。"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"livephotoviewprops",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#livephotoviewprops",children:"#"}),"LivePhotoViewProps"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"txt",children:(0,i.jsxs)(n.code,{children:[(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{children:"type LivePhotoViewProps = {"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{children:"  livePhoto: Observable<LivePhoto | null>"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{children:"}"})})]})})}),"\n",(0,i.jsxs)(n.h4,{id:"livephoto",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#livephoto",children:"#"}),"livePhoto"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["类型：",(0,i.jsx)(n.code,{children:"Observable<LivePhoto | null>"})]}),"\n",(0,i.jsx)(n.li,{children:"必填"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"该属性用于绑定当前要显示的 Live Photo。"}),"\n",(0,i.jsxs)(n.p,{children:["设计为 ",(0,i.jsx)(n.code,{children:"Observable"})," 的原因是："]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Live Photo 通常是异步获取的"}),"\n",(0,i.jsx)(n.li,{children:"允许在同一个视图中动态切换 Live Photo"}),"\n",(0,i.jsx)(n.li,{children:"便于与选择器、加载逻辑解耦"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"当 Observable 的值发生变化时，LivePhotoView 会自动更新显示内容。"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"使用示例说明",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#使用示例说明",children:"#"}),"使用示例说明"]}),"\n",(0,i.jsx)(n.p,{children:"以下示例展示了一个典型使用流程："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"用户选择一张 Live Photo"}),"\n",(0,i.jsx)(n.li,{children:"将 Live Photo 存入 Observable"}),"\n",(0,i.jsx)(n.li,{children:"LivePhotoView 自动展示并播放该 Live Photo"}),"\n"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"tsx",children:(0,i.jsxs)(n.code,{children:[(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" { LivePhotoView"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" Button"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" useObservable } "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "scripting"'})]}),"\n",(0,i.jsx)(n.span,{className:"line"}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:" Example"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"() {"})]}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"  const"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" livePhoto"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:" useObservable"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"LivePhoto"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" |"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" null"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:">("}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"null"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,i.jsx)(n.span,{className:"line"}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"  return"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" <>"})]}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"    <"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"Button"})]}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"      title"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Set Live Photo"'})]}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"      action"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"{"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"async"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" () "}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"        const"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" lp"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:" getLivePhotoSomehow"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"()"})]}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"        livePhoto"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".setValue"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(lp)"})]}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"      }}"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"    />"})}),"\n",(0,i.jsx)(n.span,{className:"line"}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"    <"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"LivePhotoView"})]}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"      livePhoto"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"{livePhoto}"})]}),"\n",(0,i.jsxs)(n.span,{className:"line",children:[(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"      frame"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"{{ idealHeight"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" 300"}),(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" }}"})]}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"    />"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  </>"})}),"\n",(0,i.jsx)(n.span,{className:"line",children:(0,i.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,i.jsxs)(n.h3,{id:"核心流程说明",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#核心流程说明",children:"#"}),"核心流程说明"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["使用 ",(0,i.jsx)(n.code,{children:"useObservable<LivePhoto | null>"})," 创建可观察状态"]}),"\n",(0,i.jsxs)(n.li,{children:["在用户选择 Live Photo 后，通过 ",(0,i.jsx)(n.code,{children:"setValue"})," 更新状态"]}),"\n",(0,i.jsx)(n.li,{children:"LivePhotoView 自动响应状态变化并展示内容"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"LivePhotoView 不负责："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Live Photo 的获取"}),"\n",(0,i.jsx)(n.li,{children:"权限处理"}),"\n",(0,i.jsx)(n.li,{children:"数据保存"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["它仅专注于 ",(0,i.jsx)(n.strong,{children:"展示与交互体验"}),"。"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"设计原则与注意事项",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#设计原则与注意事项",children:"#"}),"设计原则与注意事项"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"LivePhoto 是系统资源对象，生命周期由系统管理"}),"\n",(0,i.jsx)(n.li,{children:"LivePhotoView 必须绑定 Observable，而不是直接传值"}),"\n",(0,i.jsx)(n.li,{children:"同一个 LivePhoto 实例可被多个 LivePhotoView 使用"}),"\n",(0,i.jsx)(n.li,{children:"Live Photo 的加载与 UI 渲染解耦，推荐始终通过 Observable 驱动"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"总结",children:[(0,i.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#总结",children:"#"}),"总结"]}),"\n",(0,i.jsx)(n.p,{children:"LivePhoto 相关能力在 Scripting 中主要由两部分组成："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"LivePhoto 数据模型"}),"\n用于表示、构建和解析系统 Live Photo"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"LivePhotoView 展示组件"}),"\n用于以原生方式展示 Live Photo，并支持动态更新"]}),"\n"]}),"\n"]})]})}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(r,{...e})}):r(e)}o.__RSPRESS_PAGE_META={},o.__RSPRESS_PAGE_META["zh%2Fguide%2FChangelog%2F2.4.5%2FLivePhotoView.md"]={toc:[{id:"livephoto-类",text:"LivePhoto 类",depth:2},{id:"livephotosize",text:"LivePhoto.size",depth:3},{id:"livephotogetassetresources",text:"LivePhoto.getAssetResources()",depth:3},{id:"livephotofromoptions",text:"LivePhoto.from(options)",depth:3},{id:"参数说明",text:"参数说明",depth:4},{id:"info-参数说明",text:"info 参数说明",depth:4},{id:"返回值",text:"返回值",depth:4},{id:"livephotoview-组件",text:"LivePhotoView 组件",depth:2},{id:"livephotoviewprops",text:"LivePhotoViewProps",depth:3},{id:"livephoto",text:"livePhoto",depth:4},{id:"使用示例说明",text:"使用示例说明",depth:2},{id:"核心流程说明",text:"核心流程说明",depth:3},{id:"设计原则与注意事项",text:"设计原则与注意事项",depth:2},{id:"总结",text:"总结",depth:2}],title:"LivePhotoView",headingTitle:"",frontmatter:{title:"LivePhotoView",description:"该组件适用于在界面中展示 Live Photo 的媒体中心场景。"}}}}]);