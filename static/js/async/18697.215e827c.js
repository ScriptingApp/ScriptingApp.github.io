"use strict";(self.rspackChunktest=self.rspackChunktest||[]).push([["18697"],{55024(e,s,r){r.r(s),r.d(s,{default:()=>l});var n=r(74848),i=r(28453);function o(e){let s={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"VideoRecorderPreviewView"})," is a UI component used to display the live video feed produced by ",(0,n.jsx)(s.code,{children:"VideoRecorder"}),".\nIt is a ",(0,n.jsx)(s.strong,{children:"pure preview component"})," and does ",(0,n.jsx)(s.strong,{children:"not"})," manage recording logic or state."]}),"\n",(0,n.jsx)(s.p,{children:"Its responsibilities include:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Rendering the real-time camera preview"}),"\n",(0,n.jsxs)(s.li,{children:["Supporting different video fill modes (",(0,n.jsx)(s.code,{children:"videoGravity"}),")"]}),"\n",(0,n.jsx)(s.li,{children:"Handling mirrored display (commonly for the front camera)"}),"\n",(0,n.jsx)(s.li,{children:"Applying visual effects such as corner radius and clipping"}),"\n",(0,n.jsx)(s.li,{children:"Composing with gestures to implement zoom, focus, or exposure interactions"}),"\n"]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h2,{id:"design-principles",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#design-principles",children:"#"}),"Design Principles"]}),"\n",(0,n.jsxs)(s.h3,{id:"decoupled-from-recording-logic",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#decoupled-from-recording-logic",children:"#"}),"Decoupled from Recording Logic"]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"VideoRecorderPreviewView"}),":"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Does not start, stop, or control recording"}),"\n",(0,n.jsxs)(s.li,{children:["Does not observe or depend on ",(0,n.jsx)(s.code,{children:"VideoRecorder.State"})]}),"\n",(0,n.jsx)(s.li,{children:"Does not manage camera or encoder configuration"}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:["It only binds to the capture session managed by ",(0,n.jsx)(s.code,{children:"VideoRecorder"}),"."]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h3,{id:"one-way-dependency",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#one-way-dependency",children:"#"}),"One-Way Dependency"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"txt",children:(0,n.jsx)(s.code,{children:(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{children:"VideoRecorder  ──▶  AVCaptureSession  ──▶  VideoRecorderPreviewView"})})})})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["The capture session lifecycle is owned by ",(0,n.jsx)(s.code,{children:"VideoRecorder"})]}),"\n",(0,n.jsx)(s.li,{children:"The preview view is a passive consumer for rendering only"}),"\n"]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h2,{id:"props-definition",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#props-definition",children:"#"}),"Props Definition"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsxs)(s.code,{children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:" VideoRecorderPreviewViewProps"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  videoGravity"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "resizeAspect"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" |"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "resizeAspectFill"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" |"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "resize"'})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  isVideoMirrored"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" boolean"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  cornerRadius"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" number"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  masksToBounds"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" boolean"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"}"})})]})})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h2,{id:"videogravity",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#videogravity",children:"#"}),"videoGravity"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsx)(s.code,{children:(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"videoGravity"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "resizeAspect"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" |"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "resizeAspectFill"'}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:" |"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "resize"'})]})})})}),"\n",(0,n.jsxs)(s.p,{children:["Controls how the video content is scaled and positioned within the view.\nThis maps directly to ",(0,n.jsx)(s.code,{children:"AVLayerVideoGravity"}),"."]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"resizeAspect"}),"\nPreserves aspect ratio and fits the entire video within the view.\nBlack bars may appear."]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"resizeAspectFill"})," (default)\nPreserves aspect ratio and fills the view, potentially cropping edges."]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"resize"}),"\nStretches the video to fill the view without preserving aspect ratio."]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"Choose the mode based on UI and layout requirements."}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h2,{id:"isvideomirrored",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#isvideomirrored",children:"#"}),"isVideoMirrored"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsx)(s.code,{children:(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"isVideoMirrored"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" boolean"})]})})})}),"\n",(0,n.jsx)(s.p,{children:"Determines whether the preview image is horizontally mirrored."}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"true"}),"\nThe preview is mirrored, typically used for front-facing cameras."]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"false"})," (default)\nThe preview is displayed in its original orientation."]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(s.blockquote,{children:["\n",(0,n.jsxs)(s.p,{children:["Note:\nThis property affects ",(0,n.jsx)(s.strong,{children:"preview rendering only"})," and does not change how the recorded video file is encoded."]}),"\n"]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h2,{id:"cornerradius",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#cornerradius",children:"#"}),"cornerRadius"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsx)(s.code,{children:(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"cornerRadius"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" number"})]})})})}),"\n",(0,n.jsx)(s.p,{children:"Specifies the corner radius applied to the preview view’s background."}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Default value: ",(0,n.jsx)(s.code,{children:"0"})]}),"\n",(0,n.jsx)(s.li,{children:"Affects only the view’s background by default"}),"\n",(0,n.jsxs)(s.li,{children:["To clip the video content itself, ",(0,n.jsx)(s.code,{children:"masksToBounds"})," must be set to ",(0,n.jsx)(s.code,{children:"true"})]}),"\n"]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h2,{id:"maskstobounds",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#maskstobounds",children:"#"}),"masksToBounds"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsx)(s.code,{children:(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"masksToBounds"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" boolean"})]})})})}),"\n",(0,n.jsx)(s.p,{children:"Controls whether the preview content is clipped to the view’s bounds."}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"false"})," (default)\nRounded corners apply only to the background; the video content is not clipped."]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"true"}),"\nThe video content is clipped to the rounded corners."]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:["Typically used together with ",(0,n.jsx)(s.code,{children:"cornerRadius"}),"."]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h2,{id:"lifecycle-and-update-behavior",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#lifecycle-and-update-behavior",children:"#"}),"Lifecycle and Update Behavior"]}),"\n",(0,n.jsxs)(s.h3,{id:"relationship-with-declarative-ui-frameworks",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#relationship-with-declarative-ui-frameworks",children:"#"}),"Relationship with Declarative UI Frameworks"]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"VideoRecorderPreviewView"})," is a declarative component whose underlying native preview layer (for example, an ",(0,n.jsx)(s.code,{children:"AVCaptureVideoPreviewLayer"}),") is intended to persist across updates."]}),"\n",(0,n.jsx)(s.p,{children:"Important considerations:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Recreating the view instance"}),"\nMay cause the underlying preview layer to be rebound to the capture session."]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Frequent view reconstruction"}),"\nCan lead to brief stutters, flashes, or preview interruptions."]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h3,{id:"importance-of-the-key-property",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#importance-of-the-key-property",children:"#"}),"Importance of the ",(0,n.jsx)(s.code,{children:"key"})," Property"]}),"\n",(0,n.jsx)(s.p,{children:"In dynamic UI scenarios such as camera switching or session reconfiguration:"}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"tsx",children:(0,n.jsxs)(s.code,{children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"VideoRecorderPreviewView"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"  key"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"videoRecorder"'})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  ..."})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"/>"})})]})})}),"\n",(0,n.jsx)(s.p,{children:"Best practices:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Always provide a stable, unique ",(0,n.jsx)(s.code,{children:"key"})]}),"\n",(0,n.jsx)(s.li,{children:"Ensures the preview view remains correctly bound to the current capture session"}),"\n",(0,n.jsx)(s.li,{children:"Prevents unnecessary destruction and recreation caused by diffing mismatches"}),"\n"]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h2,{id:"cooperation-with-videorecorder",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#cooperation-with-videorecorder",children:"#"}),"Cooperation with VideoRecorder"]}),"\n",(0,n.jsxs)(s.h3,{id:"capture-session-source",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#capture-session-source",children:"#"}),"Capture Session Source"]}),"\n",(0,n.jsxs)(s.p,{children:["Internally, ",(0,n.jsx)(s.code,{children:"VideoRecorderPreviewView"})," binds to:"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsx)(s.code,{children:(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"VideoRecorder"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:".session"})]})})})}),"\n",(0,n.jsx)(s.p,{children:"The preview view does not create or manage the session itself."}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h3,{id:"behavior-when-the-session-is-reset",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#behavior-when-the-session-is-reset",children:"#"}),"Behavior When the Session Is Reset"]}),"\n",(0,n.jsx)(s.p,{children:"When calling:"}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,n.jsx)(s.code,{children:(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" VideoRecorder"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".reset"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"()"})]})})})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["The underlying ",(0,n.jsx)(s.code,{children:"AVCaptureSession"})," is stopped and released"]}),"\n",(0,n.jsx)(s.li,{children:"The preview may freeze or display a blank frame"}),"\n",(0,n.jsxs)(s.li,{children:["After calling ",(0,n.jsx)(s.code,{children:"prepare"})," again, the preview resumes automatically"]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"No additional handling is required in the preview view."}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h2,{id:"gestures-and-interaction-composition",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#gestures-and-interaction-composition",children:"#"}),"Gestures and Interaction Composition"]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"VideoRecorderPreviewView"})," does ",(0,n.jsx)(s.strong,{children:"not"})," include built-in gesture handling.\nInstead, it is designed to compose with the gesture system:"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"tsx",children:(0,n.jsxs)(s.code,{children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"VideoRecorderPreviewView"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"  gesture"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"{"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"    MagnifyGesture"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"()"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"      .onChanged"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"(details "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:" {"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"        VideoRecorder"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".setZoomFactor"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"("}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"..."}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:")"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"      })"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"  }"})}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"/>"})})]})})}),"\n",(0,n.jsx)(s.p,{children:"Common interaction patterns:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Pinch gesture → adjust zoom via ",(0,n.jsx)(s.code,{children:"setZoomFactor"})]}),"\n",(0,n.jsxs)(s.li,{children:["Tap gesture → convert to normalized coordinates and call ",(0,n.jsx)(s.code,{children:"setFocusPoint"})]}),"\n",(0,n.jsx)(s.li,{children:"Long press → lock or adjust exposure"}),"\n"]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h2,{id:"usage-recommendations",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#usage-recommendations",children:"#"}),"Usage Recommendations"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:["Avoid recreating the preview view while in the ",(0,n.jsx)(s.code,{children:"recording"})," state"]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.p,{children:"When switching cameras:"}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{children:["Call ",(0,n.jsx)(s.code,{children:"VideoRecorder.reset()"})]}),"\n",(0,n.jsxs)(s.li,{children:["Call ",(0,n.jsx)(s.code,{children:"VideoRecorder.prepare(...)"})]}),"\n",(0,n.jsxs)(s.li,{children:["Keep the preview view ",(0,n.jsx)(s.code,{children:"key"})," stable"]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.p,{children:"Apply mirroring, rounding, and clipping at the preview layer"}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:["Perform all recording control through ",(0,n.jsx)(s.code,{children:"VideoRecorder"}),", not the preview view"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h2,{id:"minimal-example",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#minimal-example",children:"#"}),"Minimal Example"]}),"\n",(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"tsx",children:(0,n.jsxs)(s.code,{children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"VideoRecorderPreviewView"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"  key"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"videoRecorder"'})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"  videoGravity"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"resizeAspectFill"'})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"  isVideoMirrored"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"{"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"true"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"}"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"  cornerRadius"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"{"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"12"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"}"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"  masksToBounds"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"{"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"true"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"}"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-foreground)"},children:"/>"})})]})})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h2,{id:"summary",children:[(0,n.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#summary",children:"#"}),"Summary"]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"VideoRecorderPreviewView"})," is a ",(0,n.jsx)(s.strong,{children:"pure rendering component"}),":"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Renders the live camera feed"}),"\n",(0,n.jsx)(s.li,{children:"Does not manage recording state or lifecycle"}),"\n",(0,n.jsxs)(s.li,{children:["Depends on ",(0,n.jsx)(s.code,{children:"VideoRecorder"})," via a one-way capture session relationship"]}),"\n",(0,n.jsx)(s.li,{children:"Designed for flexible composition with gestures and UI layout"}),"\n"]})]})}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["TestFlight%2Fen%2Fguide%2FChangelog%2F2.4.7%2FVideoRecorder%2FVideoRecorderPreviewView.md"]={toc:[{id:"design-principles",text:"Design Principles",depth:2},{id:"decoupled-from-recording-logic",text:"Decoupled from Recording Logic",depth:3},{id:"one-way-dependency",text:"One-Way Dependency",depth:3},{id:"props-definition",text:"Props Definition",depth:2},{id:"videogravity",text:"videoGravity",depth:2},{id:"isvideomirrored",text:"isVideoMirrored",depth:2},{id:"cornerradius",text:"cornerRadius",depth:2},{id:"maskstobounds",text:"masksToBounds",depth:2},{id:"lifecycle-and-update-behavior",text:"Lifecycle and Update Behavior",depth:2},{id:"relationship-with-declarative-ui-frameworks",text:"Relationship with Declarative UI Frameworks",depth:3},{id:"importance-of-the-key-property",text:"Importance of the `key` Property",depth:3},{id:"cooperation-with-videorecorder",text:"Cooperation with VideoRecorder",depth:2},{id:"capture-session-source",text:"Capture Session Source",depth:3},{id:"behavior-when-the-session-is-reset",text:"Behavior When the Session Is Reset",depth:3},{id:"gestures-and-interaction-composition",text:"Gestures and Interaction Composition",depth:2},{id:"usage-recommendations",text:"Usage Recommendations",depth:2},{id:"minimal-example",text:"Minimal Example",depth:2},{id:"summary",text:"Summary",depth:2}],title:"VideoRecorderPreviewView",headingTitle:"",frontmatter:{title:"VideoRecorderPreviewView",description:"Learn how to use VideoRecorderPreviewView.",tag:"PRO"}}}}]);