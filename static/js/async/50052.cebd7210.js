"use strict";(self.rspackChunktest=self.rspackChunktest||[]).push([["50052"],{25487(s,n,e){e.r(n),e.d(n,{default:()=>a});var r=e(74848),i=e(28453);function l(s){let n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,i.R)(),...s.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Translation"})," API 提供了将文本在不同语言之间翻译的能力，支持单条文本和批量文本的翻译，适用于 ",(0,r.jsx)(n.strong,{children:"iOS 18.0 及以上系统"}),"。"]}),"\n",(0,r.jsxs)(n.h2,{id:"概览",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#概览",children:"#"}),"概览"]}),"\n",(0,r.jsxs)(n.p,{children:["此 API 通过 ",(0,r.jsx)(n.code,{children:"Translation"})," 类提供，包含以下功能："]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["共享的全局翻译实例 ",(0,r.jsx)(n.code,{children:"Translation.shared"})]}),"\n",(0,r.jsx)(n.li,{children:"翻译单条文本"}),"\n",(0,r.jsx)(n.li,{children:"翻译多条文本（批量翻译）"}),"\n",(0,r.jsx)(n.li,{children:"支持自动检测源语言并根据设备偏好选择目标语言"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h2,{id:"类translation",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#类translation",children:"#"}),"类：",(0,r.jsx)(n.code,{children:"Translation"})]}),"\n",(0,r.jsxs)(n.h3,{id:"translationshared-translation",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#translationshared-translation",children:"#"}),(0,r.jsx)(n.code,{children:"Translation.shared: Translation"})]}),"\n",(0,r.jsxs)(n.p,{children:["提供一个共享的 ",(0,r.jsx)(n.code,{children:"Translation"})," 实例，适用于无界面脚本或需要复用统一翻译主机的场景。"]}),"\n",(0,r.jsxs)(n.h4,{id:"示例",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#示例",children:"#"}),"示例"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,r.jsxs)(n.code,{children:[(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" translated"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" Translation"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"shared"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".translate"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"({"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  text"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "Hello, world!"'}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  source"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "en"'}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  target"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "es"'})]}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"})"})}),"\n",(0,r.jsx)(n.span,{className:"line"}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"console"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(translated) "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:'// 输出: "¡Hola, mundo!"'})]})]})})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h3,{id:"方法translateoptions-promisestring",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#方法translateoptions-promisestring",children:"#"}),"方法：",(0,r.jsx)(n.code,{children:"translate(options): Promise<string>"})]}),"\n",(0,r.jsx)(n.p,{children:"将一段文本从源语言翻译为目标语言。"}),"\n",(0,r.jsxs)(n.h4,{id:"参数",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#参数",children:"#"}),"参数"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"options.text: string"}),"\n要翻译的文本内容。"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"options.source?: string"}),"\n源语言代码，例如 ",(0,r.jsx)(n.code,{children:'"en"'})," 表示英语。如果省略或为 ",(0,r.jsx)(n.code,{children:"null"}),"，系统将自动尝试识别源语言，并在不确定时提示用户选择。"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"options.target?: string"}),"\n目标语言代码，例如 ",(0,r.jsx)(n.code,{children:'"es"'})," 表示西班牙语。如果省略或为 ",(0,r.jsx)(n.code,{children:"null"}),"，系统将根据设备的 ",(0,r.jsx)(n.code,{children:"Device.preferredLanguages"})," 和源语言自动选择目标语言。"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.h4,{id:"返回值",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#返回值",children:"#"}),"返回值"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Promise<string>"})," — 返回一个 Promise，解析为翻译后的文本字符串。"]}),"\n"]}),"\n",(0,r.jsxs)(n.h4,{id:"异常",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#异常",children:"#"}),"异常"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"翻译失败时会抛出错误（例如网络问题、不支持的语言等）。"}),"\n"]}),"\n",(0,r.jsxs)(n.h4,{id:"示例-1",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#示例-1",children:"#"}),"示例"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,r.jsxs)(n.code,{children:[(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" translated"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" Translation"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"shared"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".translate"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"({"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  text"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "Good morning"'}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  target"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "fr"'})]}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"})"})}),"\n",(0,r.jsx)(n.span,{className:"line"}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"console"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(translated) "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:'// 输出: "Bonjour"'})]})]})})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h3,{id:"方法translatebatchoptions-promisestring",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#方法translatebatchoptions-promisestring",children:"#"}),"方法：",(0,r.jsx)(n.code,{children:"translateBatch(options): Promise<string[]>"})]}),"\n",(0,r.jsx)(n.p,{children:"将多个文本条目从源语言翻译为目标语言，支持批量处理。"}),"\n",(0,r.jsxs)(n.h4,{id:"参数-1",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#参数-1",children:"#"}),"参数"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"options.texts: string[]"}),"\n要翻译的文本数组。返回的翻译结果与输入顺序一一对应。"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"options.source?: string"}),"\n源语言代码，作用同 ",(0,r.jsx)(n.code,{children:"translate"})," 方法。"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"options.target?: string"}),"\n目标语言代码，作用同 ",(0,r.jsx)(n.code,{children:"translate"})," 方法。"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.h4,{id:"返回值-1",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#返回值-1",children:"#"}),"返回值"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Promise<string[]>"})," — 返回一个 Promise，解析为翻译后的文本数组。"]}),"\n"]}),"\n",(0,r.jsxs)(n.h4,{id:"异常-1",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#异常-1",children:"#"}),"异常"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"如果翻译过程中出现任何错误，会抛出异常。"}),"\n"]}),"\n",(0,r.jsxs)(n.h4,{id:"示例-2",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#示例-2",children:"#"}),"示例"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(n.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"ts",children:(0,r.jsxs)(n.code,{children:[(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" results"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" ="}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:" await"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:" Translation"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"shared"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".translateBatch"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"({"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  texts"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:" ["}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Hello"'}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "Good night"'}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "Thank you"'}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"]"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  source"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "en"'}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"  target"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "ja"'})]}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"})"})}),"\n",(0,r.jsx)(n.span,{className:"line"}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"console"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-foreground)"},children:"(results)"})]}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:'// 输出: ["こんにちは", "おやすみなさい", "ありがとう"]'})})]})})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h2,{id:"注意事项",children:[(0,r.jsx)(n.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#注意事项",children:"#"}),"注意事项"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["语言代码应使用 ",(0,r.jsx)(n.a,{href:"https://zh.wikipedia.org/wiki/ISO_639-1",rel:"noopener noreferrer",target:"_blank",children:"ISO 639-1"})," 标准（如 ",(0,r.jsx)(n.code,{children:'"en"'})," 表示英语，",(0,r.jsx)(n.code,{children:'"zh"'})," 表示中文，",(0,r.jsx)(n.code,{children:'"de"'})," 表示德语）。"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"API 使用系统级翻译服务，部分情况下可能弹出语言选择提示。"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["在以下场景中应使用 ",(0,r.jsx)(n.code,{children:"translationHost"})," 视图修饰符："]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"在用户界面中进行翻译操作"}),"\n当你的脚本包含用户界面（例如使用 ",(0,r.jsx)(n.code,{children:"<VStack>"}),"、",(0,r.jsx)(n.code,{children:"<List>"})," 等）并使用自定义的 ",(0,r.jsx)(n.code,{children:"Translation"})," 实例（例如通过 ",(0,r.jsx)(n.code,{children:"new Translation()"})," 创建）执行翻译时，",(0,r.jsx)(n.strong,{children:"必须"}),"将 ",(0,r.jsx)(n.code,{children:"translationHost"})," 应用于根视图，以便系统能够弹出权限请求、语言下载提示或源语言选择对话框。"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsxs)(n.strong,{children:["未指定源语言（",(0,r.jsx)(n.code,{children:"source"})," 为 ",(0,r.jsx)(n.code,{children:"null"}),"）"]}),"\n如果在翻译请求中省略了 ",(0,r.jsx)(n.code,{children:"source"})," 字段，依赖系统自动检测语言，当检测失败时，",(0,r.jsx)(n.code,{children:"translationHost"})," 可确保系统能够提示用户手动选择源语言。"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"可能需要下载语言包"}),"\n如果设备未安装所需的源语言或目标语言，",(0,r.jsx)(n.code,{children:"translationHost"})," 允许系统向用户弹出下载提示，从而完成翻译任务。"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["如果你使用的是预设绑定的 ",(0,r.jsx)(n.code,{children:"Translation.shared"})," 实例，并且脚本不涉及任何界面（如后台运行的脚本），则",(0,r.jsx)(n.strong,{children:"不需要"}),"设置 ",(0,r.jsx)(n.code,{children:"translationHost"}),"。"]}),"\n"]}),"\n"]})]})}function a(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}={...(0,i.R)(),...s.components};return n?(0,r.jsx)(n,{...s,children:(0,r.jsx)(l,{...s})}):l(s)}a.__RSPRESS_PAGE_META={},a.__RSPRESS_PAGE_META["v1%2Fzh%2Fguide%2FDevice%20Capabilities%2FTranslation.md"]={toc:[{id:"概览",text:"概览",depth:2},{id:"类translation",text:"类：`Translation`",depth:2},{id:"translationshared-translation",text:"`Translation.shared: Translation`",depth:3},{id:"示例",text:"示例",depth:4},{id:"方法translateoptions-promisestring",text:"方法：`translate(options): Promise<string>`",depth:3},{id:"参数",text:"参数",depth:4},{id:"返回值",text:"返回值",depth:4},{id:"异常",text:"异常",depth:4},{id:"示例-1",text:"示例",depth:4},{id:"方法translatebatchoptions-promisestring",text:"方法：`translateBatch(options): Promise<string[]>`",depth:3},{id:"参数-1",text:"参数",depth:4},{id:"返回值-1",text:"返回值",depth:4},{id:"异常-1",text:"异常",depth:4},{id:"示例-2",text:"示例",depth:4},{id:"注意事项",text:"注意事项",depth:2}],title:"翻译",headingTitle:"",frontmatter:{title:"翻译",description:"该接口提供语言翻译功能，允许您在不同语言之间翻译文本。",tag:"PRO"}}}}]);